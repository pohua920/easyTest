<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<!--  mantis：MOB0001，處理人員：CC009，需求單編號：MOB0001 遠傳手機保險投保&批改作業 -->
<sqlMap namespace="MobileInsBatchInfo">
  <resultMap class="com.tlg.msSqlMob.entity.MobileInsBatchInfo" id="BaseResultMap">
    <result column="oid" jdbcType="DECIMAL" property="oid" />
    <result column="batch_date" jdbcType="VARCHAR" property="batchDate" />
    <result column="batch_status" jdbcType="VARCHAR" property="batchStatus" />
    <result column="batch_check_status" jdbcType="VARCHAR" property="batchCheckStatus" />
    <result column="rpt_batch_no" jdbcType="VARCHAR" property="rptBatchNo" />
    <result column="total_count" jdbcType="VARCHAR" property="totalCount" />
    <result column="total_record" jdbcType="VARCHAR" property="totalRecord" />
    <result column="created_by" jdbcType="VARCHAR" property="createdBy" />
    <result column="created_time" jdbcType="TIMESTAMP" property="createdTime" />
    <result column="modified_by" jdbcType="VARCHAR" property="modifiedBy" />
    <result column="modified_time" jdbcType="TIMESTAMP" property="modifiedTime" />
    <result column="current_record" jdbcType="VARCHAR" property="currentRecord" />
    <!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 START -->
    <result column="data_src" jdbcType="VARCHAR" property="dataSrc" />
    <!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 END -->
  </resultMap>
  
  <select id="select" parameterClass="java.util.Map" resultMap="BaseResultMap">
  	<include refid="Utils.msSql1" />
    select * from MOBILE_INS_BATCH_INFO
    <dynamic prepend="WHERE">
      <!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 START -->
	  <isNotEmpty prepend="AND" property="dataSrc">
		data_src = #dataSrc:VARCHAR#
	  </isNotEmpty>
	  <!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 END -->
      <isNotEmpty prepend="AND" property="oid">
        oid = #oid:DECIMAL#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="batchDate">
        batch_date = #batchDate:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="batchStatus">
        batch_status = #batchStatus:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="batchCheckStatus">
        batch_check_status = #batchCheckStatus:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="rptBatchNo">
        rpt_batch_no = #rptBatchNo:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="totalCount">
        total_count = #totalCount:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="totalRecord">
        total_record = #totalRecord:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="createdBy">
        created_by = #createdBy:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="createdTime">
        created_time = #createdTime:TIMESTAMP#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="modifiedBy">
        modified_by = #modifiedBy:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="modifiedTime">
        modified_time = #modifiedTime:TIMESTAMP#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="currentRecord">
        current_record = #currentRecord:VARCHAR#
      </isNotEmpty>
    </dynamic>
    <include refid="Utils.msSql2" />
  </select>
  
  <select id="selectByParams" parameterClass="java.util.Map" resultMap="BaseResultMap">
    select * from MOBILE_INS_BATCH_INFO
    <dynamic prepend="WHERE">
      <!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 START -->
	  <isNotEmpty prepend="AND" property="dataSrc">
		data_src = #dataSrc:VARCHAR#
	  </isNotEmpty>
	  <!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 END -->
      <isNotEmpty prepend="AND" property="oid">
        oid = #oid:DECIMAL#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="batchDate">
        batch_date = #batchDate:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="batchStatus">
        batch_status = #batchStatus:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="batchCheckStatus">
        batch_check_status = #batchCheckStatus:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="rptBatchNo">
        rpt_batch_no = #rptBatchNo:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="totalCount">
        total_count = #totalCount:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="totalRecord">
        total_record = #totalRecord:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="createdBy">
        created_by = #createdBy:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="createdTime">
        created_time = #createdTime:TIMESTAMP#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="modifiedBy">
        modified_by = #modifiedBy:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="modifiedTime">
        modified_time = #modifiedTime:TIMESTAMP#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="currentRecord">
        current_record = #currentRecord:VARCHAR#
      </isNotEmpty>
    </dynamic>
  </select>
  
  <select id="count" parameterClass="java.util.Map" resultClass="java.lang.Integer">
    select COUNT(*) from MOBILE_INS_BATCH_INFO
    <dynamic prepend="WHERE">
      <!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 START -->
	  <isNotEmpty prepend="AND" property="dataSrc">
		data_src = #dataSrc:VARCHAR#
	  </isNotEmpty>
	  <!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 END -->
      <isNotEmpty prepend="AND" property="oid">
        oid = #oid:DECIMAL#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="batchDate">
        batch_date = #batchDate:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="batchStatus">
        batch_status = #batchStatus:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="batchCheckStatus">
        batch_check_status = #batchCheckStatus:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="rptBatchNo">
        rpt_batch_no = #rptBatchNo:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="totalCount">
        total_count = #totalCount:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="totalRecord">
        total_record = #totalRecord:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="createdBy">
        created_by = #createdBy:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="createdTime">
        created_time = #createdTime:TIMESTAMP#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="modifiedBy">
        modified_by = #modifiedBy:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="modifiedTime">
        modified_time = #modifiedTime:TIMESTAMP#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="currentRecord">
        current_record = #currentRecord:VARCHAR#
      </isNotEmpty>
    </dynamic>
  </select>
  
  <delete id="deleteByEntity" parameterClass="com.tlg.msSqlMob.entity.MobileInsBatchInfo">
    delete from MOBILE_INS_BATCH_INFO
    where oid = #oid:DECIMAL#
  </delete>
  
  <select id="selectByUK" resultMap="BaseResultMap" parameterClass="java.util.Map" >
		SELECT * FROM MOBILE_INS_BATCH_INFO
		where oid = #oid:DECIMAL#
	</select>
	
	<select id="countByUK" resultClass="java.lang.Integer" parameterClass="com.tlg.msSqlMob.entity.MobileInsBatchInfo" >
		SELECT COUNT(*) FROM MOBILE_INS_BATCH_INFO
		where oid = #oid:DECIMAL#
	</select>
  
  <insert id="insert" parameterClass="com.tlg.msSqlMob.entity.MobileInsBatchInfo" >
	  <selectKey resultClass="java.math.BigDecimal" keyProperty="oid">
	    SELECT IDENT_CURRENT ('MOBILE_INS_BATCH_INFO')+1 AS oid;
	  </selectKey>
    insert into MOBILE_INS_BATCH_INFO (batch_date, batch_status, batch_check_status, 
      rpt_batch_no, total_count, total_record, created_by, 
      <!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 START -->
      created_time, modified_by, modified_time, current_record, data_src
      )
    values (#batchDate:VARCHAR#, #batchStatus:VARCHAR#, #batchCheckStatus:VARCHAR#, 
      #rptBatchNo:VARCHAR#, #totalCount:VARCHAR#, #totalRecord:VARCHAR#, #createdBy:VARCHAR#, 
      #createdTime:TIMESTAMP#, #modifiedBy:VARCHAR#, #modifiedTime:TIMESTAMP#, #currentRecord:VARCHAR#,
      #dataSrc:VARCHAR#)
      <!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 END -->
  </insert>
  
  <update id="update" parameterClass="com.tlg.msSqlMob.entity.MobileInsBatchInfo">
    update MOBILE_INS_BATCH_INFO
    <dynamic prepend="set">
      <isNotNull prepend="," property="batchDate">
        batch_date = #batchDate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="batchStatus">
        batch_status = #batchStatus:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="batchCheckStatus">
        batch_check_status = #batchCheckStatus:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="rptBatchNo">
        rpt_batch_no = #rptBatchNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="totalCount">
        total_count = #totalCount:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="totalRecord">
        total_record = #totalRecord:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="createdBy">
        created_by = #createdBy:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="createdTime">
        created_time = #createdTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="modifiedBy">
        modified_by = #modifiedBy:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="modifiedTime">
        modified_time = #modifiedTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="currentRecord">
        current_record = #currentRecord:VARCHAR#
      </isNotNull>
      <!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 START -->
	  <isNotNull prepend="," property="dataSrc">
		data_src = #dataSrc:VARCHAR#
	  </isNotNull>
	  <!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 END -->
    </dynamic>
    where oid = #oid:DECIMAL#
  </update>
</sqlMap>