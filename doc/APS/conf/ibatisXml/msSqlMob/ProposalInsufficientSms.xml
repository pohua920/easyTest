<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="ProposalInsufficientSms">
  <resultMap class="com.tlg.msSqlMob.entity.ProposalInsufficientSms" id="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Feb 23 11:47:23 CST 2024.
    -->
    <result column="transaction_id" jdbcType="VARCHAR" property="transactionId" />
    <result column="contract_id" jdbcType="VARCHAR" property="contractId" />
    <result column="mobile" jdbcType="VARCHAR" property="mobile" />
    <result column="sms_content" jdbcType="NVARCHAR" property="smsContent" />
    <result column="sms_date" jdbcType="TIMESTAMP" property="smsDate" />
    <result column="created_by" jdbcType="VARCHAR" property="createdBy" />
    <result column="created_time" jdbcType="TIMESTAMP" property="createdTime" />
    <result column="modified_by" jdbcType="VARCHAR" property="modifiedBy" />
    <result column="modified_time" jdbcType="TIMESTAMP" property="modifiedTime" />
    <result column="error_msg" jdbcType="NVARCHAR" property="errorMsg" />
  </resultMap>
	<select id="select" parameterClass="java.util.Map" resultMap="BaseResultMap">
  		<include refid="Utils.msSql1" />
    	select * from PROPOSAL_INSUFFICIENT_SMS
    	<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="transactionId">
        		transaction_id = #transactionId:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="contractId">
				contract_id = #contractId:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="mobile">
        		mobile = #mobile:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="smsDateIsNull">
        		sms_date is null
			</isNotEmpty>
    	</dynamic>
    	<include refid="Utils.msSql2" />
	</select>
  
	<select id="selectByParams" parameterClass="java.util.Map" resultMap="BaseResultMap">
		select * from PROPOSAL_INSUFFICIENT_SMS
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="transactionId">
				transaction_id = #transactionId:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="contractId">
				contract_id = #contractId:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="mobile">
				mobile = #mobile:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="smsDateIsNull">
				sms_date is null
			</isNotEmpty>
		</dynamic>
	</select>
  
  <select id="count" resultClass="java.lang.Integer" parameterClass="java.util.Map">
    select COUNT(*) from PROPOSAL_INSUFFICIENT_SMS
    <dynamic prepend="WHERE">
      <isNotEmpty prepend="AND" property="transactionId">
        transaction_id = #transactionId:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="contractId">
        contract_id = #contractId:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="AND" property="mobile">
        mobile = #mobile:VARCHAR#
      </isNotEmpty>
			<isNotEmpty prepend="AND" property="smsDateIsNull">
				sms_date is null
			</isNotEmpty>
    </dynamic>
  </select>
  
  <select id="countByUK" resultClass="java.lang.Integer" parameterClass="com.tlg.msSqlMob.entity.ProposalInsufficientSms" >
		SELECT COUNT(*) FROM PROPOSAL_INSUFFICIENT_SMS
		where transaction_id = #transactionId:VARCHAR#
  </select>

  <delete id="deleteByEntity" parameterClass="com.tlg.msSqlMob.entity.ProposalInsufficientSms">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Feb 23 11:47:23 CST 2024.
    -->
    delete from PROPOSAL_INSUFFICIENT_SMS 
    where transaction_id = #transactionId:VARCHAR#
  </delete>
  <insert id="insert" parameterClass="com.tlg.msSqlMob.entity.ProposalInsufficientSms">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Feb 23 11:47:23 CST 2024.
    -->
    insert into PROPOSAL_INSUFFICIENT_SMS (transaction_id, contract_id, mobile, sms_content, 
      sms_date, created_by, created_time, modified_by, 
      modified_time, error_msg)
    values (#transactionId:VARCHAR#, #contractId:VARCHAR#, #mobile:VARCHAR#, #smsContent:NVARCHAR#, 
      #smsDate:TIMESTAMP#, #createdBy:VARCHAR#, #createdTime:TIMESTAMP#, #modifiedBy:VARCHAR#, 
      #modifiedTime:TIMESTAMP#, #errorMsg:NVARCHAR#)
  </insert>

  <update id="update" parameterClass="com.tlg.msSqlMob.entity.ProposalInsufficientSms">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Feb 23 11:47:23 CST 2024.
    -->
    update PROPOSAL_INSUFFICIENT_SMS
    <dynamic prepend="set">
      <isNotNull prepend="," property="contractId">
        contract_id = #contractId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="mobile">
        mobile = #mobile:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="smsContent">
        sms_content = #smsContent:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="smsDate">
        sms_date = #smsDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="createdBy">
        created_by = #createdBy:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="createdTime">
        created_time = #createdTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="modifiedBy">
        modified_by = #modifiedBy:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="modifiedTime">
        modified_time = #modifiedTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="errorMsg">
        error_msg = #errorMsg:NVARCHAR#
      </isNotNull>
    </dynamic>
	where transaction_id = #transactionId:VARCHAR#
  </update>
</sqlMap>