<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="FetMobilePolicySales">
  <resultMap class="com.tlg.msSqlMob.entity.FetMobilePolicySales" id="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 16 16:03:57 CST 2024.
    -->
    <result column="transaction_id" jdbcType="VARCHAR" property="transactionId" />
    <result column="handler_code" jdbcType="VARCHAR" property="handlerCode" />
    <result column="handler_name" jdbcType="NVARCHAR" property="handlerName" />
    <result column="extra_com_code" jdbcType="VARCHAR" property="extraComCode" />
    <result column="extra_com_name" jdbcType="NVARCHAR" property="extraComName" />
    <result column="channel_type" jdbcType="VARCHAR" property="channelType" />
    <result column="com_code" jdbcType="VARCHAR" property="comCode" />
    <result column="business_nature" jdbcType="VARCHAR" property="businessNature" />
    <result column="agent_code" jdbcType="NVARCHAR" property="agentCode" />
    <result column="agent_name" jdbcType="NVARCHAR" property="agentName" />
    <result column="created_by" jdbcType="VARCHAR" property="createdBy" />
    <result column="created_time" jdbcType="TIMESTAMP" property="createdTime" />
    <result column="modified_by" jdbcType="VARCHAR" property="modifiedBy" />
    <result column="modified_time" jdbcType="TIMESTAMP" property="modifiedTime" />
  </resultMap>

	<select id="select" parameterClass="java.util.Map" resultMap="BaseResultMap">
		<include refid="Utils.msSql1" />
		select * from FET_MOBILE_POLICY_SALES
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="transactionId">
				transaction_id = #transactionId:VARCHAR#
			</isNotEmpty>
		</dynamic>
		<include refid="Utils.msSql2" />
	</select>

	<select id="selectByParams" parameterClass="java.util.Map" resultMap="BaseResultMap">
		select * from FET_MOBILE_POLICY_SALES
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="transactionId">
				transaction_id = #transactionId:VARCHAR#
			</isNotEmpty>
			<isNotNull prepend="AND" property="handlerCode">
	        	handler_code = #handlerCode:VARCHAR#
	      	</isNotNull>
	      	<isNotNull prepend="AND" property="handlerName">
	        	handler_name = #handlerName:NVARCHAR#
	      	</isNotNull>
	      	<isNotNull prepend="AND" property="extraComCode">
	        	extra_com_code = #extraComCode:VARCHAR#
	      	</isNotNull>
	      	<isNotNull prepend="AND" property="extraComName">
	        	extra_com_name = #extraComName:NVARCHAR#
	      	</isNotNull>
	      	<isNotNull prepend="AND" property="channelType">
	        	channel_type = #channelType:VARCHAR#
	      	</isNotNull>
	      	<isNotNull prepend="AND" property="comCode">
	        	com_code = #comCode:VARCHAR#
	      	</isNotNull>
	      	<isNotNull prepend="AND" property="businessNature">
	        	business_nature = #businessNature:VARCHAR#
	      	</isNotNull>
	      	<isNotNull prepend="AND" property="agentCode">
	        	agent_code = #agentCode:NVARCHAR#
	      	</isNotNull>
	      	<isNotNull prepend="AND" property="agentName">
	        	agent_name = #agentName:NVARCHAR#
	      	</isNotNull>	
			<isEqual property="orderByCreatedtimeDesc" compareValue="Y" >
				ORDER BY CREATED_TIME DESC
			</isEqual>			
			
		</dynamic>
	</select>

	<select id="count" parameterClass="java.util.Map" resultClass="java.lang.Integer">
		select COUNT(*) from FET_MOBILE_POLICY_SALES
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="transactionId">
				transaction_id = #transactionId:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="contractId">
				contract_id = #contractId:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="applicationId">
				application_id = #applicationId:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="dataType">
				data_type = #dataType:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="status">
				status = #status:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="policyNo">
				policy_no = #policyNo:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="endorseNo">
			<!-- mantis：MOB0022，處理人員：CE035，需求單編號：MOB0022 匯入核心排程發信告知結果、修正手機險排程時間、修正保批單號資料型態、洗錢條件檢核補上批單號、遠傳資料批次下載使用者改ce035  --> 
				endorse_no = #endorseNo:VARCHAR#
			</isNotEmpty>
		</dynamic>
	</select>
	
  <delete id="deleteByEntity" parameterClass="com.tlg.msSqlMob.entity.FetMobilePolicySales">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 16 16:03:57 CST 2024.
    -->
    delete from FET_MOBILE_POLICY_SALES
    where transaction_id = #transactionId:VARCHAR#
  </delete>

  <insert id="insert" parameterClass="com.tlg.msSqlMob.entity.FetMobilePolicySales">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 16 16:03:57 CST 2024.
    -->
    insert into FET_MOBILE_POLICY_SALES (transaction_id, handler_code, handler_name, extra_com_code, 
      extra_com_name, channel_type, com_code, business_nature, 
      agent_code, agent_name, created_by, created_time, 
      modified_by, modified_time)
    values (#transactionId:VARCHAR#, #handlerCode:VARCHAR#, #handlerName:NVARCHAR#, #extraComCode:VARCHAR#, 
      #extraComName:NVARCHAR#, #channelType:VARCHAR#, #comCode:VARCHAR#, #businessNature:VARCHAR#, 
      #agentCode:NVARCHAR#, #agentName:NVARCHAR#, #createdBy:VARCHAR#, #createdTime:TIMESTAMP#, 
      #modifiedBy:VARCHAR#, #modifiedTime:TIMESTAMP#)
  </insert>
  
  	<select id="selectByUK" resultMap="BaseResultMap"
		parameterClass="java.util.Map">
		SELECT * FROM FET_MOBILE_POLICY_SALES
		where transaction_id = #transactionId:VARCHAR#
	</select>

  <select id="countByUK" parameterClass="com.tlg.msSqlMob.entity.FetMobilePolicySales" resultClass="java.lang.Integer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 16 16:03:57 CST 2024.
    -->
    select count(*) from FET_MOBILE_POLICY_SALES
    where transaction_id = #transactionId:VARCHAR#
  </select>
  <update id="update">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 16 16:03:57 CST 2024.
    -->
    update FET_MOBILE_POLICY_SALES
    <dynamic prepend="set">
      <isNotNull prepend="," property="transactionId">
        transaction_id = #transactionId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="handlerCode">
        handler_code = #handlerCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="handlerName">
        handler_name = #handlerName:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="extraComCode">
        extra_com_code = #extraComCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="extraComName">
        extra_com_name = #extraComName:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="channelType">
        channel_type = #channelType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="comCode">
        com_code = #comCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="businessNature">
        business_nature = #businessNature:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="agentCode">
        agent_code = #agentCode:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="agentName">
        agent_name = #agentName:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="modifiedBy">
        modified_by = #modifiedBy:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="modifiedTime">
        modified_time = #modifiedTime:TIMESTAMP#
      </isNotNull>
    </dynamic>
    where transaction_id = #transactionId:VARCHAR#
  </update>

</sqlMap>