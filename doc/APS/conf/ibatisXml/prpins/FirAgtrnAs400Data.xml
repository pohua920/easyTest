<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<!-- mantis：FIR0388，處理人員：BJ085，需求單編號：FIR0388 AS400續保資料匯入 -->
<sqlMap namespace="FirAgtrnAs400Data" >
  <resultMap id="BaseResultMap" class="com.tlg.prpins.entity.FirAgtrnAs400Data" >
    <result column="OID" property="oid" jdbcType="DECIMAL" />
    <result column="BUSINESSNATURE" property="businessnature" jdbcType="VARCHAR" />
    <result column="RN_YYYYMM" property="rnYyyymm" jdbcType="VARCHAR" />
    <result column="OLDPOLICYNO" property="oldpolicyno" jdbcType="VARCHAR" />
    <result column="STARTDATE" property="startdate" jdbcType="TIMESTAMP" />
    <result column="WALLMATERIAL" property="wallmaterial" jdbcType="VARCHAR" />
    <result column="ROOFMATERIAL" property="roofmaterial" jdbcType="VARCHAR" />
    <result column="STRUCTURE_TEXT" property="structureText" jdbcType="VARCHAR" />
    <result column="SUMFLOORS" property="sumfloors" jdbcType="DECIMAL" />
    <result column="BUILDAREA" property="buildarea" jdbcType="VARCHAR" />
    <result column="BUILDYEARS" property="buildyears" jdbcType="VARCHAR" />
    <result column="AMOUNT_F" property="amountF" jdbcType="DECIMAL" />
    <result column="PREMIUM_F" property="premiumF" jdbcType="DECIMAL" />
    <result column="AMOUNT_Q" property="amountQ" jdbcType="DECIMAL" />
    <result column="PREMIUM_Q" property="premiumQ" jdbcType="DECIMAL" />
    <result column="POSTCODE_A" property="postcodeA" jdbcType="VARCHAR" />
    <result column="ADDRESS_A" property="addressA" jdbcType="VARCHAR" />
    <result column="POSTCODE_I" property="postcodeI" jdbcType="VARCHAR" />
    <result column="ADDRESS_I" property="addressI" jdbcType="VARCHAR" />
    <result column="ICREATE" property="icreate" jdbcType="VARCHAR" />
    <result column="DCREATE" property="dcreate" jdbcType="TIMESTAMP" />
    <result column="ADDRESSCODE" property="addresscode" jdbcType="VARCHAR" />
    <result column="ADDRESSNAME" property="addressname" jdbcType="VARCHAR" />
    <result column="ADDRESSDETAIL" property="addressdetail" jdbcType="VARCHAR" />
    <result column="STRUCTURE_1" property="structure1" jdbcType="VARCHAR" />
    <result column="ID_A" property="idA" jdbcType="VARCHAR" />
    <result column="NAME_A" property="nameA" jdbcType="VARCHAR" />
    <result column="PHONE_A" property="phoneA" jdbcType="VARCHAR" />
    <result column="MOBILE_A" property="mobileA" jdbcType="VARCHAR" />
    <result column="ID_I" property="idI" jdbcType="VARCHAR" />
    <result column="NAME_I" property="nameI" jdbcType="VARCHAR" />
    <result column="PHONE_I" property="phoneI" jdbcType="VARCHAR" />
    <result column="MOBILE_I" property="mobileI" jdbcType="VARCHAR" />
    <result column="ENDDATE" property="enddate" jdbcType="TIMESTAMP" />
	<!-- mantis：FIR0619，處理人員：CD078，需求單編號：FIR0619 住火_臺銀續保作業_AS400資料匯入新增臺銀格式 Start -->
    <result column="IS_AUTO_RENEW" property="isAutoRenew" jdbcType="VARCHAR" />
    <result column="EXTRACOMCODE" property="extracomcode" jdbcType="VARCHAR" />
    <result column="ORGICODE" property="orgicode" jdbcType="VARCHAR" />
    <result column="HANDLERIDENTIFYNUMBER" property="handleridentifynumber" jdbcType="VARCHAR" />
    <result column="ACCOUNTNO" property="accountno" jdbcType="VARCHAR" />
    <!-- mantis：FIR0619，處理人員：CD078，需求單編號：FIR0619 住火_臺銀續保作業_AS400資料匯入新增臺銀格式 End -->
    <!-- mantis：FIR0666，處理人員：DP0714，住火_元大續保作業_AS400資料匯入新增元大格式 start -->
    <result column="EXTRACOMNAME" property="extraComName" jdbcType="VARCHAR" />
    <result column="HANDLER1CODE" property="handler1Code" jdbcType="VARCHAR" />
    <result column="REMARK" property="remark" jdbcType="VARCHAR" />
    <!-- mantis：FIR0666，處理人員：DP0714，住火_元大續保作業_AS400資料匯入新增元大格式 end -->
  </resultMap>
  
  <select id="select" resultMap="BaseResultMap" parameterClass="java.util.Map">
  	<include refid="Utils.sql1" />
  		SELECT * FROM <include refid="Utils.prpinsSchema"/>FIR_AGTRN_AS400_DATA
  		<dynamic prepend="WHERE">
	  		<isNotEmpty prepend="AND" property="oid">
	  			OID = #oid#
	  		</isNotEmpty>
	  		<isNotEmpty prepend="AND" property="businessnature">
	  			BUSINESSNATURE = #businessnature#
	  		</isNotEmpty>
	  		<isNotEmpty prepend="AND" property="rnYyyymm">
	  			RN_YYYYMM = #rnYyyymm#
	  		</isNotEmpty>
	  		<isNotEmpty prepend="AND" property="oldpolicyno">
	  			OLDPOLICYNO = #oldpolicyno#
	  		</isNotEmpty>
	  	</dynamic>
		<include refid="Utils.sql2" />
  </select>

  <select id="count" resultClass="java.lang.Integer" parameterClass="java.util.Map">
  	SELECT COUNT(*) FROM <include refid="Utils.prpinsSchema"/>FIR_AGTRN_AS400_DATA
  		<dynamic prepend="WHERE">
	  		<isNotEmpty prepend="AND" property="oid">
	  			OID = #oid#
	  		</isNotEmpty>
	  		<isNotEmpty prepend="AND" property="businessnature">
	  			BUSINESSNATURE = #businessnature#
	  		</isNotEmpty>
	  		<isNotEmpty prepend="AND" property="rnYyyymm">
	  			RN_YYYYMM = #rnYyyymm#
	  		</isNotEmpty>
	  		<isNotEmpty prepend="AND" property="oldpolicyno">
	  			OLDPOLICYNO = #oldpolicyno#
	  		</isNotEmpty>
	  	</dynamic>
  </select>
	
  <select id="selectByParams" resultMap="BaseResultMap" parameterClass="java.util.Map">
  	SELECT * FROM <include refid="Utils.prpinsSchema"/>FIR_AGTRN_AS400_DATA
	  	<dynamic prepend="WHERE">
	  		<isNotEmpty prepend="AND" property="oid">
	  			OID = #oid#
	  		</isNotEmpty>
	  		<isNotEmpty prepend="AND" property="businessnature">
	  			BUSINESSNATURE = #businessnature#
	  		</isNotEmpty>
	  		<isNotEmpty prepend="AND" property="rnYyyymm">
	  			RN_YYYYMM = #rnYyyymm#
	  		</isNotEmpty>
	  		<isNotEmpty prepend="AND" property="oldpolicyno">
	  			OLDPOLICYNO = #oldpolicyno#
	  		</isNotEmpty>
	  		<!-- mantis：FIR0455，處理人員：BJ085，需求單編號：FIR0455 住火-APS富邦續件處理作業 -->
	  		<isNotEmpty property="sortBy">
				ORDER BY $sortBy$ $sortType$ 
			</isNotEmpty>
	  	</dynamic>
  </select>
	
  <delete id="delete" parameterClass="java.math.BigDecimal" >
    delete <include refid="Utils.prpinsSchema"/>from FIR_AGTRN_AS400_DATA
    where OID = #oid:DECIMAL#
  </delete>
  
  <insert id="insert" parameterClass="com.tlg.prpins.entity.FirAgtrnAs400Data" >
    <selectKey resultClass="java.math.BigDecimal" keyProperty="oid" >    
	    SELECT FIR_AGTRN_AS400_DATA_SEQ.NEXTVAL AS OID FROM DUAL    
	</selectKey>
    insert into <include refid="Utils.prpinsSchema"/>FIR_AGTRN_AS400_DATA 
      (OID, BUSINESSNATURE, RN_YYYYMM, OLDPOLICYNO, STARTDATE,
      WALLMATERIAL, ROOFMATERIAL, STRUCTURE_TEXT, SUMFLOORS, BUILDAREA, BUILDYEARS, AMOUNT_F,
      PREMIUM_F, AMOUNT_Q, PREMIUM_Q, POSTCODE_A, ADDRESS_A, POSTCODE_I, ADDRESS_I, ICREATE,
      DCREATE, ADDRESSCODE, ADDRESSNAME, ADDRESSDETAIL, STRUCTURE_1, ID_A, NAME_A, PHONE_A,
      MOBILE_A, ID_I, NAME_I, PHONE_I, MOBILE_I, ENDDATE
      <!-- mantis：FIR0619，處理人員：CD078，需求單編號：FIR0619 住火_臺銀續保作業_AS400資料匯入新增臺銀格式 Start-->
      <!-- mantis：FIR0666，處理人員：DP0714，住火_元大續保作業_AS400資料匯入新增元大格式 -->
      , IS_AUTO_RENEW, EXTRACOMCODE, ORGICODE,HANDLERIDENTIFYNUMBER, ACCOUNTNO, EXTRACOMNAME, HANDLER1CODE, REMARK)
      <!-- mantis：FIR0619，處理人員：CD078，需求單編號：FIR0619 住火_臺銀續保作業_AS400資料匯入新增臺銀格式 End-->
    values (#oid:DECIMAL#, #businessnature:VARCHAR#, #rnYyyymm:VARCHAR#, #oldpolicyno:VARCHAR#,
      #startdate:TIMESTAMP#, #wallmaterial:VARCHAR#, #roofmaterial:VARCHAR#, #structureText:VARCHAR#,
      #sumfloors:DECIMAL#, #buildarea:VARCHAR#, #buildyears:VARCHAR#, #amountF:DECIMAL#,
      #premiumF:DECIMAL#, #amountQ:DECIMAL#, #premiumQ:DECIMAL#, #postcodeA:VARCHAR#,
      #addressA:VARCHAR#, #postcodeI:VARCHAR#, #addressI:VARCHAR#, #icreate:VARCHAR#,
      #dcreate:TIMESTAMP#, #addresscode:VARCHAR#, #addressname:VARCHAR#, #addressdetail:VARCHAR#,
      #structure1:VARCHAR#, #idA:VARCHAR#, #nameA:VARCHAR#, #phoneA:VARCHAR#, #mobileA:VARCHAR#,
      #idI:VARCHAR#, #nameI:VARCHAR#, #phoneI:VARCHAR#, #mobileI:VARCHAR#, #enddate:TIMESTAMP#,
      <!-- mantis：FIR0619，處理人員：CD078，需求單編號：FIR0619 住火_臺銀續保作業_AS400資料匯入新增臺銀格式 Start-->
      #isAutoRenew:VARCHAR#, #extracomcode:VARCHAR#, #orgicode:VARCHAR#,#handleridentifynumber:VARCHAR#,
      <!-- mantis：FIR0666，處理人員：DP0714，住火_元大續保作業_AS400資料匯入新增元大格式 -->
      #accountno:VARCHAR#, #extraComName:VARCHAR#, #handler1Code:VARCHAR#, #remark:VARCHAR#)
      <!-- mantis：FIR0619，處理人員：CD078，需求單編號：FIR0619 住火_臺銀續保作業_AS400資料匯入新增臺銀格式 End-->
  </insert>
  
  <update id="update" parameterClass="com.tlg.prpins.entity.FirAgtrnAs400Data" >
    update <include refid="Utils.prpinsSchema"/>FIR_AGTRN_AS400_DATA
    <dynamic prepend="set" >
      <isNotNull prepend="," property="businessnature" >
        BUSINESSNATURE = #businessnature:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="rnYyyymm" >
        RN_YYYYMM = #rnYyyymm:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="oldpolicyno" >
        OLDPOLICYNO = #oldpolicyno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="startdate" >
        STARTDATE = #startdate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="wallmaterial" >
        WALLMATERIAL = #wallmaterial:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="roofmaterial" >
        ROOFMATERIAL = #roofmaterial:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="structureText" >
        STRUCTURE_TEXT = #structureText:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="sumfloors" >
        SUMFLOORS = #sumfloors:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="buildarea" >
        BUILDAREA = #buildarea:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="buildyears" >
        BUILDYEARS = #buildyears:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="amountF" >
        AMOUNT_F = #amountF:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="premiumF" >
        PREMIUM_F = #premiumF:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="amountQ" >
        AMOUNT_Q = #amountQ:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="premiumQ" >
        PREMIUM_Q = #premiumQ:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="postcodeA" >
        POSTCODE_A = #postcodeA:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="addressA" >
        ADDRESS_A = #addressA:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="postcodeI" >
        POSTCODE_I = #postcodeI:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="addressI" >
        ADDRESS_I = #addressI:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="icreate" >
        ICREATE = #icreate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dcreate" >
        DCREATE = #dcreate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="addresscode" >
        ADDRESSCODE = #addresscode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="addressname" >
        ADDRESSNAME = #addressname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="addressdetail" >
        ADDRESSDETAIL = #addressdetail:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="structure1" >
        STRUCTURE_1 = #structure1:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="idA" >
        ID_A = #idA:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nameA" >
        NAME_A = #nameA:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="phoneA" >
        PHONE_A = #phoneA:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="mobileA" >
        MOBILE_A = #mobileA:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="idI" >
        ID_I = #idI:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nameI" >
        NAME_I = #nameI:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="phoneI" >
        PHONE_I = #phoneI:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="mobileI" >
        MOBILE_I = #mobileI:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="enddate" >
        ENDDATE = #enddate:TIMESTAMP#
      </isNotNull>
	  <!--mantis：FIR0619，處理人員：CD078，需求單編號：FIR0619 住火_臺銀續保作業_AS400資料匯入新增臺銀格式 Start-->
      <isNotNull prepend="," property="isAutoRenew" >
        IS_AUTO_RENEW = #isAutoRenew:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="extracomcode" >
        EXTRACOMCODE = #extracomcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="orgicode" >
        ORGICODE = #orgicode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="handleridentifynumber" >
        HANDLERIDENTIFYNUMBER = #handleridentifynumber:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="accountno" >
        ACCOUNTNO = #accountno:VARCHAR#
      </isNotNull>
      <!--mantis：FIR0619，處理人員：CD078，需求單編號：FIR0619 住火_臺銀續保作業_AS400資料匯入新增臺銀格式 End-->
      <!-- mantis：FIR0666，處理人員：DP0714，住火_元大續保作業_AS400資料匯入新增元大格式 start -->
      <isNotNull prepend="," property="extraComName" >
        EXTRACOMNAME = #extraComName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="handler1Code" >
        HANDLER1CODE = #handler1Code:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="remark" >
        REMARK = #remark:VARCHAR#
      </isNotNull>
      <!-- mantis：FIR0666，處理人員：DP0714，住火_元大續保作業_AS400資料匯入新增元大格式 end -->
    </dynamic>
    where OID = #oid:DECIMAL#
  </update>
</sqlMap>