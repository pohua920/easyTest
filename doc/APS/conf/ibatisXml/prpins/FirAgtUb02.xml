<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<!-- mantis：FIR0547，處理人員：CC009，需求單編號：FIR0547 聯邦新件資料交換查詢作業 -->
<sqlMap namespace="FirAgtUb02">
  <resultMap class="com.tlg.prpins.entity.FirAgtUb02" id="BaseResultMap">
    <result column="OID" jdbcType="DECIMAL" property="oid" />
    <result column="BATCH_NO" jdbcType="VARCHAR" property="batchNo" />
    <result column="RISKCODE" jdbcType="VARCHAR" property="riskcode" />
    <result column="POLICYNO" jdbcType="VARCHAR" property="policyno" />
    <result column="ORDERSEQ" jdbcType="VARCHAR" property="orderseq" />
    <result column="ENDORSENO" jdbcType="VARCHAR" property="endorseno" />
    <result column="RISKCODE_UB" jdbcType="VARCHAR" property="riskcodeUb" />
    <result column="DATA_DATE" jdbcType="TIMESTAMP" property="dataDate" />
    <result column="STARTDATE" jdbcType="TIMESTAMP" property="startdate" />
    <result column="ENDDATE" jdbcType="TIMESTAMP" property="enddate" />
    <result column="UNDERWRITEENDDATE" jdbcType="TIMESTAMP" property="underwriteenddate" />
    <result column="ORDER_TYPE" jdbcType="VARCHAR" property="orderType" />
    <result column="POLICY_STATUS" jdbcType="VARCHAR" property="policyStatus" />
    <result column="ENDORSETEXT" jdbcType="VARCHAR" property="endorsetext" />
    <result column="IS_RENEW" jdbcType="VARCHAR" property="isRenew" />
    <result column="PREMIUM_Q" jdbcType="DECIMAL" property="premiumQ" />
    <result column="PREMIUM_F" jdbcType="DECIMAL" property="premiumF" />
    <result column="PREMIUM_A" jdbcType="DECIMAL" property="premiumA" />
    <result column="PREMIUM_T" jdbcType="DECIMAL" property="premiumT" />
    <result column="AMOUNT_Q" jdbcType="DECIMAL" property="amountQ" />
    <result column="AMOUNT_F" jdbcType="DECIMAL" property="amountF" />
    <result column="COMM_RATE_Q" jdbcType="DECIMAL" property="commRateQ" />
    <result column="COMM_RATE_F" jdbcType="DECIMAL" property="commRateF" />
    <result column="COMMISSION_Q" jdbcType="DECIMAL" property="commissionQ" />
    <result column="COMMISSION_F" jdbcType="DECIMAL" property="commissionF" />
    <result column="COMMISSION" jdbcType="DECIMAL" property="commission" />
    <result column="SERVICE_CHARGE" jdbcType="DECIMAL" property="serviceCharge" />
    <result column="SALES_NO" jdbcType="VARCHAR" property="salesNo" />
    <result column="IS_AUTO_RENEW" jdbcType="VARCHAR" property="isAutoRenew" />
    <result column="OLD_POLICYNO" jdbcType="VARCHAR" property="oldPolicyno" />
    <result column="OLD_ENDDATE" jdbcType="TIMESTAMP" property="oldEnddate" />
    <result column="SUMFLOORS" jdbcType="DECIMAL" property="sumfloors" />
    <result column="WALLNO" jdbcType="VARCHAR" property="wallno" />
    <result column="WALLNO_OTHER" jdbcType="VARCHAR" property="wallnoOther" />
    <result column="ROOFNO" jdbcType="VARCHAR" property="roofno" />
    <result column="ROOFNO_OTHER" jdbcType="VARCHAR" property="roofnoOther" />
    <result column="ADDRESS" jdbcType="VARCHAR" property="address" />
    <result column="MORTGAGEEPCODE1" jdbcType="VARCHAR" property="mortgageepcode1" />
    <result column="UB_SOURCE" jdbcType="VARCHAR" property="ubSource" />
    <result column="APPLY_NAME" jdbcType="VARCHAR" property="applyName" />
    <result column="APPLY_ID" jdbcType="VARCHAR" property="applyId" />
    <result column="INSURED_NAME" jdbcType="VARCHAR" property="insuredName" />
    <result column="INSURED_ID" jdbcType="VARCHAR" property="insuredId" />
    <result column="DELETE_FLAG" jdbcType="VARCHAR" property="deleteFlag" />
    <result column="ICREATE" jdbcType="VARCHAR" property="icreate" />
    <result column="DCREATE" jdbcType="TIMESTAMP" property="dcreate" />
    <result column="IUPDATE" jdbcType="VARCHAR" property="iupdate" />
    <result column="DUPDATE" jdbcType="TIMESTAMP" property="dupdate" />
  </resultMap>
  
  <resultMap class="com.tlg.aps.vo.Aps041MainVo" id="aps041MainVoResultMap">
  	<result column="ORDERSEQ" property="orderseq" jdbcType="VARCHAR" />
    <result column="RISKCODE" property="riskcode" jdbcType="VARCHAR" />
    <result column="DCREATE" jdbcType="TIMESTAMP" property="dcreate" />
    <result column="INSURED_NAME" property="insuredName" jdbcType="VARCHAR" />
<!--     <result column="BRANCH_NAME" property="branchName" jdbcType="VARCHAR" /> -->
    <result column="STARTDATE" property="startDate" jdbcType="TIMESTAMP" />
    <result column="UNDERWRITEENDDATE" property="underwriteenddate" jdbcType="TIMESTAMP" />
    <result column="POLICYNO" property="policyNo" jdbcType="VARCHAR" />
    <result column="FB_STATUS" property="fbStatus" jdbcType="VARCHAR" />
    <result column="PROPOSALNO" property="proposalNo" jdbcType="VARCHAR" />
    <result column="EXTRACOMNAME" property="extracomName" jdbcType="VARCHAR" />
  </resultMap>
  
  
  <select id="select" parameterClass="java.util.Map" resultMap="BaseResultMap">
  	<include refid="Utils.sql1" />
    select *
    from FIR_AGT_UB_02
    <dynamic prepend="WHERE">
      <isNotNull prepend="AND" property="batchNo">
        BATCH_NO = #batchNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="riskcode">
        RISKCODE = #riskcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="policyno">
        POLICYNO = #policyno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="orderseq">
        ORDERSEQ = #orderseq:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="endorseno">
        ENDORSENO = #endorseno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="riskcodeUb">
        RISKCODE_UB = #riskcodeUb:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="dataDate">
        DATA_DATE = #dataDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="AND" property="startdate">
        STARTDATE = #startdate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="AND" property="enddate">
        ENDDATE = #enddate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="AND" property="underwriteenddate">
        UNDERWRITEENDDATE = #underwriteenddate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="AND" property="orderType">
        ORDER_TYPE = #orderType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="policyStatus">
        POLICY_STATUS = #policyStatus:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="endorsetext">
        ENDORSETEXT = #endorsetext:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="isRenew">
        IS_RENEW = #isRenew:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="premiumQ">
        PREMIUM_Q = #premiumQ:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="premiumF">
        PREMIUM_F = #premiumF:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="premiumA">
        PREMIUM_A = #premiumA:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="premiumT">
        PREMIUM_T = #premiumT:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="amountQ">
        AMOUNT_Q = #amountQ:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="amountF">
        AMOUNT_F = #amountF:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="commRateQ">
        COMM_RATE_Q = #commRateQ:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="commRateF">
        COMM_RATE_F = #commRateF:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="commissionQ">
        COMMISSION_Q = #commissionQ:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="commissionF">
        COMMISSION_F = #commissionF:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="commission">
        COMMISSION = #commission:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="serviceCharge">
        SERVICE_CHARGE = #serviceCharge:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="salesNo">
        SALES_NO = #salesNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="isAutoRenew">
        IS_AUTO_RENEW = #isAutoRenew:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="oldPolicyno">
        OLD_POLICYNO = #oldPolicyno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="oldEnddate">
        OLD_ENDDATE = #oldEnddate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="AND" property="sumfloors">
        SUMFLOORS = #sumfloors:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="wallno">
        WALLNO = #wallno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="wallnoOther">
        WALLNO_OTHER = #wallnoOther:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="roofno">
        ROOFNO = #roofno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="roofnoOther">
        ROOFNO_OTHER = #roofnoOther:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="address">
        ADDRESS = #address:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="mortgageepcode1">
        MORTGAGEEPCODE1 = #mortgageepcode1:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="ubSource">
        UB_SOURCE = #ubSource:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="applyName">
        APPLY_NAME = #applyName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="applyId">
        APPLY_ID = #applyId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="insuredName">
        INSURED_NAME = #insuredName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="insuredId">
        INSURED_ID = #insuredId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="deleteFlag">
        DELETE_FLAG = #deleteFlag:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="icreate">
        ICREATE = #icreate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="dcreate">
        DCREATE = #dcreate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="AND" property="iupdate">
        IUPDATE = #iupdate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="dupdate">
        DUPDATE = #dupdate:TIMESTAMP#
      </isNotNull>
    </dynamic>
    <include refid="Utils.sql2" />
  </select>
  <select id="selectByUK" parameterClass="java.util.Map" resultMap="BaseResultMap">
    select *
    from FIR_AGT_UB_02
    where OID = #oid:DECIMAL#
  </select>
  <delete id="deleteByEntity" parameterClass="com.tlg.prpins.entity.FirAgtUb02">
    delete from FIR_AGT_UB_02
    where OID = #oid:DECIMAL#
  </delete>
  <insert id="insert" parameterClass="com.tlg.prpins.entity.FirAgtUb02">
  	<selectKey resultClass="java.math.BigDecimal" keyProperty="oid" >
		SELECT FIR_AGT_UB_02_SEQ.NEXTVAL AS OID FROM DUAL    
	</selectKey>
    insert into FIR_AGT_UB_02 (OID, BATCH_NO, RISKCODE, POLICYNO, 
      ORDERSEQ, ENDORSENO, RISKCODE_UB, DATA_DATE, 
      STARTDATE, ENDDATE, UNDERWRITEENDDATE, ORDER_TYPE, 
      POLICY_STATUS, ENDORSETEXT, IS_RENEW, PREMIUM_Q, 
      PREMIUM_F, PREMIUM_A, PREMIUM_T, AMOUNT_Q, 
      AMOUNT_F, COMM_RATE_Q, COMM_RATE_F, COMMISSION_Q, 
      COMMISSION_F, COMMISSION, SERVICE_CHARGE, SALES_NO, 
      IS_AUTO_RENEW, OLD_POLICYNO, OLD_ENDDATE, SUMFLOORS, 
      WALLNO, WALLNO_OTHER, ROOFNO, ROOFNO_OTHER, ADDRESS, 
      MORTGAGEEPCODE1, UB_SOURCE, APPLY_NAME, APPLY_ID, 
      INSURED_NAME, INSURED_ID, DELETE_FLAG, ICREATE, 
      DCREATE, IUPDATE, DUPDATE)
    values (#oid:DECIMAL#, #batchNo:VARCHAR#, #riskcode:VARCHAR#, #policyno:VARCHAR#, 
      #orderseq:VARCHAR#, #endorseno:VARCHAR#, #riskcodeUb:VARCHAR#, #dataDate:TIMESTAMP#, 
      #startdate:TIMESTAMP#, #enddate:TIMESTAMP#, #underwriteenddate:TIMESTAMP#, #orderType:VARCHAR#, 
      #policyStatus:VARCHAR#, #endorsetext:VARCHAR#, #isRenew:VARCHAR#, #premiumQ:DECIMAL#, 
      #premiumF:DECIMAL#, #premiumA:DECIMAL#, #premiumT:DECIMAL#, #amountQ:DECIMAL#, 
      #amountF:DECIMAL#, #commRateQ:DECIMAL#, #commRateF:DECIMAL#, #commissionQ:DECIMAL#, 
      #commissionF:DECIMAL#, #commission:DECIMAL#, #serviceCharge:DECIMAL#, #salesNo:VARCHAR#, 
      #isAutoRenew:VARCHAR#, #oldPolicyno:VARCHAR#, #oldEnddate:TIMESTAMP#, #sumfloors:DECIMAL#, 
      #wallno:VARCHAR#, #wallnoOther:VARCHAR#, #roofno:VARCHAR#, #roofnoOther:VARCHAR#, #address:VARCHAR#, 
      #mortgageepcode1:VARCHAR#, #ubSource:VARCHAR#, #applyName:VARCHAR#, #applyId:VARCHAR#, 
      #insuredName:VARCHAR#, #insuredId:VARCHAR#, #deleteFlag:VARCHAR#, #icreate:VARCHAR#, 
      #dcreate:TIMESTAMP#, #iupdate:VARCHAR#, #dupdate:TIMESTAMP#)
  </insert>
  <select id="count" parameterClass="java.util.Map" resultClass="java.lang.Integer">
    select count(*) from FIR_AGT_UB_02
    <dynamic prepend="WHERE">
      <isNotNull prepend="AND" property="batchNo">
        BATCH_NO = #batchNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="riskcode">
        RISKCODE = #riskcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="policyno">
        POLICYNO = #policyno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="orderseq">
        ORDERSEQ = #orderseq:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="endorseno">
        ENDORSENO = #endorseno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="riskcodeUb">
        RISKCODE_UB = #riskcodeUb:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="dataDate">
        DATA_DATE = #dataDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="AND" property="startdate">
        STARTDATE = #startdate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="AND" property="enddate">
        ENDDATE = #enddate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="AND" property="underwriteenddate">
        UNDERWRITEENDDATE = #underwriteenddate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="AND" property="orderType">
        ORDER_TYPE = #orderType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="policyStatus">
        POLICY_STATUS = #policyStatus:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="endorsetext">
        ENDORSETEXT = #endorsetext:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="isRenew">
        IS_RENEW = #isRenew:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="premiumQ">
        PREMIUM_Q = #premiumQ:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="premiumF">
        PREMIUM_F = #premiumF:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="premiumA">
        PREMIUM_A = #premiumA:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="premiumT">
        PREMIUM_T = #premiumT:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="amountQ">
        AMOUNT_Q = #amountQ:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="amountF">
        AMOUNT_F = #amountF:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="commRateQ">
        COMM_RATE_Q = #commRateQ:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="commRateF">
        COMM_RATE_F = #commRateF:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="commissionQ">
        COMMISSION_Q = #commissionQ:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="commissionF">
        COMMISSION_F = #commissionF:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="commission">
        COMMISSION = #commission:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="serviceCharge">
        SERVICE_CHARGE = #serviceCharge:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="salesNo">
        SALES_NO = #salesNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="isAutoRenew">
        IS_AUTO_RENEW = #isAutoRenew:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="oldPolicyno">
        OLD_POLICYNO = #oldPolicyno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="oldEnddate">
        OLD_ENDDATE = #oldEnddate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="AND" property="sumfloors">
        SUMFLOORS = #sumfloors:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="wallno">
        WALLNO = #wallno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="wallnoOther">
        WALLNO_OTHER = #wallnoOther:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="roofno">
        ROOFNO = #roofno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="roofnoOther">
        ROOFNO_OTHER = #roofnoOther:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="address">
        ADDRESS = #address:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="mortgageepcode1">
        MORTGAGEEPCODE1 = #mortgageepcode1:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="ubSource">
        UB_SOURCE = #ubSource:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="applyName">
        APPLY_NAME = #applyName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="applyId">
        APPLY_ID = #applyId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="insuredName">
        INSURED_NAME = #insuredName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="insuredId">
        INSURED_ID = #insuredId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="deleteFlag">
        DELETE_FLAG = #deleteFlag:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="icreate">
        ICREATE = #icreate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="dcreate">
        DCREATE = #dcreate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="AND" property="iupdate">
        IUPDATE = #iupdate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="dupdate">
        DUPDATE = #dupdate:TIMESTAMP#
      </isNotNull>
    </dynamic>
  </select>
  <update id="update" parameterClass="com.tlg.prpins.entity.FirAgtUb02">
    update FIR_AGT_UB_02
    <dynamic prepend="set">
      <isNotNull prepend="," property="batchNo">
        BATCH_NO = #batchNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="riskcode">
        RISKCODE = #riskcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="policyno">
        POLICYNO = #policyno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="orderseq">
        ORDERSEQ = #orderseq:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="endorseno">
        ENDORSENO = #endorseno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="riskcodeUb">
        RISKCODE_UB = #riskcodeUb:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dataDate">
        DATA_DATE = #dataDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="startdate">
        STARTDATE = #startdate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="enddate">
        ENDDATE = #enddate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="underwriteenddate">
        UNDERWRITEENDDATE = #underwriteenddate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="orderType">
        ORDER_TYPE = #orderType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="policyStatus">
        POLICY_STATUS = #policyStatus:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="endorsetext">
        ENDORSETEXT = #endorsetext:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="isRenew">
        IS_RENEW = #isRenew:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="premiumQ">
        PREMIUM_Q = #premiumQ:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="premiumF">
        PREMIUM_F = #premiumF:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="premiumA">
        PREMIUM_A = #premiumA:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="premiumT">
        PREMIUM_T = #premiumT:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="amountQ">
        AMOUNT_Q = #amountQ:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="amountF">
        AMOUNT_F = #amountF:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="commRateQ">
        COMM_RATE_Q = #commRateQ:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="commRateF">
        COMM_RATE_F = #commRateF:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="commissionQ">
        COMMISSION_Q = #commissionQ:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="commissionF">
        COMMISSION_F = #commissionF:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="commission">
        COMMISSION = #commission:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="serviceCharge">
        SERVICE_CHARGE = #serviceCharge:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="salesNo">
        SALES_NO = #salesNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="isAutoRenew">
        IS_AUTO_RENEW = #isAutoRenew:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="oldPolicyno">
        OLD_POLICYNO = #oldPolicyno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="oldEnddate">
        OLD_ENDDATE = #oldEnddate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="sumfloors">
        SUMFLOORS = #sumfloors:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="wallno">
        WALLNO = #wallno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="wallnoOther">
        WALLNO_OTHER = #wallnoOther:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="roofno">
        ROOFNO = #roofno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="roofnoOther">
        ROOFNO_OTHER = #roofnoOther:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="address">
        ADDRESS = #address:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="mortgageepcode1">
        MORTGAGEEPCODE1 = #mortgageepcode1:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ubSource">
        UB_SOURCE = #ubSource:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="applyName">
        APPLY_NAME = #applyName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="applyId">
        APPLY_ID = #applyId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="insuredName">
        INSURED_NAME = #insuredName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="insuredId">
        INSURED_ID = #insuredId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="deleteFlag">
        DELETE_FLAG = #deleteFlag:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="icreate">
        ICREATE = #icreate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dcreate">
        DCREATE = #dcreate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="iupdate">
        IUPDATE = #iupdate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dupdate">
        DUPDATE = #dupdate:TIMESTAMP#
      </isNotNull>
    </dynamic>
    where OID = #oid:DECIMAL#
  </update>
  
  <select id="selectForAps041" resultMap="aps041MainVoResultMap" parameterClass="java.util.Map">
		<include refid="Utils.sql1" />
		SELECT PT.RISKCODE, PT.PROPOSALNO, PT.ORDERSEQ, PC.POLICYNO, UB01.DCREATE, PT.INSUREDNAME AS INSURED_NAME, 
			PT.EXTRACOMNAME, PT.STARTDATE, PC.UNDERWRITEENDDATE, DECODE(UB02.ORDER_TYPE,NULL,'N','Y') AS FB_STATUS
		FROM PRPTMAIN PT
		LEFT JOIN PRPCMAIN PC ON PT.PROPOSALNO = PC.PROPOSALNO
		LEFT JOIN FIR_AGT_UB_01 UB01 ON UB01.ORDERSEQ = PT.ORDERSEQ
		LEFT JOIN FIR_AGT_UB_02 UB02 ON PT.ORDERSEQ = UB02.ORDERSEQ AND UB02.ENDORSENO IS NULL
		WHERE PT.RISKCODE IN ( 'F01', 'F02') AND PT.BUSINESSNATURE = 'I99080' AND SUBSTR(PT.OTHFLAG,1,1) = '0'
		<isNotEmpty prepend="AND" property="signSDate">
			PT.SIGNDATE <![CDATA[>=]]> to_date(#ssDate# , 'yyyy/mm/dd hh24:mi:ss')
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="signEDate">
			PT.SIGNDATE <![CDATA[<=]]> to_date(#seDate# , 'yyyy/mm/dd hh24:mi:ss')
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="unSDate">
			PC.UNDERWRITEENDDATE <![CDATA[>=]]> to_date(#unsDate# , 'yyyy/mm/dd hh24:mi:ss')
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="unEDate">
			PC.UNDERWRITEENDDATE <![CDATA[<=]]> to_date(#uneDate# , 'yyyy/mm/dd hh24:mi:ss')
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="startDate">
			PT.STARTDATE <![CDATA[>=]]> to_date(#startDate# , 'yyyy/mm/dd hh24:mi:ss')
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="endDate">
			PT.STARTDATE <![CDATA[<=]]> to_date(#endDate# , 'yyyy/mm/dd hh24:mi:ss')
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="policyNo">
			PT.POLICYNO = #policyNo#
		</isNotEmpty>
		<include refid="Utils.sql2" />
	</select>
	
	<select id="countForAps041" resultClass="java.lang.Integer" parameterClass="java.util.Map">
		SELECT COUNT(*) 
		FROM PRPTMAIN PT
		LEFT JOIN PRPCMAIN PC ON PT.PROPOSALNO = PC.PROPOSALNO
		LEFT JOIN FIR_AGT_UB_01 UB01 ON UB01.ORDERSEQ = PT.ORDERSEQ
		LEFT JOIN FIR_AGT_UB_02 UB02 ON PT.ORDERSEQ = UB02.ORDERSEQ AND UB02.ENDORSENO IS NULL
		WHERE PT.RISKCODE IN ( 'F01', 'F02') AND PT.BUSINESSNATURE = 'I99080' AND SUBSTR(PT.OTHFLAG,1,1) = '0'
		<isNotEmpty prepend="AND" property="signSDate">
			PT.SIGNDATE <![CDATA[>=]]> to_date(#signSDate# , 'yyyy/mm/dd hh24:mi:ss')
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="signEDate">
			PT.SIGNDATE <![CDATA[<=]]> to_date(#signEDate# , 'yyyy/mm/dd hh24:mi:ss')
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="unSDate">
			PC.UNDERWRITEENDDATE <![CDATA[>=]]> to_date(#unSDate# , 'yyyy/mm/dd hh24:mi:ss')
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="unEDate">
			PC.UNDERWRITEENDDATE <![CDATA[<=]]> to_date(#unEDate# , 'yyyy/mm/dd hh24:mi:ss')
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="startDate">
			PT.STARTDATE <![CDATA[>=]]> to_date(#startDate# , 'yyyy/mm/dd hh24:mi:ss')
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="endDate">
			PT.STARTDATE <![CDATA[<=]]> to_date(#endDate# , 'yyyy/mm/dd hh24:mi:ss')
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="policyNo">
			PT.POLICYNO = #policyNo#
		</isNotEmpty>
	</select>
</sqlMap>