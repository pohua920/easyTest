<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<!-- mantis：FIR0266，處理人員：BJ085，需求單編號：FIR0266 板信資料交換處理作業 start -->
<sqlMap namespace="FirAgtBop02" >
  <resultMap id="BaseResultMap" class="com.tlg.prpins.entity.FirAgtBop02" >
    <result column="OID" property="oid" jdbcType="DECIMAL" />
    <result column="BATCH_NO" property="batchNo" jdbcType="VARCHAR" />
    <result column="RISKCODE" property="riskcode" jdbcType="VARCHAR" />
    <result column="POLICYNO" property="policyno" jdbcType="VARCHAR" />
    <result column="ORDERSEQ" property="orderseq" jdbcType="VARCHAR" />
    <result column="ENDORSENO" property="endorseno" jdbcType="VARCHAR" />
    <result column="RISKCODE_BOP" property="riskcodeBop" jdbcType="VARCHAR" />
    <result column="KINDCODE_BOP" property="kindcodeBop" jdbcType="VARCHAR" />
    <result column="DATA_DATE" property="dataDate" jdbcType="TIMESTAMP" />
    <result column="STARTDATE" property="startdate" jdbcType="TIMESTAMP" />
    <result column="ENDDATE" property="enddate" jdbcType="TIMESTAMP" />
    <result column="UNDERWRITEENDDATE" property="underwriteenddate" jdbcType="TIMESTAMP" />
    <result column="ORDER_TYPE" property="orderType" jdbcType="VARCHAR" />
    <result column="POLICY_STATUS" property="policyStatus" jdbcType="VARCHAR" />
    <result column="ENDORSETEXT" property="endorsetext" jdbcType="VARCHAR" />
    <result column="IS_RENEW" property="isRenew" jdbcType="VARCHAR" />
    <result column="APPLY_NAME" property="applyName" jdbcType="VARCHAR" />
    <result column="APPLY_ID" property="applyId" jdbcType="VARCHAR" />
    <result column="APPLY_POSTCODE" property="applyPostcode" jdbcType="VARCHAR" />
    <result column="APPLY_ADDR" property="applyAddr" jdbcType="VARCHAR" />
    <result column="INSURED_NAME" property="insuredName" jdbcType="VARCHAR" />
    <result column="INSURED_ID" property="insuredId" jdbcType="VARCHAR" />
    <result column="INSURED_BIRTHDAY" property="insuredBirthday" jdbcType="TIMESTAMP" />
    <result column="INSURED_AGE" property="insuredAge" jdbcType="VARCHAR" />
    <result column="PAY_TYPE" property="payType" jdbcType="VARCHAR" />
    <result column="PREMIUM" property="premium" jdbcType="DECIMAL" />
    <result column="AMOUNT" property="amount" jdbcType="DECIMAL" />
    <result column="COMM_RATE" property="commRate" jdbcType="DECIMAL" />
    <result column="COMMISSION" property="commission" jdbcType="DECIMAL" />
    <result column="SERVICE_CHARGE" property="serviceCharge" jdbcType="DECIMAL" />
    <result column="SALES_SOURCE" property="salesSource" jdbcType="VARCHAR" />
    <result column="SALES_BRANCH" property="salesBranch" jdbcType="VARCHAR" />
    <result column="SALES_ID" property="salesId" jdbcType="VARCHAR" />
    <result column="SALES_NO" property="salesNo" jdbcType="VARCHAR" />
    <result column="IS_AUTO_RENEW" property="isAutoRenew" jdbcType="VARCHAR" />
    <result column="AMOUNT_CHECK" property="amountCheck" jdbcType="VARCHAR" />
    <result column="LICENSE_PLATE" property="licensePlate" jdbcType="VARCHAR" />
    <result column="OLD_POLICYNO" property="oldPolicyno" jdbcType="VARCHAR" />
    <result column="OLD_ENDDATE" property="oldEnddate" jdbcType="TIMESTAMP" />
    <result column="PROJ_NO" property="projNo" jdbcType="VARCHAR" />
    <result column="PROJ_NAME" property="projName" jdbcType="VARCHAR" />
    <result column="ACCEPT_WAY" property="acceptWay" jdbcType="VARCHAR" />
    <result column="STARTTIME" property="starttime" jdbcType="TIMESTAMP" />
    <result column="ENDTIME" property="endtime" jdbcType="TIMESTAMP" />
    <result column="ADDRESS" property="address" jdbcType="VARCHAR" />
    <result column="PHONENUMBER" property="phonenumber" jdbcType="VARCHAR" />
    <result column="DELETE_FLAG" property="deleteFlag" jdbcType="VARCHAR" />
    <result column="ICREATE" property="icreate" jdbcType="VARCHAR" />
    <result column="DCREATE" property="dcreate" jdbcType="TIMESTAMP" />
    <result column="IUPDATE" property="iupdate" jdbcType="VARCHAR" />
    <result column="DUPDATE" property="dupdate" jdbcType="TIMESTAMP" />
  </resultMap>
  
  <select id="select" resultMap="BaseResultMap" parameterClass="java.util.Map">
		<include refid="Utils.sql1" />
			SELECT * FROM <include refid="Utils.prpinsSchema"/>FIR_AGT_BOP_02
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="batchNo">
				BATCH_NO = #batchNo#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="oid">
				OID = #oid#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="riskcode">
				RISKCODE = #riskcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="orderseq">
				ORDERSEQ = #orderseq#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="policyno">
				POLICYNO = #policyno#
			</isNotEmpty>
		</dynamic>
		<include refid="Utils.sql2" />
	</select>

	<select id="selectByParams" resultMap="BaseResultMap" parameterClass="java.util.Map">
		SELECT * FROM <include refid="Utils.prpinsSchema"/>FIR_AGT_BOP_02
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="batchNo">
				BATCH_NO = #batchNo#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="oid">
				OID = #oid#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="riskcode">
				RISKCODE = #riskcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="orderseq">
				ORDERSEQ = #orderseq#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="policyno">
				POLICYNO = #policyno#
			</isNotEmpty>
		</dynamic>
	</select>
	
	<select id="count" resultClass="java.lang.Integer" parameterClass="java.util.Map">
		SELECT COUNT(*) FROM <include refid="Utils.prpinsSchema"/>FIR_AGT_BOP_02
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="batchNo">
				BATCH_NO = #batchNo#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="oid">
				OID = #oid#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="riskcode">
				RISKCODE = #riskcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="orderseq">
				ORDERSEQ = #orderseq#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="policyno">
				POLICYNO = #policyno#
			</isNotEmpty>
		</dynamic>
	</select>
  

	<delete id="delete" parameterClass="com.tlg.prpins.entity.FirAgtBop02" >
		delete from <include refid="Utils.prpinsSchema" />FIR_AGT_BOP_02
		where OID = #oid:DECIMAL#
	</delete>

	<insert id="insert" parameterClass="com.tlg.prpins.entity.FirAgtBop02" >
		insert into <include refid="Utils.prpinsSchema" />FIR_AGT_BOP_02 (OID, BATCH_NO, RISKCODE, POLICYNO, ORDERSEQ, ENDORSENO,
			RISKCODE_BOP, KINDCODE_BOP, DATA_DATE, STARTDATE, ENDDATE, UNDERWRITEENDDATE, ORDER_TYPE,
			POLICY_STATUS, ENDORSETEXT, IS_RENEW, APPLY_NAME, APPLY_ID, APPLY_POSTCODE, APPLY_ADDR,
			INSURED_NAME, INSURED_ID, INSURED_BIRTHDAY, INSURED_AGE, PAY_TYPE, PREMIUM, AMOUNT, COMM_RATE,
			COMMISSION, SERVICE_CHARGE, SALES_SOURCE, SALES_BRANCH, SALES_ID, SALES_NO, IS_AUTO_RENEW,
			AMOUNT_CHECK, LICENSE_PLATE, OLD_POLICYNO, OLD_ENDDATE, PROJ_NO, PROJ_NAME, ACCEPT_WAY,
			STARTTIME, ENDTIME, ADDRESS, PHONENUMBER, DELETE_FLAG, ICREATE, DCREATE, IUPDATE, DUPDATE)
		values (#oid:DECIMAL#, #batchNo:VARCHAR#, #riskcode:VARCHAR#, #policyno:VARCHAR#,
			#orderseq:VARCHAR#, #endorseno:VARCHAR#, #riskcodeBop:VARCHAR#, #kindcodeBop:VARCHAR#,
			#dataDate:TIMESTAMP#, #startdate:TIMESTAMP#, #enddate:TIMESTAMP#,
			#underwriteenddate:TIMESTAMP#, #orderType:VARCHAR#, #policyStatus:VARCHAR#,
			#endorsetext:VARCHAR#, #isRenew:VARCHAR#, #applyName:VARCHAR#, #applyId:VARCHAR#,
			#applyPostcode:VARCHAR#, #applyAddr:VARCHAR#, #insuredName:VARCHAR#, #insuredId:VARCHAR#,
			#insuredBirthday:TIMESTAMP#, #insuredAge:VARCHAR#, #payType:VARCHAR#, #premium:DECIMAL#,
			#amount:DECIMAL#, #commRate:DECIMAL#, #commission:DECIMAL#, #serviceCharge:DECIMAL#,
			#salesSource:VARCHAR#, #salesBranch:VARCHAR#, #salesId:VARCHAR#, #salesNo:VARCHAR#,
			#isAutoRenew:VARCHAR#, #amountCheck:VARCHAR#, #licensePlate:VARCHAR#, #oldPolicyno:VARCHAR#,
			#oldEnddate:TIMESTAMP#, #projNo:VARCHAR#, #projName:VARCHAR#, #acceptWay:VARCHAR#,
			#starttime:TIMESTAMP#, #endtime:TIMESTAMP#, #address:VARCHAR#, #phonenumber:VARCHAR#,
			#deleteFlag:VARCHAR#, #icreate:VARCHAR#, #dcreate:TIMESTAMP#, #iupdate:VARCHAR#,
			#dupdate:TIMESTAMP#)
	</insert>

	<update id="update" parameterClass="com.tlg.prpins.entity.FirAgtBop02" >
		update <include refid="Utils.prpinsSchema" />FIR_AGT_BOP_02
		<dynamic prepend="set" >
		  <isNotNull prepend="," property="batchNo" >
		    BATCH_NO = #batchNo:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="riskcode" >
		    RISKCODE = #riskcode:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="policyno" >
		    POLICYNO = #policyno:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="orderseq" >
		    ORDERSEQ = #orderseq:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="endorseno" >
		    ENDORSENO = #endorseno:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="riskcodeBop" >
		    RISKCODE_BOP = #riskcodeBop:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="kindcodeBop" >
		    KINDCODE_BOP = #kindcodeBop:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="dataDate" >
		    DATA_DATE = #dataDate:TIMESTAMP#
		  </isNotNull>
		  <isNotNull prepend="," property="startdate" >
		    STARTDATE = #startdate:TIMESTAMP#
		  </isNotNull>
		  <isNotNull prepend="," property="enddate" >
		    ENDDATE = #enddate:TIMESTAMP#
		  </isNotNull>
		  <isNotNull prepend="," property="underwriteenddate" >
		    UNDERWRITEENDDATE = #underwriteenddate:TIMESTAMP#
		  </isNotNull>
		  <isNotNull prepend="," property="orderType" >
		    ORDER_TYPE = #orderType:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="policyStatus" >
		    POLICY_STATUS = #policyStatus:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="endorsetext" >
		    ENDORSETEXT = #endorsetext:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="isRenew" >
		    IS_RENEW = #isRenew:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="applyName" >
		    APPLY_NAME = #applyName:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="applyId" >
		    APPLY_ID = #applyId:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="applyPostcode" >
		    APPLY_POSTCODE = #applyPostcode:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="applyAddr" >
		    APPLY_ADDR = #applyAddr:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="insuredName" >
		    INSURED_NAME = #insuredName:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="insuredId" >
		    INSURED_ID = #insuredId:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="insuredBirthday" >
		    INSURED_BIRTHDAY = #insuredBirthday:TIMESTAMP#
		  </isNotNull>
		  <isNotNull prepend="," property="insuredAge" >
		    INSURED_AGE = #insuredAge:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="payType" >
		    PAY_TYPE = #payType:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="premium" >
		    PREMIUM = #premium:DECIMAL#
		  </isNotNull>
		  <isNotNull prepend="," property="amount" >
		    AMOUNT = #amount:DECIMAL#
		  </isNotNull>
		  <isNotNull prepend="," property="commRate" >
		    COMM_RATE = #commRate:DECIMAL#
		  </isNotNull>
		  <isNotNull prepend="," property="commission" >
		    COMMISSION = #commission:DECIMAL#
		  </isNotNull>
		  <isNotNull prepend="," property="serviceCharge" >
		    SERVICE_CHARGE = #serviceCharge:DECIMAL#
		  </isNotNull>
		  <isNotNull prepend="," property="salesSource" >
		    SALES_SOURCE = #salesSource:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="salesBranch" >
		    SALES_BRANCH = #salesBranch:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="salesId" >
		    SALES_ID = #salesId:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="salesNo" >
		    SALES_NO = #salesNo:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="isAutoRenew" >
		    IS_AUTO_RENEW = #isAutoRenew:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="amountCheck" >
		    AMOUNT_CHECK = #amountCheck:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="licensePlate" >
		    LICENSE_PLATE = #licensePlate:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="oldPolicyno" >
		    OLD_POLICYNO = #oldPolicyno:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="oldEnddate" >
		    OLD_ENDDATE = #oldEnddate:TIMESTAMP#
		  </isNotNull>
		  <isNotNull prepend="," property="projNo" >
		    PROJ_NO = #projNo:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="projName" >
		    PROJ_NAME = #projName:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="acceptWay" >
		    ACCEPT_WAY = #acceptWay:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="starttime" >
		    STARTTIME = #starttime:TIMESTAMP#
		  </isNotNull>
		  <isNotNull prepend="," property="endtime" >
		    ENDTIME = #endtime:TIMESTAMP#
		  </isNotNull>
		  <isNotNull prepend="," property="address" >
		    ADDRESS = #address:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="phonenumber" >
		    PHONENUMBER = #phonenumber:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="deleteFlag" >
		    DELETE_FLAG = #deleteFlag:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="icreate" >
		    ICREATE = #icreate:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="dcreate" >
		    DCREATE = #dcreate:TIMESTAMP#
		  </isNotNull>
		  <isNotNull prepend="," property="iupdate" >
		    IUPDATE = #iupdate:VARCHAR#
		  </isNotNull>
		  <isNotNull prepend="," property="dupdate" >
		    DUPDATE = #dupdate:TIMESTAMP#
		  </isNotNull>
		</dynamic>
		where OID = #oid:DECIMAL#
	</update>
</sqlMap>