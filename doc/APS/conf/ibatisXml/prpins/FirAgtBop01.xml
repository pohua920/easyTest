<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<!-- mantis：FIR0266，處理人員：BJ085，需求單編號：FIR0266 板信資料交換處理作業 start -->
<sqlMap namespace="FirAgtBop01" >
  <resultMap id="BaseResultMap" class="com.tlg.prpins.entity.FirAgtBop01" >
 
    <result column="OID" property="oid" jdbcType="DECIMAL" />
    <result column="BATCH_NO" property="batchNo" jdbcType="VARCHAR" />
    <result column="RISKCODE" property="riskcode" jdbcType="VARCHAR" />
    <result column="ORDERSEQ" property="orderseq" jdbcType="VARCHAR" />
    <result column="POLICYNO" property="policyno" jdbcType="VARCHAR" />
    <result column="RISKCODE_BOP" property="riskcodeBop" jdbcType="VARCHAR" />
    <result column="KINDCODE_BOP" property="kindcodeBop" jdbcType="VARCHAR" />
    <result column="DATA_DATE" property="dataDate" jdbcType="TIMESTAMP" />
    <result column="APPLY_DATE" property="applyDate" jdbcType="TIMESTAMP" />
    <result column="STARTDATE" property="startdate" jdbcType="TIMESTAMP" />
    <result column="ENDDATE" property="enddate" jdbcType="TIMESTAMP" />
    <result column="ORDER_TYPE" property="orderType" jdbcType="VARCHAR" />
    <result column="POLICY_STATUS" property="policyStatus" jdbcType="VARCHAR" />
    <result column="ENDORSETEXT" property="endorsetext" jdbcType="CHAR" />
    <result column="IS_RENEW" property="isRenew" jdbcType="VARCHAR" />
    <result column="APPLY_NAME" property="applyName" jdbcType="VARCHAR" />
    <result column="APPLY_ID" property="applyId" jdbcType="VARCHAR" />
    <result column="APPLY_POSTCODE" property="applyPostcode" jdbcType="VARCHAR" />
    <result column="APPLY_ADDR" property="applyAddr" jdbcType="VARCHAR" />
    <result column="INSURED_NAME" property="insuredName" jdbcType="VARCHAR" />
    <result column="INSURED_ID" property="insuredId" jdbcType="VARCHAR" />
    <result column="INSURED_BIRTHDAY" property="insuredBirthday" jdbcType="TIMESTAMP" />
    <result column="INSURED_AGE" property="insuredAge" jdbcType="VARCHAR" />
    <result column="PAY_TYPE" property="payType" jdbcType="VARCHAR" />
    <result column="PREMIUM" property="premium" jdbcType="DECIMAL" />
    <result column="AMOUNT" property="amount" jdbcType="DECIMAL" />
    <result column="INQUIRY_TYPE" property="inquiryType" jdbcType="VARCHAR" />
    <result column="COMM_RATE" property="commRate" jdbcType="DECIMAL" />
    <result column="SALES_SOURCE" property="salesSource" jdbcType="VARCHAR" />
    <result column="SALES_BRANCH" property="salesBranch" jdbcType="VARCHAR" />
    <result column="IS_AUTO_RENEW" property="isAutoRenew" jdbcType="VARCHAR" />
    <result column="AMOUNT_CHECK" property="amountCheck" jdbcType="VARCHAR" />
    <result column="LICENSE_PLATE" property="licensePlate" jdbcType="VARCHAR" />
    <result column="OLD_POLICYNO" property="oldPolicyno" jdbcType="VARCHAR" />
    <result column="OLD_ENDDATE" property="oldEnddate" jdbcType="TIMESTAMP" />
    <result column="PROJ_NO" property="projNo" jdbcType="VARCHAR" />
    <result column="PROJ_NAME" property="projName" jdbcType="VARCHAR" />
    <result column="SALES_ID" property="salesId" jdbcType="VARCHAR" />
    <result column="SALES_NAME" property="salesName" jdbcType="VARCHAR" />
    <result column="SALES_NO" property="salesNo" jdbcType="VARCHAR" />
    <result column="CAR_BRAND" property="carBrand" jdbcType="VARCHAR" />
    <result column="CAR_TYPE" property="carType" jdbcType="VARCHAR" />
    <result column="CAR_YEAR" property="carYear" jdbcType="VARCHAR" />
    <result column="CAR_CC" property="carCc" jdbcType="VARCHAR" />
    <result column="SALES_TYPE" property="salesType" jdbcType="VARCHAR" />
    <result column="PAY_WAY" property="payWay" jdbcType="VARCHAR" />
    <result column="ICREATE" property="icreate" jdbcType="VARCHAR" />
    <result column="DCREATE" property="dcreate" jdbcType="TIMESTAMP" />
    <result column="IUPDATE" property="iupdate" jdbcType="VARCHAR" />
    <result column="DUPDATE" property="dupdate" jdbcType="TIMESTAMP" />
  </resultMap>
  
  <select id="select" resultMap="BaseResultMap" parameterClass="java.util.Map">
		<include refid="Utils.sql1" />
			SELECT * FROM <include refid="Utils.prpinsSchema"/>FIR_AGT_BOP_01
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="batchNo">
				BATCH_NO = #batchNo#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="oid">
				OID = #oid#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="riskcode">
				RISKCODE = #riskcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="orderseq">
				ORDERSEQ = #orderseq#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="policyno">
				POLICYNO = #policyno#
			</isNotEmpty>
		</dynamic>
		<include refid="Utils.sql2" />
	</select>
	
	<select id="selectByParams" resultMap="BaseResultMap" parameterClass="java.util.Map">
		SELECT * FROM <include refid="Utils.prpinsSchema"/>FIR_AGT_BOP_01
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="batchNo">
				BATCH_NO = #batchNo#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="oid">
				OID = #oid#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="riskcode">
				RISKCODE = #riskcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="orderseq">
				ORDERSEQ = #orderseq#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="policyno">
				POLICYNO = #policyno#
			</isNotEmpty>
		</dynamic>
	</select>
	
	<select id="count" resultClass="java.lang.Integer" parameterClass="java.util.Map">
		SELECT COUNT(*) FROM <include refid="Utils.prpinsSchema"/>FIR_AGT_BOP_01
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="batchNo">
				BATCH_NO = #batchNo#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="oid">
				OID = #oid#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="riskcode">
				RISKCODE = #riskcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="orderseq">
				ORDERSEQ = #orderseq#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="policyno">
				POLICYNO = #policyno#
			</isNotEmpty>
		</dynamic>
	</select>
	
	<delete id="delete" parameterClass="com.tlg.prpins.entity.FirAgtBop01" >
		delete from FIR_AGT_BOP_01
		where OID = #oid:DECIMAL#
	</delete>

	<insert id="insert" parameterClass="com.tlg.prpins.entity.FirAgtBop01" >
		insert into FIR_AGT_BOP_01 (OID, BATCH_NO, RISKCODE, ORDERSEQ, POLICYNO, RISKCODE_BOP,
			KINDCODE_BOP, DATA_DATE, APPLY_DATE, STARTDATE, ENDDATE, ORDER_TYPE, POLICY_STATUS,
			ENDORSETEXT, IS_RENEW, APPLY_NAME, APPLY_ID, APPLY_POSTCODE, APPLY_ADDR, INSURED_NAME,
			INSURED_ID, INSURED_BIRTHDAY, INSURED_AGE, PAY_TYPE, PREMIUM, AMOUNT, INQUIRY_TYPE, COMM_RATE,
			SALES_SOURCE, SALES_BRANCH, IS_AUTO_RENEW, AMOUNT_CHECK, LICENSE_PLATE, OLD_POLICYNO,
			OLD_ENDDATE, PROJ_NO, PROJ_NAME, SALES_ID, SALES_NAME, SALES_NO, CAR_BRAND, CAR_TYPE,
			CAR_YEAR, CAR_CC, SALES_TYPE, PAY_WAY, ICREATE, DCREATE, IUPDATE, DUPDATE)
		values (#oid:DECIMAL#, #batchNo:VARCHAR#, #riskcode:VARCHAR#, #orderseq:VARCHAR#,
			#policyno:VARCHAR#, #riskcodeBop:VARCHAR#, #kindcodeBop:VARCHAR#, #dataDate:TIMESTAMP#,
			#applyDate:TIMESTAMP#, #startdate:TIMESTAMP#, #enddate:TIMESTAMP#, #orderType:VARCHAR#,
			#policyStatus:VARCHAR#, #endorsetext:CHAR#, #isRenew:VARCHAR#, #applyName:VARCHAR#,
			#applyId:VARCHAR#, #applyPostcode:VARCHAR#, #applyAddr:VARCHAR#, #insuredName:VARCHAR#,
			#insuredId:VARCHAR#, #insuredBirthday:TIMESTAMP#, #insuredAge:VARCHAR#, #payType:VARCHAR#,
			#premium:DECIMAL#, #amount:DECIMAL#, #inquiryType:VARCHAR#, #commRate:DECIMAL#,
			#salesSource:VARCHAR#, #salesBranch:VARCHAR#, #isAutoRenew:VARCHAR#, #amountCheck:VARCHAR#,
			#licensePlate:VARCHAR#, #oldPolicyno:VARCHAR#, #oldEnddate:TIMESTAMP#, #projNo:VARCHAR#,
			#projName:VARCHAR#, #salesId:VARCHAR#, #salesName:VARCHAR#, #salesNo:VARCHAR#, #carBrand:VARCHAR#,
			#carType:VARCHAR#, #carYear:VARCHAR#, #carCc:VARCHAR#, #salesType:VARCHAR#, #payWay:VARCHAR#,
			#icreate:VARCHAR#, #dcreate:TIMESTAMP#, #iupdate:VARCHAR#, #dupdate:TIMESTAMP#)
	</insert>

<update id="update" parameterClass="com.tlg.prpins.entity.FirAgtBop01" >
	update FIR_AGT_BOP_01
	<dynamic prepend="set" >
		<isNotNull prepend="," property="batchNo" >
		  BATCH_NO = #batchNo:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="riskcode" >
		  RISKCODE = #riskcode:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="orderseq" >
		  ORDERSEQ = #orderseq:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="policyno" >
		  POLICYNO = #policyno:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="riskcodeBop" >
		  RISKCODE_BOP = #riskcodeBop:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="kindcodeBop" >
		  KINDCODE_BOP = #kindcodeBop:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="dataDate" >
		  DATA_DATE = #dataDate:TIMESTAMP#
		</isNotNull>
		<isNotNull prepend="," property="applyDate" >
		  APPLY_DATE = #applyDate:TIMESTAMP#
		</isNotNull>
		<isNotNull prepend="," property="startdate" >
		  STARTDATE = #startdate:TIMESTAMP#
		</isNotNull>
		<isNotNull prepend="," property="enddate" >
		  ENDDATE = #enddate:TIMESTAMP#
		</isNotNull>
		<isNotNull prepend="," property="orderType" >
		  ORDER_TYPE = #orderType:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="policyStatus" >
		  POLICY_STATUS = #policyStatus:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="endorsetext" >
		  ENDORSETEXT = #endorsetext:CHAR#
		</isNotNull>
		<isNotNull prepend="," property="isRenew" >
		  IS_RENEW = #isRenew:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="applyName" >
		  APPLY_NAME = #applyName:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="applyId" >
		  APPLY_ID = #applyId:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="applyPostcode" >
		  APPLY_POSTCODE = #applyPostcode:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="applyAddr" >
		  APPLY_ADDR = #applyAddr:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="insuredName" >
		  INSURED_NAME = #insuredName:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="insuredId" >
		  INSURED_ID = #insuredId:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="insuredBirthday" >
		  INSURED_BIRTHDAY = #insuredBirthday:TIMESTAMP#
		</isNotNull>
		<isNotNull prepend="," property="insuredAge" >
		  INSURED_AGE = #insuredAge:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="payType" >
		  PAY_TYPE = #payType:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="premium" >
		  PREMIUM = #premium:DECIMAL#
		</isNotNull>
		<isNotNull prepend="," property="amount" >
		  AMOUNT = #amount:DECIMAL#
		</isNotNull>
		<isNotNull prepend="," property="inquiryType" >
		  INQUIRY_TYPE = #inquiryType:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="commRate" >
		  COMM_RATE = #commRate:DECIMAL#
		</isNotNull>
		<isNotNull prepend="," property="salesSource" >
		  SALES_SOURCE = #salesSource:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="salesBranch" >
		  SALES_BRANCH = #salesBranch:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="isAutoRenew" >
		  IS_AUTO_RENEW = #isAutoRenew:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="amountCheck" >
		  AMOUNT_CHECK = #amountCheck:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="licensePlate" >
		  LICENSE_PLATE = #licensePlate:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="oldPolicyno" >
		  OLD_POLICYNO = #oldPolicyno:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="oldEnddate" >
		  OLD_ENDDATE = #oldEnddate:TIMESTAMP#
		</isNotNull>
		<isNotNull prepend="," property="projNo" >
		  PROJ_NO = #projNo:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="projName" >
		  PROJ_NAME = #projName:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="salesId" >
		  SALES_ID = #salesId:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="salesName" >
		  SALES_NAME = #salesName:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="salesNo" >
		  SALES_NO = #salesNo:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="carBrand" >
		  CAR_BRAND = #carBrand:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="carType" >
		  CAR_TYPE = #carType:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="carYear" >
		  CAR_YEAR = #carYear:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="carCc" >
		  CAR_CC = #carCc:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="salesType" >
		  SALES_TYPE = #salesType:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="payWay" >
		  PAY_WAY = #payWay:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="icreate" >
		  ICREATE = #icreate:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="dcreate" >
		  DCREATE = #dcreate:TIMESTAMP#
		</isNotNull>
		<isNotNull prepend="," property="iupdate" >
		  IUPDATE = #iupdate:VARCHAR#
		</isNotNull>
		<isNotNull prepend="," property="dupdate" >
		  DUPDATE = #dupdate:TIMESTAMP#
		</isNotNull>
	</dynamic>
		where OID = #oid:DECIMAL#
	</update>
</sqlMap>