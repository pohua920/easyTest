<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="CarReinsurancePlan" >
  <resultMap id="BaseResultMap" class="com.tlg.prpins.entity.CarReinsurancePlan" >
    <!--
    	mantis：CAR0553，處理人員：DP0706，需求單編號：CAR0553.APS-車險再保註記設定維護功能
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Jul 26 11:31:01 CST 2023.
    -->
    <result column="OID" property="oid" jdbcType="DECIMAL" />
    <result column="REINSURANCETYPE" property="reinsurancetype" jdbcType="VARCHAR" />
    <result column="CONTRACTNAME" property="contractname" jdbcType="VARCHAR" />
    <result column="PERIODSTARTDATE" property="periodstartdate" jdbcType="TIMESTAMP" />
    <result column="PERIODEND" property="periodend" jdbcType="TIMESTAMP" />
    <result column="BCODE" property="bcode" jdbcType="VARCHAR" />
    <result column="CARKINDCODE" property="carkindcode" jdbcType="VARCHAR" />
    <result column="KINDCODE" property="kindcode" jdbcType="VARCHAR" />
    <result column="AMOUNT_S" property="amountS" jdbcType="DECIMAL" />
    <result column="AMOUNT_E" property="amountE" jdbcType="DECIMAL" />
    <result column="BIDNOTYPE" property="bidnotype" jdbcType="VARCHAR" />
    <result column="BIDNO" property="bidno" jdbcType="VARCHAR" />
    <result column="LICENSENO" property="licenseno" jdbcType="VARCHAR" />
    <result column="MARK" property="mark" jdbcType="VARCHAR" />
    <result column="ICREATE" property="icreate" jdbcType="VARCHAR" />
    <result column="DCREATE" property="dcreate" jdbcType="TIMESTAMP" />
    <result column="IUPDATE" property="iupdate" jdbcType="VARCHAR" />
    <result column="DUPDATE" property="dupdate" jdbcType="TIMESTAMP" />
    <result column="DELETE_FLAG" property="deleteFlag" jdbcType="VARCHAR" />
  </resultMap>
  
  <select id="selectByUK" resultClass="com.tlg.prpins.entity.CarReinsurancePlan" parameterClass="java.util.Map" >
		SELECT * FROM <include refid="Utils.prpinsSchema"/>CAR_REINSURANCE_PLAN
		where oid = #oid#
	</select>
  
  <select id="count" parameterClass="java.util.Map" resultClass="java.lang.Integer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Mar 19 17:18:25 CST 2020.
    -->
    select count(1) from <include refid="Utils.prpinsSchema"/>CAR_REINSURANCE_PLAN
    	<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="reinsurancetype">
				REINSURANCETYPE = #reinsurancetype#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="contractname">
				CONTRACTNAME like '%'|| #contractname# ||'%'
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="periodstartdate">
				PERIODSTARTDATE <![CDATA[>=]]> to_date(#periodstartdate# , 'yyyy/mm/dd')
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="periodend">
				PERIODEND <![CDATA[<=]]> to_date(#periodend# , 'yyyy/mm/dd')
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="bcode">
				BCODE = #bcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="carkindcode">
				CARKINDCODE = #carkindcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="kindcode">
				KINDCODE = #kindcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="bidno">
				BIDNO = #bidno#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="licenseno">
				LICENSENO = #licenseno#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="deleteFlag">
				DELETE_FLAG = #deleteFlag#
			</isNotEmpty>
		</dynamic>
  </select>
  <select id="select" parameterClass="java.util.Map" resultMap="BaseResultMap">
  	<include refid="Utils.sql1" />
	SELECT * FROM <include refid="Utils.prpinsSchema"/>CAR_REINSURANCE_PLAN
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="reinsurancetype">
				REINSURANCETYPE = #reinsurancetype#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="contractname">
				CONTRACTNAME like '%'|| #contractname# ||'%'
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="periodstartdate">
				PERIODSTARTDATE <![CDATA[>=]]> to_date(#periodstartdate# , 'yyyy/mm/dd')
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="periodend">
				PERIODEND <![CDATA[<=]]> to_date(#periodend# , 'yyyy/mm/dd')
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="bcode">
				BCODE = #bcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="carkindcode">
				CARKINDCODE = #carkindcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="kindcode">
				KINDCODE = #kindcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="bidno">
				BIDNO = #bidno#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="licenseno">
				LICENSENO = #licenseno#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="deleteFlag">
				DELETE_FLAG = #deleteFlag#
			</isNotEmpty>
		</dynamic>
		<include refid="Utils.sql2" />
  </select>
  <select id="selectByParams" parameterClass="java.util.Map" resultMap="BaseResultMap">
    select * from <include refid="Utils.prpinsSchema"/>CAR_REINSURANCE_PLAN
    	<dynamic prepend="WHERE">
    		<isNotNull prepend="AND" property="oid">
		        OID = #oid:DECIMAL#
		      </isNotNull>
			<isNotEmpty prepend="AND" property="reinsurancetype">
				REINSURANCETYPE = #reinsurancetype#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="contractname">
				CONTRACTNAME like '%'|| #contractname# ||'%'
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="periodstartdate">
				PERIODSTARTDATE <![CDATA[>=]]> to_date(#periodstartdate# , 'yyyy/mm/dd')
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="periodend">
				PERIODEND <![CDATA[<=]]> to_date(#periodend# , 'yyyy/mm/dd')
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="bcode">
				BCODE = #bcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="carkindcode">
				CARKINDCODE = #carkindcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="kindcode">
				KINDCODE = #kindcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="bidno">
				BIDNO = #bidno#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="licenseno">
				LICENSENO = #licenseno#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="deleteFlag">
				DELETE_FLAG = #deleteFlag#
			</isNotEmpty>
		</dynamic>
		<isNotEmpty property="sortBy">
			ORDER BY $sortBy$ $sortType$ 
		</isNotEmpty>
  </select>
  
  <delete id="delete" parameterClass="java.math.BigDecimal" >
    delete from <include refid="Utils.prpinsSchema"/>CAR_REINSURANCE_PLAN
    where OID = #oid:DECIMAL#
  </delete>
  
  <insert id="insert" parameterClass="com.tlg.prpins.entity.CarReinsurancePlan" >
    <selectKey resultClass="java.math.BigDecimal" keyProperty="oid" >    
    	SELECT CAR_REINSURANCE_PLAN_SEQ.NEXTVAL AS OID FROM DUAL    
	</selectKey>
    insert into CAR_REINSURANCE_PLAN (OID, REINSURANCETYPE, CONTRACTNAME, PERIODSTARTDATE,
      PERIODEND, BCODE, CARKINDCODE, KINDCODE, AMOUNT_S, AMOUNT_E, BIDNOTYPE, BIDNO, LICENSENO,
      MARK, ICREATE, DCREATE, IUPDATE, DUPDATE, DELETE_FLAG)
    values (#oid:DECIMAL#, #reinsurancetype:VARCHAR#, #contractname:VARCHAR#,
      #periodstartdate:TIMESTAMP#, #periodend:TIMESTAMP#, #bcode:VARCHAR#, #carkindcode:VARCHAR#,
      #kindcode:VARCHAR#, #amountS:DECIMAL#, #amountE:DECIMAL#, #bidnotype:VARCHAR#,
      #bidno:VARCHAR#, #licenseno:VARCHAR#, #mark:VARCHAR#, #icreate:VARCHAR#, #dcreate:TIMESTAMP#,
      #iupdate:VARCHAR#, #dupdate:TIMESTAMP#, #deleteFlag:VARCHAR#)
  </insert>
 
  <update id="update" parameterClass="com.tlg.prpins.entity.CarReinsurancePlan">
   	update CAR_REINSURANCE_PLAN
    <dynamic prepend="set" >
     	<isNotNull prepend="," property="reinsurancetype" >
        REINSURANCETYPE = #reinsurancetype:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="contractname" >
        CONTRACTNAME = #contractname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="periodstartdate" >
        PERIODSTARTDATE = #periodstartdate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="periodend" >
        PERIODEND = #periodend:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="bcode" >
        BCODE = #bcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="carkindcode" >
        CARKINDCODE = #carkindcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="kindcode" >
        KINDCODE = #kindcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="amountS" >
        AMOUNT_S = #amountS:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="amountE" >
        AMOUNT_E = #amountE:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="bidnotype" >
        BIDNOTYPE = #bidnotype:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="bidno" >
        BIDNO = #bidno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="licenseno" >
        LICENSENO = #licenseno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="mark" >
        MARK = #mark:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="icreate" >
        ICREATE = #icreate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dcreate" >
        DCREATE = #dcreate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="iupdate" >
        IUPDATE = #iupdate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dupdate" >
        DUPDATE = #dupdate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="deleteFlag" >
        DELETE_FLAG = #deleteFlag:VARCHAR#
      </isNotNull>
    </dynamic>
    where OID = #oid:DECIMAL#
  </update>
  
</sqlMap>