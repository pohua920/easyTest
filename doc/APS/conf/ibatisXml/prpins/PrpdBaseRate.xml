<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="PrpdBaseRate">

	<resultMap id="BaseResultMap" class="com.tlg.prpins.entity.PrpdBaseRate" >
	    <result column="ID" property="id" jdbcType="VARCHAR" />
	    <result column="KINDCODE" property="kindcode" jdbcType="VARCHAR" />
	    <result column="DANGERGRADE" property="dangergrade" jdbcType="VARCHAR" />
	    <result column="BASERATE" property="baserate" jdbcType="VARCHAR" />
	    <result column="AMOUNT" property="amount" jdbcType="VARCHAR" />
	    <result column="BUILDINGLEVEL" property="buildinglevel" jdbcType="VARCHAR" />
	    <result column="AREA" property="area" jdbcType="VARCHAR" />
	    <result column="ITEM" property="item" jdbcType="VARCHAR" />
	    <result column="AMOUNT1" property="amount1" jdbcType="VARCHAR" />
	    <result column="STATISTICSNUM" property="statisticsnum" jdbcType="VARCHAR" />
	    <result column="USENATUREKIND" property="usenaturekind" jdbcType="VARCHAR" />
	    <result column="FILELEVEL" property="filelevel" jdbcType="VARCHAR" />
	    <result column="ENGAGECLAUSE" property="engageclause" jdbcType="VARCHAR" />
	    <result column="SUBCLAUSE" property="subclause" jdbcType="VARCHAR" />
	    <result column="EXPLOSIONGRADE" property="explosiongrade" jdbcType="VARCHAR" />
	    <result column="REMARK" property="remark" jdbcType="VARCHAR" />
	    <result column="FLAG" property="flag" jdbcType="VARCHAR" />
	    <result column="VALIDDATE" property="validdate" jdbcType="TIMESTAMP" />
	    <result column="LIMIT1" property="limit1" jdbcType="VARCHAR" />
	    <result column="PURPREMINUM1" property="purpreminum1" jdbcType="VARCHAR" />
	    <result column="LIMIT2" property="limit2" jdbcType="VARCHAR" />
	    <result column="PURPREMINUM2" property="purpreminum2" jdbcType="VARCHAR" />
	    <result column="DEDUCTIBLE" property="deductible" jdbcType="VARCHAR" />
	    <result column="DISCOUNT" property="discount" jdbcType="VARCHAR" />
	    <result column="VERSIONID" property="versionid" jdbcType="VARCHAR" />
	    <result column="VERSIONNAME" property="versionname" jdbcType="VARCHAR" />
	    <result column="VALIDENDDATE" property="validenddate" jdbcType="TIMESTAMP" />
	    <result column="VALIDFLAG" property="validflag" jdbcType="VARCHAR" />
	    <result column="SUBCLAUSELEVEL" property="subclauselevel" jdbcType="VARCHAR" />
	    <result column="RISKCODE" property="riskcode" jdbcType="VARCHAR" />
  	</resultMap>

	<select id="select" resultMap="BaseResultMap" parameterClass="java.util.Map">
		<include refid="Utils.sql1" />
		SELECT * FROM <include refid="Utils.prpinsSchema"/>PRPDBASERATE
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="id">
				ID = #id#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="riskcode">
				RISKCODE = #riskcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="kindcode">
				KINDCODE = #kindcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="item">
				ITEM = #item#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="flag">
				FLAG = #flag#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="validflag">
				VALIDFLAG = #validflag#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="buildinglevel">
				BUILDINGLEVEL = #buildinglevel#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="statisticsnum">
				STATISTICSNUM = #statisticsnum#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="calcDate">
				VALIDDATE <![CDATA[<=]]> TO_DATE(#calcDate#,'YYYYMMDD') AND VALIDENDDATE <![CDATA[>=]]> TO_DATE(#calcDate#,'YYYYMMDD')
			</isNotEmpty>
		</dynamic>
		<include refid="Utils.sql2" />
	</select>

	<select id="selectByParams" resultMap="BaseResultMap" parameterClass="java.util.Map">
		SELECT * FROM <include refid="Utils.prpinsSchema"/>PRPDBASERATE
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="id">
				ID = #id#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="riskcode">
				RISKCODE = #riskcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="kindcode">
				KINDCODE = #kindcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="item">
				ITEM = #item#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="flag">
				FLAG = #flag#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="buildinglevel">
				BUILDINGLEVEL = #buildinglevel#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="validflag">
				VALIDFLAG = #validflag#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="statisticsnum">
				STATISTICSNUM = #statisticsnum#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="calcDate">
				VALIDDATE <![CDATA[<=]]> TO_DATE(#calcDate#,'YYYYMMDD') AND VALIDENDDATE <![CDATA[>=]]> TO_DATE(#calcDate#,'YYYYMMDD')
			</isNotEmpty>
		</dynamic>
	</select>

 	
	<select id="count" resultClass="java.lang.Integer" parameterClass="java.util.Map">
		SELECT COUNT(*) FROM <include refid="Utils.prpinsSchema"/>PRPDBASERATE
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="id">
				ID = #id#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="riskcode">
				RISKCODE = #riskcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="kindcode">
				KINDCODE = #kindcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="item">
				ITEM = #item#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="flag">
				FLAG = #flag#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="validflag">
				VALIDFLAG = #validflag#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="buildinglevel">
				BUILDINGLEVEL = #buildinglevel#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="statisticsnum">
				STATISTICSNUM = #statisticsnum#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="calcDate">
				VALIDDATE <![CDATA[<=]]> TO_DATE(#calcDate#,'YYYYMMDD') AND VALIDENDDATE <![CDATA[>=]]> TO_DATE(#calcDate#,'YYYYMMDD')
			</isNotEmpty>
		</dynamic>
	</select>

</sqlMap>