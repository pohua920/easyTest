<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<!-- mantis：FIR0315，處理人員：BJ085，需求單編號：FIR0315 台銀保經-APS保單檔產生排程 -->
<sqlMap namespace="FirAgtBotFh">
  <resultMap id="BaseResultMap" class="com.tlg.prpins.entity.FirAgtBotFh" >
    <result column="OID" property="oid" jdbcType="DECIMAL" />
    <result column="BATCH_NO" property="batchNo" jdbcType="VARCHAR" />
    <result column="RISKCODE" property="riskcode" jdbcType="VARCHAR" />
    <result column="COMPANYNO" property="companyno" jdbcType="VARCHAR" />
    <result column="RISKCODE_BOT" property="riskcodeBot" jdbcType="VARCHAR" />
    <result column="DATA_TYPE" property="dataType" jdbcType="VARCHAR" />
    <result column="ORDERSEQ" property="orderseq" jdbcType="VARCHAR" />
    <result column="OLDPOLICYNO" property="oldpolicyno" jdbcType="VARCHAR" />
    <result column="LT_FIRE_YEAR" property="ltFireYear" jdbcType="DECIMAL" />
    <result column="POLICYNO" property="policyno" jdbcType="VARCHAR" />
    <result column="ENDORSE_ORDER" property="endorseOrder" jdbcType="DECIMAL" />
    <result column="ENDORSENO" property="endorseno" jdbcType="VARCHAR" />
    <result column="AUTO_RENEW" property="autoRenew" jdbcType="VARCHAR" />
    <result column="UNDERWRITEENDDATE" property="underwriteenddate" jdbcType="TIMESTAMP" />
    <result column="STARTDATE_F" property="startdateF" jdbcType="TIMESTAMP" />
    <result column="ENDDATE_F" property="enddateF" jdbcType="TIMESTAMP" />
    <result column="STARTDATE_Q" property="startdateQ" jdbcType="TIMESTAMP" />
    <result column="ENDDATE_Q" property="enddateQ" jdbcType="TIMESTAMP" />
    <result column="APPLI_ID" property="appliId" jdbcType="VARCHAR" />
    <result column="APPLINAME" property="appliname" jdbcType="VARCHAR" />
    <result column="INSURED_ID" property="insuredId" jdbcType="VARCHAR" />
    <result column="INSUREDNAME" property="insuredname" jdbcType="VARCHAR" />
    <result column="APPLI_POSTCODE" property="appliPostcode" jdbcType="VARCHAR" />
    <result column="APPLI_ADDRESS" property="appliAddress" jdbcType="VARCHAR" />
    <result column="APPLI_PHONE_1" property="appliPhone1" jdbcType="VARCHAR" />
    <result column="EXTRA_2" property="extra2" jdbcType="VARCHAR" />
    <result column="EXTRACOMCODE" property="extracomcode" jdbcType="VARCHAR" />
    <result column="ORGICODE" property="orgicode" jdbcType="VARCHAR" />
    <result column="BANKNO" property="bankno" jdbcType="VARCHAR" />
    <result column="ACCOUNT_1" property="account1" jdbcType="VARCHAR" />
    <result column="ACCOUNT_2" property="account2" jdbcType="VARCHAR" />
    <result column="SUMFLOORS" property="sumfloors" jdbcType="VARCHAR" />
    <result column="WALLNO" property="wallno" jdbcType="VARCHAR" />
    <result column="ROOFNO" property="roofno" jdbcType="VARCHAR" />
    <result column="BUILDAREA" property="buildarea" jdbcType="DECIMAL" />
    <result column="BUILDYEARS" property="buildyears" jdbcType="VARCHAR" />
    <result column="PROP_ADDRESS" property="propAddress" jdbcType="VARCHAR" />
    <result column="AMOUNT_F" property="amountF" jdbcType="DECIMAL" />
    <result column="AMOUNT_Q" property="amountQ" jdbcType="DECIMAL" />
    <result column="PREMIUM_F" property="premiumF" jdbcType="DECIMAL" />
    <result column="PREMIUM_A" property="premiumA" jdbcType="DECIMAL" />
    <result column="PREMIUM_Q" property="premiumQ" jdbcType="DECIMAL" />
    <result column="COMM_F" property="commF" jdbcType="DECIMAL" />
    <result column="COMM_A" property="commA" jdbcType="DECIMAL" />
    <result column="COMM_Q" property="commQ" jdbcType="DECIMAL" />
    <result column="SERVICE_FEE" property="serviceFee" jdbcType="DECIMAL" />
    <result column="PAYMENT_NO" property="paymentNo" jdbcType="VARCHAR" />
    <result column="PREMIUM_TOTAL" property="premiumTotal" jdbcType="DECIMAL" />
    <result column="APPLI_BIRTHDAY" property="appliBirthday" jdbcType="TIMESTAMP" />
    <result column="APPLI_PHONE_2" property="appliPhone2" jdbcType="VARCHAR" />
    <result column="INSURED_BIRTHDAY" property="insuredBirthday" jdbcType="TIMESTAMP" />
    <result column="INSURED_PHONE" property="insuredPhone" jdbcType="VARCHAR" />
    <result column="INSURED_MAIL" property="insuredMail" jdbcType="VARCHAR" />
    <result column="INSURED_ADDRESS" property="insuredAddress" jdbcType="VARCHAR" />
    <result column="ICREATE" property="icreate" jdbcType="VARCHAR" />
    <result column="DCREATE" property="dcreate" jdbcType="TIMESTAMP" />
    <result column="IUPDATE" property="iupdate" jdbcType="VARCHAR" />
    <result column="DUPDATE" property="dupdate" jdbcType="TIMESTAMP" />
  </resultMap>
  
  <select id="select" resultMap="BaseResultMap" parameterClass="java.util.Map">
		<include refid="Utils.sql1" />
			SELECT * FROM <include refid="Utils.prpinsSchema"/>FIR_AGT_BOT_FH
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="batchNo">
				BATCH_NO = #batchNo#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="oid">
				OID = #oid#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="riskcode">
				RISKCODE = #riskcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="orderseq">
				ORDERSEQ = #orderseq#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="policyno">
				POLICYNO = #policyno#
			</isNotEmpty>
		</dynamic>
		<include refid="Utils.sql2" />
	</select>
	
	<select id="selectByParams" resultMap="BaseResultMap" parameterClass="java.util.Map">
		SELECT * FROM <include refid="Utils.prpinsSchema"/>FIR_AGT_BOT_FH
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="batchNo">
				BATCH_NO = #batchNo#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="oid">
				OID = #oid#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="riskcode">
				RISKCODE = #riskcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="orderseq">
				ORDERSEQ = #orderseq#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="policyno">
				POLICYNO = #policyno#
			</isNotEmpty>
		</dynamic>
	</select>
	
	<select id="count" resultClass="java.lang.Integer" parameterClass="java.util.Map">
		SELECT COUNT(*) FROM <include refid="Utils.prpinsSchema"/>FIR_AGT_BOT_FH
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="batchNo">
				BATCH_NO = #batchNo#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="oid">
				OID = #oid#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="riskcode">
				RISKCODE = #riskcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="orderseq">
				ORDERSEQ = #orderseq#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="policyno">
				POLICYNO = #policyno#
			</isNotEmpty>
		</dynamic>
	</select>
  
  <delete id="delete" parameterClass="com.tlg.prpins.entity.FirAgtBotFh" >
    delete from FIR_AGT_BOT_FH
    where OID = #oid:DECIMAL#
  </delete>
  
  <insert id="ibatorgenerated_insert" parameterClass="com.tlg.prpins.entity.FirAgtBotFh" >
    insert into FIR_AGT_BOT_FH (OID, BATCH_NO, RISKCODE, COMPANYNO, RISKCODE_BOT, DATA_TYPE,
      ORDERSEQ, OLDPOLICYNO, LT_FIRE_YEAR, POLICYNO, ENDORSE_ORDER, ENDORSENO, AUTO_RENEW,
      UNDERWRITEENDDATE, STARTDATE_F, ENDDATE_F, STARTDATE_Q, ENDDATE_Q, APPLI_ID, APPLINAME,
      INSURED_ID, INSUREDNAME, APPLI_POSTCODE, APPLI_ADDRESS, APPLI_PHONE_1, EXTRA_2, EXTRACOMCODE,
      ORGICODE, BANKNO, ACCOUNT_1, ACCOUNT_2, SUMFLOORS, WALLNO, ROOFNO, BUILDAREA, BUILDYEARS,
      PROP_ADDRESS, AMOUNT_F, AMOUNT_Q, PREMIUM_F, PREMIUM_A, PREMIUM_Q, COMM_F, COMM_A, COMM_Q,
      SERVICE_FEE, PAYMENT_NO, PREMIUM_TOTAL, APPLI_BIRTHDAY, APPLI_PHONE_2, INSURED_BIRTHDAY,
      INSURED_PHONE, INSURED_MAIL, INSURED_ADDRESS, ICREATE, DCREATE, IUPDATE, DUPDATE)
    values (#oid:DECIMAL#, #batchNo:VARCHAR#, #riskcode:VARCHAR#, #companyno:VARCHAR#,
      #riskcodeBot:VARCHAR#, #dataType:VARCHAR#, #orderseq:VARCHAR#, #oldpolicyno:VARCHAR#,
      #ltFireYear:DECIMAL#, #policyno:VARCHAR#, #endorseOrder:DECIMAL#, #endorseno:VARCHAR#,
      #autoRenew:VARCHAR#, #underwriteenddate:TIMESTAMP#, #startdateF:TIMESTAMP#,
      #enddateF:TIMESTAMP#, #startdateQ:TIMESTAMP#, #enddateQ:TIMESTAMP#, #appliId:VARCHAR#,
      #appliname:VARCHAR#, #insuredId:VARCHAR#, #insuredname:VARCHAR#, #appliPostcode:VARCHAR#,
      #appliAddress:VARCHAR#, #appliPhone1:VARCHAR#, #extra2:VARCHAR#, #extracomcode:VARCHAR#,
      #orgicode:VARCHAR#, #bankno:VARCHAR#, #account1:VARCHAR#, #account2:VARCHAR#,
      #sumfloors:VARCHAR#, #wallno:VARCHAR#, #roofno:VARCHAR#, #buildarea:DECIMAL#,
      #buildyears:VARCHAR#, #propAddress:VARCHAR#, #amountF:DECIMAL#, #amountQ:DECIMAL#,
      #premiumF:DECIMAL#, #premiumA:DECIMAL#, #premiumQ:DECIMAL#, #commF:DECIMAL#, #commA:DECIMAL#,
      #commQ:DECIMAL#, #serviceFee:DECIMAL#, #paymentNo:VARCHAR#, #premiumTotal:DECIMAL#,
      #appliBirthday:TIMESTAMP#, #appliPhone2:VARCHAR#, #insuredBirthday:TIMESTAMP#,
      #insuredPhone:VARCHAR#, #insuredMail:VARCHAR#, #insuredAddress:VARCHAR#, #icreate:VARCHAR#,
      #dcreate:TIMESTAMP#, #iupdate:VARCHAR#, #dupdate:TIMESTAMP#)
  </insert>

  <update id="uadate" parameterClass="com.tlg.prpins.entity.FirAgtBotFh" >
    update FIR_AGT_BOT_FH
    <dynamic prepend="set" >
      <isNotNull prepend="," property="batchNo" >
        BATCH_NO = #batchNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="riskcode" >
        RISKCODE = #riskcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="companyno" >
        COMPANYNO = #companyno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="riskcodeBot" >
        RISKCODE_BOT = #riskcodeBot:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dataType" >
        DATA_TYPE = #dataType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="orderseq" >
        ORDERSEQ = #orderseq:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="oldpolicyno" >
        OLDPOLICYNO = #oldpolicyno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ltFireYear" >
        LT_FIRE_YEAR = #ltFireYear:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="policyno" >
        POLICYNO = #policyno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="endorseOrder" >
        ENDORSE_ORDER = #endorseOrder:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="endorseno" >
        ENDORSENO = #endorseno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="autoRenew" >
        AUTO_RENEW = #autoRenew:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="underwriteenddate" >
        UNDERWRITEENDDATE = #underwriteenddate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="startdateF" >
        STARTDATE_F = #startdateF:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="enddateF" >
        ENDDATE_F = #enddateF:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="startdateQ" >
        STARTDATE_Q = #startdateQ:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="enddateQ" >
        ENDDATE_Q = #enddateQ:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="appliId" >
        APPLI_ID = #appliId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="appliname" >
        APPLINAME = #appliname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="insuredId" >
        INSURED_ID = #insuredId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="insuredname" >
        INSUREDNAME = #insuredname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="appliPostcode" >
        APPLI_POSTCODE = #appliPostcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="appliAddress" >
        APPLI_ADDRESS = #appliAddress:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="appliPhone1" >
        APPLI_PHONE_1 = #appliPhone1:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="extra2" >
        EXTRA_2 = #extra2:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="extracomcode" >
        EXTRACOMCODE = #extracomcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="orgicode" >
        ORGICODE = #orgicode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="bankno" >
        BANKNO = #bankno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="account1" >
        ACCOUNT_1 = #account1:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="account2" >
        ACCOUNT_2 = #account2:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="sumfloors" >
        SUMFLOORS = #sumfloors:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="wallno" >
        WALLNO = #wallno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="roofno" >
        ROOFNO = #roofno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="buildarea" >
        BUILDAREA = #buildarea:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="buildyears" >
        BUILDYEARS = #buildyears:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="propAddress" >
        PROP_ADDRESS = #propAddress:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="amountF" >
        AMOUNT_F = #amountF:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="amountQ" >
        AMOUNT_Q = #amountQ:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="premiumF" >
        PREMIUM_F = #premiumF:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="premiumA" >
        PREMIUM_A = #premiumA:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="premiumQ" >
        PREMIUM_Q = #premiumQ:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="commF" >
        COMM_F = #commF:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="commA" >
        COMM_A = #commA:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="commQ" >
        COMM_Q = #commQ:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="serviceFee" >
        SERVICE_FEE = #serviceFee:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="paymentNo" >
        PAYMENT_NO = #paymentNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="premiumTotal" >
        PREMIUM_TOTAL = #premiumTotal:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="appliBirthday" >
        APPLI_BIRTHDAY = #appliBirthday:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="appliPhone2" >
        APPLI_PHONE_2 = #appliPhone2:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="insuredBirthday" >
        INSURED_BIRTHDAY = #insuredBirthday:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="insuredPhone" >
        INSURED_PHONE = #insuredPhone:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="insuredMail" >
        INSURED_MAIL = #insuredMail:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="insuredAddress" >
        INSURED_ADDRESS = #insuredAddress:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="icreate" >
        ICREATE = #icreate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dcreate" >
        DCREATE = #dcreate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="iupdate" >
        IUPDATE = #iupdate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dupdate" >
        DUPDATE = #dupdate:TIMESTAMP#
      </isNotNull>
    </dynamic>
    where OID = #oid:DECIMAL#
  </update>
</sqlMap>