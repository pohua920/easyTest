<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<!-- mantis：FIR0295，處理人員：BJ085，需求單編號：FIR0295 外銀板信續件移回新核心-維護作業 -->
<sqlMap namespace="Prpyddagent">
  <resultMap class="com.tlg.prpins.entity.Prpyddagent" id="BaseResultMap">
    <result column="ID" jdbcType="VARCHAR" property="id" />
    <result column="SERIALNO" jdbcType="VARCHAR" property="serialno" />
    <result column="BUSINESSSOURCE" jdbcType="VARCHAR" property="businesssource" />
    <result column="BUSINESSSOURCENAME" jdbcType="VARCHAR" property="businesssourcename" />
    <result column="SALECOMCODE" jdbcType="VARCHAR" property="salecomcode" />
    <result column="SALECOMNAME" jdbcType="VARCHAR" property="salecomname" />
    <result column="AGENTID" jdbcType="VARCHAR" property="agentid" />
    <result column="AGENTNAME" jdbcType="VARCHAR" property="agentname" />
    <result column="SERVICEPERSONCODE" jdbcType="VARCHAR" property="servicepersoncode" />
    <result column="SERVICEPERSONNAME" jdbcType="VARCHAR" property="servicepersonname" />
    <result column="VERIFYREMARK" jdbcType="VARCHAR" property="verifyremark" />
    <result column="UNITCODE" jdbcType="VARCHAR" property="unitcode" />
    <result column="INTRODUCERID" jdbcType="VARCHAR" property="introducerid" />
    <result column="INTRODUCERNAME" jdbcType="VARCHAR" property="introducername" />
    <result column="IDENTIFYNUMBER" jdbcType="VARCHAR" property="identifynumber" />
    <result column="ORGICODE" jdbcType="VARCHAR" property="orgicode" />
  </resultMap>
 
 <select id="selectByParams" parameterClass="java.util.Map" resultMap="BaseResultMap">
    select * from <include refid="Utils.prpinsSchema"/>PRPYDDAGENT
    	<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="businesssource">
				BUSINESSSOURCE = #businesssource#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="verifyremark">
				VERIFYREMARK = #verifyremark#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="agentid">
				AGENTID = #agentid#
			</isNotEmpty>
		</dynamic>
  </select>
 
  <delete id="delete" parameterClass="com.tlg.prpins.entity.Prpyddagent">
    delete from PRPYDDAGENT
    where ID = #id:VARCHAR#
  </delete>

  <insert id="insert" parameterClass="com.tlg.prpins.entity.Prpyddagent">
    insert into PRPYDDAGENT (ID, SERIALNO, BUSINESSSOURCE, BUSINESSSOURCENAME, SALECOMCODE,
      SALECOMNAME, AGENTID, AGENTNAME, SERVICEPERSONCODE, SERVICEPERSONNAME, VERIFYREMARK, UNITCODE,
      INTRODUCERID, INTRODUCERNAME, IDENTIFYNUMBER, ORGICODE)
    values (#id:VARCHAR#, #serialno:VARCHAR#, #businesssource:VARCHAR#,
      #businesssourcename:VARCHAR#, #salecomcode:VARCHAR#, #salecomname:VARCHAR#, #agentid:VARCHAR#,
      #agentname:VARCHAR#, #servicepersoncode:VARCHAR#, #servicepersonname:VARCHAR#,
      #verifyremark:VARCHAR#, #unitcode:VARCHAR#, #introducerid:VARCHAR#, #introducername:VARCHAR#,
      #identifynumber:VARCHAR#, #orgicode:VARCHAR#)
  </insert>
 
  <update id="update" parameterClass="com.tlg.prpins.entity.Prpyddagent">
    update PRPYDDAGENT
    <dynamic prepend="set">
      <isNotNull prepend="," property="serialno">
        SERIALNO = #serialno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="businesssource">
        BUSINESSSOURCE = #businesssource:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="businesssourcename">
        BUSINESSSOURCENAME = #businesssourcename:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="salecomcode">
        SALECOMCODE = #salecomcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="salecomname">
        SALECOMNAME = #salecomname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="agentid">
        AGENTID = #agentid:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="agentname">
        AGENTNAME = #agentname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="servicepersoncode">
        SERVICEPERSONCODE = #servicepersoncode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="servicepersonname">
        SERVICEPERSONNAME = #servicepersonname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="verifyremark">
        VERIFYREMARK = #verifyremark:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="unitcode">
        UNITCODE = #unitcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="introducerid">
        INTRODUCERID = #introducerid:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="introducername">
        INTRODUCERNAME = #introducername:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="identifynumber">
        IDENTIFYNUMBER = #identifynumber:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="orgicode">
        ORGICODE = #orgicode:VARCHAR#
      </isNotNull>
    </dynamic>
    where ID = #id:VARCHAR#
  </update>
</sqlMap>