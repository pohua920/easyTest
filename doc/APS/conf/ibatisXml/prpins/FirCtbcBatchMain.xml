<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="FirCtbcBatchMain">
  <resultMap class="com.tlg.prpins.entity.FirCtbcBatchMain" id="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Mar 19 17:18:25 CST 2020.
    -->
    <result column="BATCH_NO" jdbcType="VARCHAR" property="batchNo" />
    <result column="BATCH_SEQ" jdbcType="VARCHAR" property="batchSeq" />
    <result column="FILENAME_ZIP" jdbcType="VARCHAR" property="filenameZip" />
    <result column="FILENAME_STL" jdbcType="VARCHAR" property="filenameStl" />
    <result column="DATAQTY_STL" jdbcType="DECIMAL" property="dataqtyStl" />
    <result column="FILENAME_SNN" jdbcType="VARCHAR" property="filenameSnn" />
    <result column="DATAQTY_SNN" jdbcType="DECIMAL" property="dataqtySnn" />
    <result column="FILENAME_PBL" jdbcType="VARCHAR" property="filenamePbl" />
    <result column="DATAQTY_PBL" jdbcType="DECIMAL" property="dataqtyPbl" />
    <result column="FILEQTY_SIG" jdbcType="DECIMAL" property="fileqtySig" />
    <result column="SIG_STATUS" jdbcType="VARCHAR" property="sigStatus" />
    <result column="FILE_STATUS" jdbcType="VARCHAR" property="fileStatus" />
    <result column="TRANS_STATUS" jdbcType="VARCHAR" property="transStatus" />
    <result column="DELETE_FLAG" jdbcType="VARCHAR" property="deleteFlag" />
    <result column="REMARK" jdbcType="VARCHAR" property="remark" />
    <result column="ICREATE" jdbcType="VARCHAR" property="icreate" />
    <result column="DCREATE" jdbcType="TIMESTAMP" property="dcreate" />
    <result column="IUPDATE" jdbcType="VARCHAR" property="iupdate" />
    <result column="DUPDATE" jdbcType="TIMESTAMP" property="dupdate" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Mar 19 17:18:25 CST 2020.
    -->
    BATCH_NO, BATCH_SEQ, FILENAME_ZIP, FILENAME_STL, DATAQTY_STL, FILENAME_SNN, DATAQTY_SNN, 
    FILENAME_PBL, DATAQTY_PBL, FILEQTY_SIG, SIG_STATUS, FILE_STATUS, TRANS_STATUS, DELETE_FLAG, 
    REMARK, ICREATE, DCREATE, IUPDATE, DUPDATE
  </sql>
  
  <select id="count" parameterClass="java.util.Map" resultClass="java.lang.Integer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Mar 19 17:18:25 CST 2020.
    -->
    select count(1) from <include refid="Utils.prpinsSchema"/>FIR_CTBC_BATCH_MAIN
    	<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="batchNo">
				BATCH_NO = #batchNo#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="batchSeq">
				BATCH_SEQ = #batchSeq#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="filenameZip">
				FILENAME_ZIP = #filenameZip#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="fileStatus">
				FILE_STATUS = #fileStatus#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="transStatus">
				TRANS_STATUS = #transStatus#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="deleteFlag">
				DELETE_FLAG = #deleteFlag#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="startCreateDate">
				DCREATE <![CDATA[>=]]> to_date(#startCreateDate# , 'yyyy/mm/dd hh24:mi:ss')
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="endCreateDate">
				DCREATE <![CDATA[<=]]> to_date(#endCreateDate# , 'yyyy/mm/dd hh24:mi:ss')
			</isNotEmpty>
			<isNotEmpty prepend="AND"  property="joinDtl">
				BATCH_NO || BATCH_SEQ IN ( 
					SELECT DISTINCT BATCH_NO || BATCH_SEQ FROM FIR_CTBC_BATCH_DTL 
					WHERE 1 = 1
					<isNotEmpty property="orderSeq">
						AND FK_ORDER_SEQ = #orderSeq#
					</isNotEmpty>
					<isNotEmpty property="policyno">
						AND POLICYNO = #policyno#
					</isNotEmpty>
				)
			</isNotEmpty>
		</dynamic>
  </select>
  
  <select id="selectByParams" parameterClass="java.util.Map" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Mar 19 17:18:25 CST 2020.
    -->
    select 
    <include refid="FirCtbcBatchMain.Base_Column_List" />
    from <include refid="Utils.prpinsSchema"/>FIR_CTBC_BATCH_MAIN
    	<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="batchNo">
				BATCH_NO = #batchNo#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="batchSeq">
				BATCH_SEQ = #batchSeq#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="filenameZip">
				FILENAME_ZIP = #filenameZip#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="fileStatus">
				FILE_STATUS = #fileStatus#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="transStatus">
				TRANS_STATUS = #transStatus#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="deleteFlag">
				DELETE_FLAG = #deleteFlag#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="startCreateDate">
				DCREATE <![CDATA[>=]]> to_date(#startCreateDate# , 'yyyy/mm/dd hh24:mi:ss')
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="endCreateDate">
				DCREATE <![CDATA[<=]]> to_date(#endCreateDate# , 'yyyy/mm/dd hh24:mi:ss')
			</isNotEmpty>
			<isNotEmpty prepend="AND"  property="joinDtl">
				BATCH_NO || BATCH_SEQ IN ( 
					SELECT DISTINCT BATCH_NO || BATCH_SEQ FROM FIR_CTBC_BATCH_DTL 
					WHERE 1 = 1
					<isNotEmpty property="orderSeq">
						AND FK_ORDER_SEQ = #orderSeq#
					</isNotEmpty>
					<isNotEmpty property="policyno">
						AND POLICYNO = #policyno#
					</isNotEmpty>
				)
			</isNotEmpty>
		</dynamic>
		<isNotEmpty property="sotrBy">
			ORDER BY $sortBy$ $sortType$ 
		</isNotEmpty>
  </select>
  
  <select id="select" parameterClass="java.util.Map" resultMap="BaseResultMap">
  	<include refid="Utils.sql1"/>
	 select 
    <include refid="FirCtbcBatchMain.Base_Column_List" />
    from <include refid="Utils.prpinsSchema"/>FIR_CTBC_BATCH_MAIN
    <dynamic prepend="WHERE">
		<isNotEmpty prepend="AND" property="batchNo">
				BATCH_NO = #batchNo#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="batchSeq">
				BATCH_SEQ = #batchSeq#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="filenameZip">
				FILENAME_ZIP = #filenameZip#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="fileStatus">
				FILE_STATUS = #fileStatus#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="transStatus">
				TRANS_STATUS = #transStatus#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="deleteFlag">
				DELETE_FLAG = #deleteFlag#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="startCreateDate">
				DCREATE <![CDATA[>=]]> to_date(#startCreateDate# , 'yyyy/mm/dd hh24:mi:ss')
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="endCreateDate">
				DCREATE <![CDATA[<=]]> to_date(#endCreateDate# , 'yyyy/mm/dd hh24:mi:ss')
			</isNotEmpty>
    </dynamic>
    <isNotEmpty property="sotrBy">
		ORDER BY $sortBy$ $sortType$ 
	</isNotEmpty>
    <include refid="Utils.sql2"/>
  </select>
  
  <delete id="delete" parameterClass="com.tlg.prpins.entity.FirCtbcBatchMain">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Mar 19 17:18:25 CST 2020.
    -->
    delete from FIR_CTBC_BATCH_MAIN
    where BATCH_NO = #batchNo:VARCHAR#
      and BATCH_SEQ = #batchSeq:VARCHAR#
  </delete>
  
  <insert id="insert" parameterClass="com.tlg.prpins.entity.FirCtbcBatchMain">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Mar 19 17:18:25 CST 2020.
    -->
    insert into FIR_CTBC_BATCH_MAIN (BATCH_NO, BATCH_SEQ, FILENAME_ZIP, FILENAME_STL, 
      DATAQTY_STL, FILENAME_SNN, DATAQTY_SNN, FILENAME_PBL, 
      DATAQTY_PBL, FILEQTY_SIG, SIG_STATUS, FILE_STATUS, 
      TRANS_STATUS, DELETE_FLAG, REMARK, ICREATE, 
      DCREATE, IUPDATE, DUPDATE)
    values (#batchNo:VARCHAR#, #batchSeq:VARCHAR#, #filenameZip:VARCHAR#, #filenameStl:VARCHAR#, 
      #dataqtyStl:DECIMAL#, #filenameSnn:VARCHAR#, #dataqtySnn:DECIMAL#, #filenamePbl:VARCHAR#, 
      #dataqtyPbl:DECIMAL#, #fileqtySig:DECIMAL#, #sigStatus:VARCHAR#, #fileStatus:VARCHAR#, 
      #transStatus:VARCHAR#, #deleteFlag:VARCHAR#, #remark:VARCHAR#, #icreate:VARCHAR#, 
      #dcreate:TIMESTAMP#, #iupdate:VARCHAR#, #dupdate:TIMESTAMP#)
  </insert>
  
  <update id="update" parameterClass="com.tlg.prpins.entity.FirCtbcBatchMain">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Mar 19 17:18:25 CST 2020.
    -->
    update FIR_CTBC_BATCH_MAIN
    <dynamic prepend="set">
      <isNotNull prepend="," property="filenameZip">
        FILENAME_ZIP = #filenameZip:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="filenameStl">
        FILENAME_STL = #filenameStl:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dataqtyStl">
        DATAQTY_STL = #dataqtyStl:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="filenameSnn">
        FILENAME_SNN = #filenameSnn:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dataqtySnn">
        DATAQTY_SNN = #dataqtySnn:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="filenamePbl">
        FILENAME_PBL = #filenamePbl:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dataqtyPbl">
        DATAQTY_PBL = #dataqtyPbl:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="fileqtySig">
        FILEQTY_SIG = #fileqtySig:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="sigStatus">
        SIG_STATUS = #sigStatus:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="fileStatus">
        FILE_STATUS = #fileStatus:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="transStatus">
        TRANS_STATUS = #transStatus:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="deleteFlag">
        DELETE_FLAG = #deleteFlag:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="remark">
        REMARK = #remark:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="icreate">
        ICREATE = #icreate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dcreate">
        DCREATE = #dcreate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="iupdate">
        IUPDATE = #iupdate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dupdate">
        DUPDATE = #dupdate:TIMESTAMP#
      </isNotNull>
    </dynamic>
    where BATCH_NO = #batchNo:VARCHAR#
      and BATCH_SEQ = #batchSeq:VARCHAR#
  </update>
  
</sqlMap>