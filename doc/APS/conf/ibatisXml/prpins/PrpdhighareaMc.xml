<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="PrpdhighareaMc" >
  <resultMap id="BaseResultMap" class="com.tlg.prpins.entity.PrpdhighareaMc" >
    <result column="COUNTYCODE" property="countycode" jdbcType="VARCHAR" />
    <result column="SHORTCODE" property="shortcode" jdbcType="VARCHAR" />
    <result column="COUNTYCNAME" property="countycname" jdbcType="VARCHAR" />
    <result column="COUNTYENAME" property="countyename" jdbcType="VARCHAR" />
    <result column="STATUS" property="status" jdbcType="VARCHAR" />
    <result column="UPDATEUSER" property="updateuser" jdbcType="VARCHAR" />
    <result column="UPDATEDATE" property="updatedate" jdbcType="TIMESTAMP" />
    <result column="CREATEUSER" property="createuser" jdbcType="VARCHAR" />
    <result column="CREATEDATE" property="createdate" jdbcType="TIMESTAMP" />
    <result column="STARTDATE" property="startdate" jdbcType="TIMESTAMP" />
    <result column="ENDDATE" property="enddate" jdbcType="TIMESTAMP" />
    <!-- mantis：MAR0079，處理人員：DP0714，APS高風險地區新增經濟制裁註記及核心檢核 -->
    <result column="SANCTIONS_STATUS" property="sanctionsStatus" jdbcType="VARCHAR" />
  </resultMap> 
  
  <select id="select" resultMap="BaseResultMap" parameterClass="java.util.Map">
		<include refid="Utils.sql1" />
			SELECT * FROM <include refid="Utils.prpinsSchema"/>PRPDHIGHAREA_MC
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="countycode">
				COUNTYCODE = #countycode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="countycname">
				COUNTYCNAME = #countycname#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="countyename">
				COUNTYENAME = #countyename#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="shortcode">
				SHORTCODE = #shortcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="status">
				STATUS = #status#
			</isNotEmpty>
            <!-- mantis：MAR0079，處理人員：DP0714，APS高風險地區新增經濟制裁註記及核心檢核 start -->
			<isNotEmpty prepend="AND" property="sanctionsStatus">
				SANCTIONS_STATUS = #sanctionsStatus#
			</isNotEmpty>
            <!-- mantis：MAR0079，處理人員：DP0714，APS高風險地區新增經濟制裁註記及核心檢核 end -->
			<isNotEmpty prepend="AND" property="startdate">
				to_char(STARTDATE,'yyyy/mm/dd') = #startdate#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="enddate">
				to_char(ENDDATE,'yyyy/mm/dd') = #enddate#
			</isNotEmpty>
		</dynamic>
		<include refid="Utils.sql2" />
	</select>
	
	<select id="selectByParams" resultMap="BaseResultMap" parameterClass="java.util.Map">
		SELECT * FROM <include refid="Utils.prpinsSchema"/>PRPDHIGHAREA_MC
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="countycode">
				COUNTYCODE = #countycode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="countycname">
				COUNTYCNAME = #countycname#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="countyename">
				COUNTYENAME = #countyename#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="shortcode">
				SHORTCODE = #shortcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="status">
				STATUS = #status#
			</isNotEmpty>
            <!-- mantis：MAR0079，處理人員：DP0714，APS高風險地區新增經濟制裁註記及核心檢核 start -->
			<isNotEmpty prepend="AND" property="sanctionsStatus">
				SANCTIONS_STATUS = #sanctionsStatus#
			</isNotEmpty>
            <!-- mantis：MAR0079，處理人員：DP0714，APS高風險地區新增經濟制裁註記及核心檢核 end -->
		</dynamic>
	</select>
	
	<select id="count" resultClass="java.lang.Integer" parameterClass="java.util.Map">
		SELECT COUNT(*) FROM <include refid="Utils.prpinsSchema"/>PRPDHIGHAREA_MC
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="countycode">
				COUNTYCODE = #countycode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="countycname">
				COUNTYCNAME = #countycname#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="countyename">
				COUNTYENAME = #countyename#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="shortcode">
				SHORTCODE = #shortcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="status">
				STATUS = #status#
			</isNotEmpty>
            <!-- mantis：MAR0079，處理人員：DP0714，APS高風險地區新增經濟制裁註記及核心檢核 start -->
			<isNotEmpty prepend="AND" property="sanctionsStatus">
				SANCTIONS_STATUS = #sanctionsStatus#
			</isNotEmpty>
            <!-- mantis：MAR0079，處理人員：DP0714，APS高風險地區新增經濟制裁註記及核心檢核 end -->
			<isNotEmpty prepend="AND" property="startdate">
				to_char(STARTDATE,'yyyy/mm/dd') = #startdate#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="enddate">
				to_char(ENDDATE,'yyyy/mm/dd') = #enddate#
			</isNotEmpty>
		</dynamic>
	</select>
	
	<select id="selectByUK" parameterClass="java.util.Map" resultMap="BaseResultMap">
		select * from PRPDHIGHAREA_MC where
			COUNTYCODE = #countycode:VARCHAR#
		and SHORTCODE = #shortcode:VARCHAR#
	</select>
  <!-- mantis：MAR0079，處理人員：DP0714，APS高風險地區新增經濟制裁註記及核心檢核 start -->
  <insert id="insert" parameterClass="com.tlg.prpins.entity.PrpdhighareaMc" >
    insert into PRPDHIGHAREA_MC (COUNTYCODE, SHORTCODE, COUNTYCNAME, COUNTYENAME, STATUS,
      UPDATEUSER, UPDATEDATE, CREATEUSER, CREATEDATE, STARTDATE, ENDDATE, SANCTIONS_STATUS)
    values (#countycode:VARCHAR#, #shortcode:VARCHAR#, #countycname:VARCHAR#, #countyename:VARCHAR#,
      #status:VARCHAR#, #updateuser:VARCHAR#, #updatedate:TIMESTAMP#, #createuser:VARCHAR#,
      #createdate:TIMESTAMP#, #startdate:TIMESTAMP#, #enddate:TIMESTAMP#, #sanctionsStatus:VARCHAR#)
  </insert>
  <!-- mantis：MAR0079，處理人員：DP0714，APS高風險地區新增經濟制裁註記及核心檢核 end -->
  
  <delete id="delete" parameterClass="com.tlg.prpins.entity.PrpdhighareaMc">
    delete from PRPDHIGHAREA_MC where 
    	COUNTYCODE = #countycode:VARCHAR#
	and SHORTCODE = #shortcode:VARCHAR#
  </delete>

  <update id="update" parameterClass="com.tlg.prpins.entity.PrpdhighareaMc" >
    update PRPDHIGHAREA_MC
    <dynamic prepend="set" >
      <isNotNull prepend="," property="countycode" >
        COUNTYCODE = #countycode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="shortcode" >
        SHORTCODE = #shortcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="countycname" >
        COUNTYCNAME = #countycname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="countyename" >
        COUNTYENAME = #countyename:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="status" >
        STATUS = #status:VARCHAR#
      </isNotNull>
      <!-- mantis：MAR0079，處理人員：DP0714，APS高風險地區新增經濟制裁註記及核心檢核 start -->
      <isNotNull prepend="," property="status" >
        SANCTIONS_STATUS = #sanctionsStatus:VARCHAR#
      </isNotNull>
      <!-- mantis：MAR0079，處理人員：DP0714，APS高風險地區新增經濟制裁註記及核心檢核 end -->
      <isNotNull prepend="," property="updateuser" >
        UPDATEUSER = #updateuser:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updatedate" >
        UPDATEDATE = #updatedate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="createuser" >
        CREATEUSER = #createuser:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="createdate" >
        CREATEDATE = #createdate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="startdate" >
        STARTDATE = #startdate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="enddate" >
        ENDDATE = #enddate:TIMESTAMP#
      </isNotNull>
    </dynamic>
		where COUNTYCODE = #countycode:VARCHAR#
		and SHORTCODE = #shortcode:VARCHAR#
  </update>
</sqlMap>