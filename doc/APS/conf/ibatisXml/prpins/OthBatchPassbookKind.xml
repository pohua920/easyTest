<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<!-- mantis：OTH0127，處理人員：CC009，需求單編號：OTH0127 保發中心_保單存摺產生排程規格 -->
<sqlMap namespace="OthBatchPassbookKind">
  <resultMap class="com.tlg.prpins.entity.OthBatchPassbookKind" id="BaseResultMap">
    <result column="OID" jdbcType="DECIMAL" property="oid" />
    <result column="LIST_OID" jdbcType="DECIMAL" property="listOid" />
    <result column="PROC_TYPE" jdbcType="VARCHAR" property="procType" />
    <result column="RISKCODE" jdbcType="VARCHAR" property="riskcode" />
    <result column="POLICYNO" jdbcType="VARCHAR" property="policyno" />
    <result column="ENDORSENO" jdbcType="VARCHAR" property="endorseno" />
    <result column="KINDSORT" jdbcType="DECIMAL" property="kindsort" />
    <result column="KINDCODE" jdbcType="VARCHAR" property="kindcode" />
    <result column="KINDNAME" jdbcType="VARCHAR" property="kindname" />
    <result column="AMOUNT_TEXT" jdbcType="VARCHAR" property="amountText" />
     <result column="AS400_OID" jdbcType="DECIMAL" property="as400Oid" />
  </resultMap>
  
  <select id="selectByParams" parameterClass="java.util.Map" resultMap="BaseResultMap">
    select *
    from OTH_BATCH_PASSBOOK_KIND
    <dynamic prepend="WHERE">
      <isNotNull prepend="AND" property="oid">
        OID = #oid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="listOid">
        LIST_OID = #listOid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="procType">
        PROC_TYPE = #procType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="riskcode">
        RISKCODE = #riskcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="policyno">
        POLICYNO = #policyno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="endorseno">
        ENDORSENO = #endorseno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="kindsort">
        KINDSORT = #kindsort:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="kindcode">
        KINDCODE = #kindcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="kindname">
        KINDNAME = #kindname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="amountText">
        AMOUNT_TEXT = #amountText:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="as400Oid">
		AS400_OID = #as400Oid:DECIMAL#
	  </isNotNull>
    </dynamic>
    <isNotEmpty property="sortBy">
		ORDER BY $sortBy$ $sortType$
	</isNotEmpty>
  </select>
  <select id="count" parameterClass="java.util.Map" resultClass="java.lang.Integer">
    select COUNT(*)
    from OTH_BATCH_PASSBOOK_KIND
    <dynamic prepend="WHERE">
      <isNotNull prepend="AND" property="oid">
        OID = #oid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="listOid">
        LIST_OID = #listOid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="procType">
        PROC_TYPE = #procType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="riskcode">
        RISKCODE = #riskcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="policyno">
        POLICYNO = #policyno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="endorseno">
        ENDORSENO = #endorseno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="kindsort">
        KINDSORT = #kindsort:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="kindcode">
        KINDCODE = #kindcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="kindname">
        KINDNAME = #kindname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="amountText">
        AMOUNT_TEXT = #amountText:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="as400Oid">
		AS400_OID = #as400Oid:DECIMAL#
	  </isNotNull>
    </dynamic>
  </select>
  <select id="select" parameterClass="java.util.Map" resultMap="BaseResultMap">
    <include refid="Utils.sql1" />
    select *
    from OTH_BATCH_PASSBOOK_KIND
    <dynamic prepend="WHERE">
      <isNotNull prepend="AND" property="oid">
        OID = #oid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="listOid">
        LIST_OID = #listOid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="procType">
        PROC_TYPE = #procType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="riskcode">
        RISKCODE = #riskcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="policyno">
        POLICYNO = #policyno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="endorseno">
        ENDORSENO = #endorseno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="kindsort">
        KINDSORT = #kindsort:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="kindcode">
        KINDCODE = #kindcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="kindname">
        KINDNAME = #kindname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="amountText">
        AMOUNT_TEXT = #amountText:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="as400Oid">
		AS400_OID = #as400Oid:DECIMAL#
	  </isNotNull>
    </dynamic>
    <include refid="Utils.sql2" />
  </select>
  <delete id="deleteByEntity" parameterClass="com.tlg.prpins.entity.OthBatchPassbookKind">
    delete from OTH_BATCH_PASSBOOK_KIND
    <dynamic prepend="WHERE">
      <isNotNull prepend="AND" property="oid">
        OID = #oid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="listOid">
        LIST_OID = #listOid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="procType">
        PROC_TYPE = #procType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="riskcode">
        RISKCODE = #riskcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="policyno">
        POLICYNO = #policyno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="endorseno">
        ENDORSENO = #endorseno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="kindsort">
        KINDSORT = #kindsort:DECIMAL#
      </isNotNull>
      <isNotNull prepend="AND" property="kindcode">
        KINDCODE = #kindcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="kindname">
        KINDNAME = #kindname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="amountText">
        AMOUNT_TEXT = #amountText:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="as400Oid">
		AS400_OID = #as400Oid:DECIMAL#
	  </isNotNull>
    </dynamic>
  </delete>
  <insert id="insert" parameterClass="com.tlg.prpins.entity.OthBatchPassbookKind">
  	<selectKey resultClass="java.math.BigDecimal" keyProperty="oid" >    
	       SELECT OTH_BATCH_PASSBOOK_KIND_SEQ.NEXTVAL AS OID FROM DUAL    
	</selectKey>
    insert into OTH_BATCH_PASSBOOK_KIND (OID, LIST_OID, PROC_TYPE, RISKCODE, 
      POLICYNO, ENDORSENO, KINDSORT, KINDCODE, 
      KINDNAME, AMOUNT_TEXT, AS400_OID)
    values (#oid:DECIMAL#, #listOid:DECIMAL#, #procType:VARCHAR#, #riskcode:VARCHAR#, 
      #policyno:VARCHAR#, #endorseno:VARCHAR#, #kindsort:DECIMAL#, #kindcode:VARCHAR#, 
      #kindname:VARCHAR#, #amountText:VARCHAR#, #as400Oid:DECIMAL#)
  </insert>
  <select id="countByUK" parameterClass="java.util.Map" resultClass="java.lang.Integer">
    select count(*) from OTH_BATCH_PASSBOOK_KIND
    where OID = #oid:DECIMAL#
  </select>
  <update id="update" parameterClass="com.tlg.prpins.entity.OthBatchPassbookKind">
    update OTH_BATCH_PASSBOOK_KIND
    <dynamic prepend="set">
      <isNotNull prepend="," property="listOid">
        LIST_OID = #listOid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="procType">
        PROC_TYPE = #procType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="riskcode">
        RISKCODE = #riskcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="policyno">
        POLICYNO = #policyno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="endorseno">
        ENDORSENO = #endorseno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="kindsort">
        KINDSORT = #kindsort:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="kindcode">
        KINDCODE = #kindcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="kindname">
        KINDNAME = #kindname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="amountText">
        AMOUNT_TEXT = #amountText:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="as400Oid">
		AS400_OID = #as400Oid:DECIMAL#
	  </isNotNull>
    </dynamic>
    where OID = #oid:DECIMAL#
  </update>
</sqlMap>