<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="HasBatchMatchFet" >
  <resultMap id="BaseResultMap" class="com.tlg.prpins.entity.HasBatchMatchFet" >
    <!--mantis：HAS0284，處理人員：DP0706，需求單編號：HAS0284_遠傳優化需求-比對同要保人但生日或姓名不同
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Jun 19 13:50:19 CST 2025.
    -->
    <result column="BATCH_NO" property="batchNo" jdbcType="VARCHAR" />
    <result column="POLICYNO" property="policyno" jdbcType="VARCHAR" />
    <result column="INPUTDATE" property="inputdate" jdbcType="VARCHAR" />
    <result column="OWNERID" property="ownerid" jdbcType="VARCHAR" />
    <result column="OWNERNAME" property="ownername" jdbcType="VARCHAR" />
    <result column="OWNERBIRTH" property="ownerbirth" jdbcType="VARCHAR" />
    <result column="OWNERADDR" property="owneraddr" jdbcType="VARCHAR" />
    <result column="OWNERMOBILE" property="ownermobile" jdbcType="VARCHAR" />
    <result column="OWNEREMAIL" property="owneremail" jdbcType="VARCHAR" />
    <result column="INSID" property="insid" jdbcType="VARCHAR" />
    <result column="INSNAME" property="insname" jdbcType="VARCHAR" />
    <result column="INSBIRTH" property="insbirth" jdbcType="VARCHAR" />
    <result column="INSADDR" property="insaddr" jdbcType="VARCHAR" />
    <result column="SUMAMOUNT" property="sumamount" jdbcType="DECIMAL" />
    <result column="SUMPREMIUM" property="sumpremium" jdbcType="DECIMAL" />
    <result column="STARTDATE" property="startdate" jdbcType="VARCHAR" />
    <result column="ENDDATE" property="enddate" jdbcType="VARCHAR" />
    <result column="MAILDATE" property="maildate" jdbcType="VARCHAR" />
    <result column="UNDERWRITEENDDATE" property="underwriteenddate" jdbcType="VARCHAR" />
  </resultMap>
  
  <select id="selectByParams" parameterClass="java.util.Map" resultMap="BaseResultMap">

    select * from <include refid="Utils.prpinsSchema"/>HAS_BATCH_MATCH_FET
    	<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="batchNo">
				BATCH_NO = #batchNo#
			</isNotEmpty>
		</dynamic>
		<isNotEmpty property="sortBy">
			ORDER BY policyno
		</isNotEmpty>
   </select>
</sqlMap>