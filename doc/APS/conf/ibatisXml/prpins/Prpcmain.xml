<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="Prpcmain">
  <resultMap class="com.tlg.prpins.entity.Prpcmain" id="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Mar 22 17:24:54 CST 2021.
    -->
    <result column="POLICYNO" jdbcType="VARCHAR" property="policyno" />
    <result column="CLASSCODE" jdbcType="VARCHAR" property="classcode" />
    <result column="RISKCODE" jdbcType="VARCHAR" property="riskcode" />
    <result column="PROPOSALNO" jdbcType="VARCHAR" property="proposalno" />
    <result column="CONTRACTNO" jdbcType="VARCHAR" property="contractno" />
    <result column="POLICYSORT" jdbcType="VARCHAR" property="policysort" />
    <result column="PRINTNO" jdbcType="VARCHAR" property="printno" />
    <result column="BUSINESSNATURE" jdbcType="VARCHAR" property="businessnature" />
    <result column="LANGUAGE" jdbcType="VARCHAR" property="language" />
    <result column="POLICYTYPE" jdbcType="VARCHAR" property="policytype" />
    <result column="APPLICODE" jdbcType="VARCHAR" property="applicode" />
    <result column="APPLINAME" jdbcType="VARCHAR" property="appliname" />
    <result column="APPLIADDRESS" jdbcType="VARCHAR" property="appliaddress" />
    <result column="INSUREDCODE" jdbcType="VARCHAR" property="insuredcode" />
    <result column="INSUREDNAME" jdbcType="VARCHAR" property="insuredname" />
    <result column="INSUREDADDRESS" jdbcType="VARCHAR" property="insuredaddress" />
    <result column="OPERATEDATE" jdbcType="TIMESTAMP" property="operatedate" />
    <result column="STARTDATE" jdbcType="TIMESTAMP" property="startdate" />
    <result column="STARTHOUR" jdbcType="DECIMAL" property="starthour" />
    <result column="ENDDATE" jdbcType="TIMESTAMP" property="enddate" />
    <result column="ENDHOUR" jdbcType="DECIMAL" property="endhour" />
    <result column="PURERATE" jdbcType="DECIMAL" property="purerate" />
    <result column="DISRATE" jdbcType="DECIMAL" property="disrate" />
    <result column="DISCOUNT" jdbcType="DECIMAL" property="discount" />
    <result column="CURRENCY" jdbcType="VARCHAR" property="currency" />
    <result column="SUMVALUE" jdbcType="DECIMAL" property="sumvalue" />
    <result column="SUMAMOUNT" jdbcType="DECIMAL" property="sumamount" />
    <result column="SUMDISCOUNT" jdbcType="DECIMAL" property="sumdiscount" />
    <result column="SUMPREMIUM" jdbcType="DECIMAL" property="sumpremium" />
    <result column="SUMSUBPREM" jdbcType="DECIMAL" property="sumsubprem" />
    <result column="SUMQUANTITY" jdbcType="DECIMAL" property="sumquantity" />
    <result column="JUDICALCODE" jdbcType="VARCHAR" property="judicalcode" />
    <result column="JUDICALSCOPE" jdbcType="VARCHAR" property="judicalscope" />
    <result column="AUTOTRANSRENEWFLAG" jdbcType="VARCHAR" property="autotransrenewflag" />
    <result column="ARGUESOLUTION" jdbcType="VARCHAR" property="arguesolution" />
    <result column="ARBITBOARDNAME" jdbcType="VARCHAR" property="arbitboardname" />
    <result column="PAYTIMES" jdbcType="DECIMAL" property="paytimes" />
    <result column="ENDORSETIMES" jdbcType="DECIMAL" property="endorsetimes" />
    <result column="CLAIMTIMES" jdbcType="DECIMAL" property="claimtimes" />
    <result column="MAKECOM" jdbcType="VARCHAR" property="makecom" />
    <result column="OPERATESITE" jdbcType="VARCHAR" property="operatesite" />
    <result column="COMCODE" jdbcType="VARCHAR" property="comcode" />
    <result column="HANDLERCODE" jdbcType="VARCHAR" property="handlercode" />
    <result column="HANDLER1CODE" jdbcType="VARCHAR" property="handler1code" />
    <result column="APPROVERCODE" jdbcType="VARCHAR" property="approvercode" />
    <result column="UNDERWRITECODE" jdbcType="VARCHAR" property="underwritecode" />
    <result column="UNDERWRITENAME" jdbcType="VARCHAR" property="underwritename" />
    <result column="OPERATORCODE" jdbcType="VARCHAR" property="operatorcode" />
    <result column="INPUTDATE" jdbcType="TIMESTAMP" property="inputdate" />
    <result column="INPUTHOUR" jdbcType="DECIMAL" property="inputhour" />
    <result column="UNDERWRITEENDDATE" jdbcType="TIMESTAMP" property="underwriteenddate" />
    <result column="STATISTICSYM" jdbcType="TIMESTAMP" property="statisticsym" />
    <result column="AGENTCODE" jdbcType="VARCHAR" property="agentcode" />
    <result column="COINSFLAG" jdbcType="VARCHAR" property="coinsflag" />
    <result column="REINSFLAG" jdbcType="VARCHAR" property="reinsflag" />
    <result column="ALLINSFLAG" jdbcType="VARCHAR" property="allinsflag" />
    <result column="UNDERWRITEFLAG" jdbcType="VARCHAR" property="underwriteflag" />
    <result column="OTHFLAG" jdbcType="VARCHAR" property="othflag" />
    <result column="FLAG" jdbcType="VARCHAR" property="flag" />
    <result column="DISRATE1" jdbcType="DECIMAL" property="disrate1" />
    <result column="BUSINESSFLAG" jdbcType="VARCHAR" property="businessflag" />
    <result column="UPDATERCODE" jdbcType="VARCHAR" property="updatercode" />
    <result column="UPDATEDATE" jdbcType="TIMESTAMP" property="updatedate" />
    <result column="UPDATEHOUR" jdbcType="VARCHAR" property="updatehour" />
    <result column="SIGNDATE" jdbcType="TIMESTAMP" property="signdate" />
    <result column="SHAREHOLDERFLAG" jdbcType="VARCHAR" property="shareholderflag" />
    <result column="AGREEMENTNO" jdbcType="VARCHAR" property="agreementno" />
    <result column="INQUIRYNO" jdbcType="VARCHAR" property="inquiryno" />
    <result column="PAYMODE" jdbcType="VARCHAR" property="paymode" />
    <result column="REMARK" jdbcType="VARCHAR" property="remark" />
    <result column="VISACODE" jdbcType="VARCHAR" property="visacode" />
    <result column="MANUALTYPE" jdbcType="VARCHAR" property="manualtype" />
    <result column="NATIONFLAG" jdbcType="VARCHAR" property="nationflag" />
    <result column="STARTMINUTE" jdbcType="DECIMAL" property="startminute" />
    <result column="ENDMINUTE" jdbcType="DECIMAL" property="endminute" />
    <result column="JFEEFLAG" jdbcType="VARCHAR" property="jfeeflag" />
    <result column="PRECHECKDATE" jdbcType="TIMESTAMP" property="precheckdate" />
    <result column="HANDLERNAME" jdbcType="VARCHAR" property="handlername" />
    <result column="HANDLER1NAME" jdbcType="VARCHAR" property="handler1name" />
    <result column="PAYREFCODE" jdbcType="VARCHAR" property="payrefcode" />
    <result column="PAYREFNAME" jdbcType="VARCHAR" property="payrefname" />
    <result column="PAYREFTIME" jdbcType="TIMESTAMP" property="payreftime" />
    <result column="PRINTTIME" jdbcType="TIMESTAMP" property="printtime" />
    <result column="AGRITYPE" jdbcType="VARCHAR" property="agritype" />
    <result column="SUBBUSINESSNATURE" jdbcType="VARCHAR" property="subbusinessnature" />
    <result column="BANKCODE" jdbcType="VARCHAR" property="bankcode" />
    <result column="CHANNELTYPE" jdbcType="VARCHAR" property="channeltype" />
    <result column="EXCHANGERATE" jdbcType="DECIMAL" property="exchangerate" />
    <result column="PROJECTSFLAG" jdbcType="VARCHAR" property="projectsflag" />
    <result column="PROPOSALLEVEL" jdbcType="VARCHAR" property="proposallevel" />
    <result column="STOPTIMES" jdbcType="VARCHAR" property="stoptimes" />
    <result column="EFFECTIVEIMMEDIATELYFLAG" jdbcType="VARCHAR" property="effectiveimmediatelyflag" />
    <result column="NEWSTARTDATE" jdbcType="TIMESTAMP" property="newstartdate" />
    <result column="NEWENDDATE" jdbcType="TIMESTAMP" property="newenddate" />
    <result column="GROUPTYPE" jdbcType="VARCHAR" property="grouptype" />
    <result column="STARTSTAGES" jdbcType="DECIMAL" property="startstages" />
    <!-- 20211202：BJ016：FIR0220_中信代理投保通知處理，將IMPORTERCODE拿掉，因為正式區沒有此欄位 -->
    <result column="EDITFLAG" jdbcType="CHAR" property="editflag" />
    <result column="RSNNORENEWAL" jdbcType="VARCHAR" property="rsnnorenewal" />
    <result column="NOTRENEWALREGIST" jdbcType="VARCHAR" property="notrenewalregist" />
    <result column="DECLAREFLAG" jdbcType="VARCHAR" property="declareflag" />
    <result column="CONTRIBUTIONLEVEL" jdbcType="VARCHAR" property="contributionlevel" />
    <result column="BUSINESSTYPEFLAG" jdbcType="VARCHAR" property="businesstypeflag" />
    <result column="RATEPERIODOLD" jdbcType="VARCHAR" property="rateperiodold" />
    <result column="HANDLER2CODE" jdbcType="VARCHAR" property="handler2code" />
    <result column="HANDLER2NAME" jdbcType="VARCHAR" property="handler2name" />
    <result column="HANDLER2IDTYPE" jdbcType="VARCHAR" property="handler2idtype" />
    <result column="HANDLER2ID" jdbcType="VARCHAR" property="handler2id" />
    <result column="HANDLER2MOBILE" jdbcType="VARCHAR" property="handler2mobile" />
    <result column="HANDLER2POST" jdbcType="VARCHAR" property="handler2post" />
    <result column="HANDLER2ADDRESS" jdbcType="VARCHAR" property="handler2address" />
    <result column="CASENO" jdbcType="VARCHAR" property="caseno" />
    <result column="CHANNELCODE" jdbcType="VARCHAR" property="channelcode" />
    <result column="BIZNOSYSFLAG" jdbcType="VARCHAR" property="biznosysflag" />
    <result column="BUSINESSRECMARK" jdbcType="VARCHAR" property="businessrecmark" />
    <result column="UNDWRTMARK" jdbcType="VARCHAR" property="undwrtmark" />
    <result column="ISUNDWRTFLAG" jdbcType="VARCHAR" property="isundwrtflag" />
    <result column="AGENTMAXCOMISSION" jdbcType="DECIMAL" property="agentmaxcomission" />
    <result column="BANKFLAG" jdbcType="VARCHAR" property="bankflag" />
    <result column="RATEPERIODTYPE" jdbcType="VARCHAR" property="rateperiodtype" />
    <result column="RATEPERIOD" jdbcType="VARCHAR" property="rateperiod" />
    <result column="RATESTARTDATE" jdbcType="TIMESTAMP" property="ratestartdate" />
    <result column="RATEENDDATE" jdbcType="TIMESTAMP" property="rateenddate" />
    <result column="GOVPURCHASEFLAG" jdbcType="VARCHAR" property="govpurchaseflag" />
    <result column="FYCFLAG" jdbcType="VARCHAR" property="fycflag" />
    <result column="EXTRACOMCODE" jdbcType="VARCHAR" property="extracomcode" />
    <result column="INTRODUCERID" jdbcType="VARCHAR" property="introducerid" />
    <result column="INTRODUCERNAME" jdbcType="VARCHAR" property="introducername" />
    <result column="AGENT1CODE" jdbcType="VARCHAR" property="agent1code" />
    <result column="AGENT1NAME" jdbcType="VARCHAR" property="agent1name" />
    <result column="EXTRACOMNAME" jdbcType="VARCHAR" property="extracomname" />
    <result column="TRADEVANID" jdbcType="VARCHAR" property="tradevanid" />
    <result column="LASTINSURERCODE" jdbcType="VARCHAR" property="lastinsurercode" />
    <result column="LASTINSURERCOM" jdbcType="VARCHAR" property="lastinsurercom" />
    <result column="LASTPRINTNO" jdbcType="VARCHAR" property="lastprintno" />
    <result column="HANDLERIDENTIFYNUMBER" jdbcType="VARCHAR" property="handleridentifynumber" />
    <result column="AGENTNAME" jdbcType="VARCHAR" property="agentname" />
    <result column="QUOTENO" jdbcType="VARCHAR" property="quoteno" />
    <result column="LOGINCOM" jdbcType="VARCHAR" property="logincom" />
    <result column="DIRECTBUSINESS" jdbcType="VARCHAR" property="directbusiness" />
    <result column="PROJECTCODE" jdbcType="VARCHAR" property="projectcode" />
    <result column="BATCHNO" jdbcType="VARCHAR" property="batchno" />
    <result column="ASPOLICYNO" jdbcType="VARCHAR" property="aspolicyno" />
    <result column="SERIESCODE" jdbcType="VARCHAR" property="seriescode" />
    <result column="ACHIEVCONVERRATE" jdbcType="VARCHAR" property="achievconverrate" />
    <result column="ASSUMPREMIUM" jdbcType="DECIMAL" property="assumpremium" />
    <result column="VISACODEBI" jdbcType="VARCHAR" property="visacodebi" />
    <result column="POSSESSNATURECODE" jdbcType="VARCHAR" property="possessnaturecode" />
    <result column="POSSESSNATURE" jdbcType="VARCHAR" property="possessnature" />
    <result column="SERIESNAME" jdbcType="VARCHAR" property="seriesname" />
    <result column="ZHIZHE" jdbcType="VARCHAR" property="zhizhe" />
    <result column="REINSMARK" jdbcType="VARCHAR" property="reinsmark" />
    <result column="PUBLICFLAG" jdbcType="VARCHAR" property="publicflag" />
    <result column="TESTCARSTARTDATE" jdbcType="TIMESTAMP" property="testcarstartdate" />
    <result column="TESTCARENDDATE" jdbcType="TIMESTAMP" property="testcarenddate" />
    <result column="MAINTAINENDDATE" jdbcType="TIMESTAMP" property="maintainenddate" />
    <result column="MAINTAINSTARTDATE" jdbcType="TIMESTAMP" property="maintainstartdate" />
    <result column="MAINTAINDAYS" jdbcType="VARCHAR" property="maintaindays" />
    <result column="SUMDAMAGEAMOUNT" jdbcType="DECIMAL" property="sumdamageamount" />
    <result column="SUMEXTERNALAMOUNT" jdbcType="DECIMAL" property="sumexternalamount" />
    <result column="SUMINCREASEDAMOUNT" jdbcType="DECIMAL" property="sumincreasedamount" />
    <result column="RENEWINSURANCEFLAG" jdbcType="VARCHAR" property="renewinsuranceflag" />
    <result column="SMALLAMOUNTBI" jdbcType="DECIMAL" property="smallamountbi" />
    <result column="CUSTOMSBROKERNAME" jdbcType="VARCHAR" property="customsbrokername" />
    <result column="POLICYAPPLYAREA" jdbcType="VARCHAR" property="policyapplyarea" />
    <result column="POLICYAPPLYAGREEMENT" jdbcType="VARCHAR" property="policyapplyagreement" />
    <result column="UNEARNEDPREMIUM" jdbcType="DECIMAL" property="unearnedpremium" />
    <result column="DETAILREMARK" jdbcType="VARCHAR" property="detailremark" />
    <result column="DESCRIPTIONS" jdbcType="VARCHAR" property="descriptions" />
    <result column="BASESTARTDATE" jdbcType="TIMESTAMP" property="basestartdate" />
    <result column="CREATOR" jdbcType="VARCHAR" property="creator" />
    <result column="RENEWALTIMES" jdbcType="VARCHAR" property="renewaltimes" />
    <result column="COMMONBUSINESS" jdbcType="VARCHAR" property="commonbusiness" />
    <result column="SPECIALFLAG" jdbcType="VARCHAR" property="specialflag" />
    <result column="DISCOUNTRATE" jdbcType="DECIMAL" property="discountrate" />
    <result column="PRINTDATE" jdbcType="TIMESTAMP" property="printdate" />
    <result column="MAILDATE" jdbcType="TIMESTAMP" property="maildate" />
    <result column="RATIONCODE" jdbcType="VARCHAR" property="rationcode" />
    <result column="FEEREMARK" jdbcType="VARCHAR" property="feeremark" />
    <result column="DELIVERYDATE" jdbcType="TIMESTAMP" property="deliverydate" />
    <result column="POLICYRECEPTDATE" jdbcType="TIMESTAMP" property="policyreceptdate" />
    <result column="TEMPORARILYNO" jdbcType="VARCHAR" property="temporarilyno" />
    <result column="REINSMARKDESC" jdbcType="VARCHAR" property="reinsmarkdesc" />
    <result column="AGEKINDTYPE" jdbcType="VARCHAR" property="agekindtype" />
    <result column="TEMPORARILYRECEIPT" jdbcType="VARCHAR" property="temporarilyreceipt" />
    <result column="PRINTTIMES" jdbcType="DECIMAL" property="printtimes" />
    <result column="BIGPOLICYNO" jdbcType="VARCHAR" property="bigpolicyno" />
    <result column="SENDPAYMENTFLAG" jdbcType="VARCHAR" property="sendpaymentflag" />
    <result column="REMARKCOL1" jdbcType="VARCHAR" property="remarkcol1" />
    <result column="REMARKCOL2" jdbcType="VARCHAR" property="remarkcol2" />
    <result column="REMARKCOL3" jdbcType="VARCHAR" property="remarkcol3" />
    <result column="REMARKCOL4" jdbcType="VARCHAR" property="remarkcol4" />
    <result column="REMARKCOL5" jdbcType="VARCHAR" property="remarkcol5" />
    <result column="REMARKCOL6" jdbcType="VARCHAR" property="remarkcol6" />
    <result column="REMARKCOL7" jdbcType="VARCHAR" property="remarkcol7" />
    <result column="REMARKCOL8" jdbcType="VARCHAR" property="remarkcol8" />
    <result column="REMARKCOL9" jdbcType="VARCHAR" property="remarkcol9" />
    <result column="REMARKCOL10" jdbcType="VARCHAR" property="remarkcol10" />
    <result column="APPROVALNO" jdbcType="VARCHAR" property="approvalno" />
    <result column="FLOWFLAG" jdbcType="VARCHAR" property="flowflag" />
    <result column="FLOWRATE" jdbcType="DECIMAL" property="flowrate" />
    <result column="POLICYPERMISSIONS" jdbcType="VARCHAR" property="policypermissions" />
    <result column="POLICYFILENUMBER" jdbcType="VARCHAR" property="policyfilenumber" />
    <result column="REFUSELIMITEINSURANCE" jdbcType="VARCHAR" property="refuselimiteinsurance" />
    <result column="LISTDETECTION" jdbcType="VARCHAR" property="listdetection" />
    <result column="RISKRATING" jdbcType="VARCHAR" property="riskrating" />
    <result column="WORKSTATUS" jdbcType="VARCHAR" property="workstatus" />
    <result column="CALLAMLDATE" jdbcType="TIMESTAMP" property="callamldate" />
    <result column="EXCEPTIONNO" jdbcType="VARCHAR" property="exceptionno" />
    <result column="COMMODITYRISKGRADE" jdbcType="VARCHAR" property="commodityriskgrade" />
    <result column="SUPERPAY" jdbcType="VARCHAR" property="superpay" />
    <!-- 20211202：BJ016：FIR0220_中信代理投保通知處理，將IMPORTDATE拿掉，因為正式區沒有此欄位 -->
    <result column="LOCKERCODE" jdbcType="VARCHAR" property="lockercode" />
    <result column="CAROPTIONTYPE" jdbcType="VARCHAR" property="caroptiontype" />
    <result column="ORDERSEQ" jdbcType="VARCHAR" property="orderseq" />
    <result column="SENDTYPE" jdbcType="VARCHAR" property="sendtype" />
    <result column="CLAUSE_SENDTYPE" jdbcType="VARCHAR" property="clauseSendtype" />
    <result column="NOTIFYORNOT" jdbcType="VARCHAR" property="notifyornot" />
    <result column="EPOLICY" jdbcType="VARCHAR" property="epolicy" />
    <!-- 20211202：BJ016：FIR0220_中信代理投保通知處理，將EPOLICYFLAG拿掉，因為正式區沒有此欄位 -->
  </resultMap>
  
  <resultMap class="com.tlg.prpins.entity.Prpcmain" id="EpolicyResultMap">
    <result column="POLICYNO" jdbcType="VARCHAR" property="policyno" />
  </resultMap>

  <!-- mantis：FIR0635，處理人員：CD094，需求單編號：FIR0635_住火_新核心保單轉入中介檔異常處理排程   start-->
  <resultMap class="com.tlg.prpins.entity.Prpcmain" id="RerunResultMap">
    <result column="POLICYNO" jdbcType="VARCHAR" property="policyno" />
    <result column="UNDERWRITEENDDATE" jdbcType="VARCHAR" property="underwriteenddate" />
  </resultMap>
  <!-- mantis：FIR0635，處理人員：CD094，需求單編號：FIR0635_住火_新核心保單轉入中介檔異常處理排程  end -->
  
  <!-- mantis：CAR0417，處理人員：BJ085，需求單編號：CAR0417 機車強制車險重新投保發對接功能 start -->
  <resultMap class="com.tlg.aps.vo.Aps032CompareVo" id="TiiTvbcmResultMap">
    <result column="POLICYNO" jdbcType="VARCHAR" property="policyno" />
    <result column="PRINTNO" jdbcType="VARCHAR" property="printno" />
    <result column="LICENSENO" jdbcType="VARCHAR" property="licenseno" />
    <result column="IDENTIFYNUMBER" jdbcType="VARCHAR" property="identifynumber" />
  </resultMap>
  <!-- mantis：CAR0417，處理人員：BJ085，需求單編號：CAR0417 機車強制車險重新投保發對接功能 end -->
  
  <!-- mantis：CAR0507，處理人員：BJ085，需求單編號：CAR0507 承保系統新增電子保單產生追蹤機制(車險&旅平險) start-->
  <resultMap class="com.tlg.aps.vo.WriteForBatchSendmailVo" id="WriteForBatchSendmailResultMap">
    <result column="RISKCODE" jdbcType="VARCHAR" property="riskcode" />
    <result column="UNDERWRITEENDDATE" jdbcType="VARCHAR" property="underwriteenddate" />
    <result column="COUNT" jdbcType="DECIMAL" property="count" />
  </resultMap>
  
  <resultMap class="com.tlg.aps.vo.WriteForBatchSendmailVo" id="WriteForBatchSendmailDtlResultMap">
    <result column="RISKCODE" jdbcType="VARCHAR" property="riskcode" />
    <result column="UNDERWRITEENDDATE" jdbcType="VARCHAR" property="underwriteenddate" />
    <result column="POLICYNO" jdbcType="VARCHAR" property="policyno" />
  </resultMap>
  <!-- mantis：CAR0507，處理人員：BJ085，需求單編號：CAR0507 承保系統新增電子保單產生追蹤機制(車險&旅平險) end -->
  
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Mar 22 17:24:54 CST 2021.
    -->
    POLICYNO, CLASSCODE, RISKCODE, PROPOSALNO, CONTRACTNO, POLICYSORT, PRINTNO, BUSINESSNATURE, 
    LANGUAGE, POLICYTYPE, APPLICODE, APPLINAME, APPLIADDRESS, INSUREDCODE, INSUREDNAME, 
    INSUREDADDRESS, OPERATEDATE, STARTDATE, STARTHOUR, ENDDATE, ENDHOUR, PURERATE, DISRATE, 
    DISCOUNT, CURRENCY, SUMVALUE, SUMAMOUNT, SUMDISCOUNT, SUMPREMIUM, SUMSUBPREM, SUMQUANTITY, 
    JUDICALCODE, JUDICALSCOPE, AUTOTRANSRENEWFLAG, ARGUESOLUTION, ARBITBOARDNAME, PAYTIMES, 
    ENDORSETIMES, CLAIMTIMES, MAKECOM, OPERATESITE, COMCODE, HANDLERCODE, HANDLER1CODE, 
    APPROVERCODE, UNDERWRITECODE, UNDERWRITENAME, OPERATORCODE, INPUTDATE, INPUTHOUR, 
    UNDERWRITEENDDATE, STATISTICSYM, AGENTCODE, COINSFLAG, REINSFLAG, ALLINSFLAG, UNDERWRITEFLAG, 
    OTHFLAG, FLAG, DISRATE1, BUSINESSFLAG, UPDATERCODE, UPDATEDATE, UPDATEHOUR, SIGNDATE, 
    SHAREHOLDERFLAG, AGREEMENTNO, INQUIRYNO, PAYMODE, REMARK, VISACODE, MANUALTYPE, NATIONFLAG, 
    STARTMINUTE, ENDMINUTE, JFEEFLAG, PRECHECKDATE, HANDLERNAME, HANDLER1NAME, PAYREFCODE, 
    PAYREFNAME, PAYREFTIME, PRINTTIME, AGRITYPE, SUBBUSINESSNATURE, BANKCODE, CHANNELTYPE, 
    EXCHANGERATE, PROJECTSFLAG, PROPOSALLEVEL, STOPTIMES, EFFECTIVEIMMEDIATELYFLAG, NEWSTARTDATE, 
    NEWENDDATE, GROUPTYPE, STARTSTAGES, EDITFLAG, RSNNORENEWAL, NOTRENEWALREGIST, 
    DECLAREFLAG, CONTRIBUTIONLEVEL, BUSINESSTYPEFLAG, RATEPERIODOLD, HANDLER2CODE, HANDLER2NAME, 
    HANDLER2IDTYPE, HANDLER2ID, HANDLER2MOBILE, HANDLER2POST, HANDLER2ADDRESS, CASENO, 
    CHANNELCODE, BIZNOSYSFLAG, BUSINESSRECMARK, UNDWRTMARK, ISUNDWRTFLAG, AGENTMAXCOMISSION, 
    BANKFLAG, RATEPERIODTYPE, RATEPERIOD, RATESTARTDATE, RATEENDDATE, GOVPURCHASEFLAG, 
    FYCFLAG, EXTRACOMCODE, INTRODUCERID, INTRODUCERNAME, AGENT1CODE, AGENT1NAME, EXTRACOMNAME, 
    TRADEVANID, LASTINSURERCODE, LASTINSURERCOM, LASTPRINTNO, HANDLERIDENTIFYNUMBER, 
    AGENTNAME, QUOTENO, LOGINCOM, DIRECTBUSINESS, PROJECTCODE, BATCHNO, ASPOLICYNO, SERIESCODE, 
    ACHIEVCONVERRATE, ASSUMPREMIUM, VISACODEBI, POSSESSNATURECODE, POSSESSNATURE, SERIESNAME, 
    ZHIZHE, REINSMARK, PUBLICFLAG, TESTCARSTARTDATE, TESTCARENDDATE, MAINTAINENDDATE, 
    MAINTAINSTARTDATE, MAINTAINDAYS, SUMDAMAGEAMOUNT, SUMEXTERNALAMOUNT, SUMINCREASEDAMOUNT, 
    RENEWINSURANCEFLAG, SMALLAMOUNTBI, CUSTOMSBROKERNAME, POLICYAPPLYAREA, POLICYAPPLYAGREEMENT, 
    UNEARNEDPREMIUM, DETAILREMARK, DESCRIPTIONS, BASESTARTDATE, CREATOR, RENEWALTIMES, 
    COMMONBUSINESS, SPECIALFLAG, DISCOUNTRATE, PRINTDATE, MAILDATE, RATIONCODE, FEEREMARK, 
    DELIVERYDATE, POLICYRECEPTDATE, TEMPORARILYNO, REINSMARKDESC, AGEKINDTYPE, TEMPORARILYRECEIPT, 
    PRINTTIMES, BIGPOLICYNO, SENDPAYMENTFLAG, REMARKCOL1, REMARKCOL2, REMARKCOL3, REMARKCOL4, 
    REMARKCOL5, REMARKCOL6, REMARKCOL7, REMARKCOL8, REMARKCOL9, REMARKCOL10, APPROVALNO, 
    FLOWFLAG, FLOWRATE, POLICYPERMISSIONS, POLICYFILENUMBER, REFUSELIMITEINSURANCE, LISTDETECTION, 
    RISKRATING, WORKSTATUS, CALLAMLDATE, EXCEPTIONNO, COMMODITYRISKGRADE, SUPERPAY,  
    LOCKERCODE, CAROPTIONTYPE, ORDERSEQ, SENDTYPE, CLAUSE_SENDTYPE, NOTIFYORNOT, EPOLICY
  </sql>
  
  <select id="selectByParams" parameterClass="java.util.Map" resultMap="BaseResultMap">
  	select 
    <include refid="Prpcmain.Base_Column_List" />
    from PRPCMAIN
    <dynamic prepend="WHERE">
    	<isNotEmpty prepend="AND" property="policyno">
    		POLICYNO = #policyno#
    	</isNotEmpty>
    	<!-- mantis：CAR0427，處理人員：BJ085，需求單編號：CAR0427 機車強制車險重新投保發對接功能-第四次明信片 start -->
    	<isNotEmpty prepend="AND" property="riskcode">
    		RISKCODE = #riskcode#
    	</isNotEmpty>
    	<isNotEmpty prepend="AND" property="printno">
    		PRINTNO = #printno#
    	</isNotEmpty>
    	<!-- mantis：CAR0427，處理人員：BJ085，需求單編號：CAR0427 機車強制車險重新投保發對接功能-第四次明信片 end -->
    </dynamic>
  </select>
  
  <select id="selectByPrimaryKey" parameterClass="com.tlg.prpins.entity.Prpcmain" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Mar 22 17:24:54 CST 2021.
    -->
    select 
    <include refid="Prpcmain.Base_Column_List" />
    from PRPCMAIN
    where POLICYNO = #policyno:VARCHAR#
  </select>
  
  
	<select id="selectAS400PrefilEpolicy" resultMap="EpolicyResultMap" parameterClass="java.util.Map">
		SELECT A.POLICYNO AS POLICYNO
		FROM <include refid="Utils.prpinsSchema"/>PRPCMAIN A
		LEFT JOIN <include refid="Utils.prpinsSchema"/>OPERATELOG B ON A.POLICYNO = B.POLICYNO 
		WHERE 1=1 
		AND A.RISKCODE = 'PA'
		AND A.STARTDATE <![CDATA[>=]]> TO_DATE('20240101','yyyyMMdd')
		AND SUBSTR(A.OTHFLAG,3,2) = '00'
		AND A.EPOLICY = 'Y' AND B.FLAG IS NULL
		AND A.PROPOSALNO IN (SELECT PROPOSALNO FROM <include refid="Utils.prpinsSchema"/>PRPDPRINT WHERE PRINTVIRTUALCODE IN(SELECT PRE01 FROM <include refid="Utils.prpinsSchema"/>AS400_PREFIL WHERE PRE02='CPA' AND PRE31 <![CDATA[>]]> TO_CHAR(SYSDATE-30,'YYYYMMDD')-19110000))
		--AND C.PRE31 IS NOT NULL
		AND A.POLICYNO NOT IN (SELECT POLICYNO FROM NEWEPOLICYMAIN<![CDATA[@]]>XCHG)
		ORDER BY A.UNDERWRITEENDDATE
	</select>

  	<select id="selectHeccFilEpolicy" resultMap="EpolicyResultMap" parameterClass="java.util.Map">
		SELECT A.POLICYNO AS POLICYNO
		FROM <include refid="Utils.prpinsSchema"/>PRPCMAIN A
		LEFT JOIN <include refid="Utils.prpinsSchema"/>OPERATELOG B ON A.POLICYNO = B.POLICYNO 
		LEFT JOIN <include refid="Utils.prpinsSchema"/>AS400_HECCFIL C ON A.POLICYNO=C.HECC01 
		WHERE 1=1 
		AND A.RISKCODE = 'PA'
		AND A.STARTDATE <![CDATA[>=]]> TO_DATE('20240101','yyyyMMdd')
		AND SUBSTR(A.OTHFLAG,3,2) = '00'
		AND A.EPOLICY = 'Y' AND B.FLAG IS NULL
		AND (C.HECC06 IS NOT NULL AND C.HECC06 <![CDATA[<>]]> '0')
		AND A.POLICYNO NOT IN (SELECT POLICYNO FROM NEWEPOLICYMAIN<![CDATA[@]]>XCHG)
		ORDER BY A.UNDERWRITEENDDATE
	</select>
	
	<select id="selectTolFilEpolicy" resultMap="EpolicyResultMap" parameterClass="java.util.Map">
		SELECT A.POLICYNO FROM <include refid="Utils.prpinsSchema"/>PRPCMAIN A
		LEFT JOIN <include refid="Utils.prpinsSchema"/>OPERATELOG B ON A.POLICYNO = B.POLICYNO 
		LEFT JOIN <include refid="Utils.prpinsSchema"/>AS400_TOLFIL C ON A.POLICYNO=TRIM(C.TOL04) 
		WHERE 1=1 
		AND A.RISKCODE = 'PA'
		AND A.STARTDATE <![CDATA[>=]]> TO_DATE('20240101','yyyyMMdd')
		AND SUBSTR(A.OTHFLAG,3,2) = '00'
		AND A.EPOLICY = 'Y' AND B.FLAG IS NULL
		AND C.TOL01 IS NOT NULL
		AND A.POLICYNO NOT IN (SELECT POLICYNO FROM NEWEPOLICYMAIN<![CDATA[@]]>XCHG)
		ORDER BY A.UNDERWRITEENDDATE
	</select>

	<select id="selectTaAS400PrefilEpolicy" resultMap="EpolicyResultMap" parameterClass="java.util.Map">
		SELECT A.POLICYNO AS POLICYNO
		FROM <include refid="Utils.prpinsSchema"/>PRPCMAIN A
		LEFT JOIN <include refid="Utils.prpinsSchema"/>OPERATELOG B ON A.POLICYNO = B.POLICYNO 
		WHERE 1=1 
		AND A.RISKCODE = 'TA'
		AND LENGTH(TRIM(TRANSLATE(SUBSTR(A.POLICYNO,9,1), ' +-.0123456789', ' '))) IS NULL
		AND A.STARTDATE <![CDATA[>=]]> TO_DATE('20240101','yyyyMMdd')
		AND SUBSTR(A.OTHFLAG,3,2) = '00'
		AND A.EPOLICY = 'Y' AND B.FLAG IS NULL
		AND A.PROPOSALNO IN (
			SELECT PROPOSALNO FROM <include refid="Utils.prpinsSchema"/>PRPDPRINT 
			WHERE PRINTVIRTUALCODE IN(
				SELECT PRE01 FROM <include refid="Utils.prpinsSchema"/>AS400_PREFIL 
				WHERE PRE02 IN ('CTA','TA','QTHO') 
				AND PRE31 <![CDATA[>]]> TO_CHAR(SYSDATE-30,'YYYYMMDD')-19110000
			)
		)
		AND A.POLICYNO NOT IN (SELECT POLICYNO FROM NEWEPOLICYMAIN<![CDATA[@]]>XCHG)
		ORDER BY A.UNDERWRITEENDDATE
	</select>
	
  	<select id="selectTaHeccFilEpolicy" resultMap="EpolicyResultMap" parameterClass="java.util.Map">
		SELECT A.POLICYNO AS POLICYNO
		FROM <include refid="Utils.prpinsSchema"/>PRPCMAIN A
		LEFT JOIN <include refid="Utils.prpinsSchema"/>OPERATELOG B ON A.POLICYNO = B.POLICYNO 
		LEFT JOIN <include refid="Utils.prpinsSchema"/>AS400_HECCFIL C ON A.POLICYNO=C.HECC01 
		WHERE 1=1 
		AND A.RISKCODE = 'TA'
		AND LENGTH(TRIM(TRANSLATE(SUBSTR(A.POLICYNO,9,1), ' +-.0123456789', ' '))) IS NULL
		AND A.STARTDATE <![CDATA[>=]]> TO_DATE('20240101','yyyyMMdd')
		AND SUBSTR(A.OTHFLAG,3,2) = '00'
		AND A.EPOLICY = 'Y' AND B.FLAG IS NULL
		AND (C.HECC06 IS NOT NULL AND C.HECC06 <![CDATA[<>]]> '0')
		AND A.POLICYNO NOT IN (SELECT POLICYNO FROM NEWEPOLICYMAIN<![CDATA[@]]>XCHG)
		ORDER BY A.UNDERWRITEENDDATE
	</select>
	
	<select id="selectTaTolFilEpolicy" resultMap="EpolicyResultMap" parameterClass="java.util.Map">
		SELECT A.POLICYNO FROM <include refid="Utils.prpinsSchema"/>PRPCMAIN A
		LEFT JOIN <include refid="Utils.prpinsSchema"/>OPERATELOG B ON A.POLICYNO = B.POLICYNO 
		LEFT JOIN <include refid="Utils.prpinsSchema"/>AS400_TOLFIL C ON A.POLICYNO=TRIM(C.TOL04) 
		WHERE 1=1 
		AND A.RISKCODE = 'TA'
		AND LENGTH(TRIM(TRANSLATE(SUBSTR(A.POLICYNO,9,1), ' +-.0123456789', ' '))) IS NULL
		AND A.STARTDATE <![CDATA[>=]]> TO_DATE('20240101','yyyyMMdd')
		AND SUBSTR(A.OTHFLAG,3,2) = '00'
		AND A.EPOLICY = 'Y' AND B.FLAG IS NULL
		AND C.TOL01 IS NOT NULL
		AND A.POLICYNO NOT IN (SELECT POLICYNO FROM NEWEPOLICYMAIN<![CDATA[@]]>XCHG)
		ORDER BY A.UNDERWRITEENDDATE
	</select>
	
	<!-- mantis：CAR0417，處理人員：BJ085，需求單編號：CAR0417 機車強制車險重新投保發對接功能 start -->
	<select id="selectPolicynoToTvbcm" resultMap="EpolicyResultMap" parameterClass="java.util.Map">
		SELECT POLICYNO <include refid="Utils.prpinsSchema"/>FROM PRPCMAIN 
		WHERE PRINTNO = #insuredcardno:VARCHAR#
		AND RISKCODE = 'B01'
	</select>
	
	<select id="selectToCompareTiiTvbcm" resultMap="TiiTvbcmResultMap" parameterClass="java.util.Map">
		SELECT A.POLICYNO, A.PRINTNO, D.LICENSENO, C.IDENTIFYNUMBER FROM PRPCMAIN A
		LEFT OUTER JOIN PRPCITEMCAR D ON D.POLICYNO = A.POLICYNO
		LEFT OUTER JOIN PRPCINSURED C ON C.POLICYNO = A.POLICYNO AND C.INSUREDFLAG='1'
		WHERE A.RISKCODE = 'B01' AND A.PRINTNO = #insuredcardno:VARCHAR#
	</select>
	<!-- mantis：CAR0417，處理人員：BJ085，需求單編號：CAR0417 機車強制車險重新投保發對接功能 end -->
	
	<!-- mantis：CAR0507，處理人員：BJ085，需求單編號：CAR0507 承保系統新增電子保單產生追蹤機制(車險&旅平險) start -->
	<select id="selectForBatchSendmail" resultMap="WriteForBatchSendmailResultMap" parameterClass="java.util.Map">
		SELECT RISKCODE,TO_CHAR(UNDERWRITEENDDATE, 'YYYYMMDD') as UNDERWRITEENDDATE,
		count(1) as count <include refid="Utils.prpinsSchema"/>FROM PRPCMAIN 
		<dynamic prepend="WHERE">
	    	<isNotEmpty prepend="AND" property="riskcoedList">
	    		RISKCODE IN
				<iterate open="(" close=")" conjunction="," property="riskcoedList"> #riskcoedList[]# </iterate>
	    	</isNotEmpty>
	    	AND TO_CHAR(UNDERWRITEENDDATE, 'YYYYMMDD')  =TO_CHAR(SYSDATE-1, 'YYYYMMDD')
	    	AND EPOLICY = 'Y'
			GROUP BY RISKCODE,UNDERWRITEENDDATE
    	</dynamic>
	</select>
	
	<select id="selectForBatchSendmailDtl" resultMap="WriteForBatchSendmailDtlResultMap" parameterClass="java.util.Map">
		SELECT RISKCODE ,POLICYNO,TO_CHAR(UNDERWRITEENDDATE, 'YYYYMMDD') AS UNDERWRITEENDDATE <include refid="Utils.prpinsSchema"/>FROM PRPCMAIN 
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="riskcoedList">
	    		RISKCODE IN
				<iterate open="(" close=")" conjunction="," property="riskcoedList"> #riskcoedList[]# </iterate>
	    	</isNotEmpty>
			AND TO_CHAR(UNDERWRITEENDDATE, 'YYYYMMDD') =TO_CHAR(SYSDATE-1, 'YYYYMMDD')
			AND EPOLICY = 'Y'
		</dynamic>
	</select>
	<!-- mantis：CAR0507，處理人員：BJ085，需求單編號：CAR0507 承保系統新增電子保單產生追蹤機制(車險&旅平險) end -->
	
	<!-- mantis：FIR0635，處理人員：CD094，需求單編號：FIR0635_住火_新核心保單轉入中介檔異常處理排程   start -->
		<select id="selectForRerunFpolicy" resultMap="RerunResultMap" parameterClass="java.util.Map">
		select PM.POLICYNO, PM.UNDERWRITEENDDATE <include refid="Utils.prpinsSchema"/>from prpcmain pm
		left join fea fea 
		on PM.POLICYNO = FEA.FEA02
		where PM.RISKCODE = 'F02'  AND PM.UNDERWRITEENDDATE <![CDATA[>]]>= #underwriteenddate# AND FEA02 IS NULL
		order by PM.UNDERWRITEENDDATE
	</select>
	<!-- mantis：FIR0635，處理人員：CD094，需求單編號：FIR0635_住火_新核心保單轉入中介檔異常處理排程   end-->
	
	<!-- mantis：FIR0589，處理人員：BJ085，需求單編號：FIR0589 住火_APS板信續保作業_第二年優化_資料接收排程 start -->
	<resultMap class="com.tlg.aps.vo.FirPahsinRenewalVo" id="PanhsinRenewalCoreDataResultMap">
	  <result column="POLICYNO" jdbcType="VARCHAR" property="policyno" />
	  <result column="HANDLERIDENTIFYNUMBER" jdbcType="VARCHAR" property="handleridentifynumber" />
	  <result column="ENDDATE" jdbcType="TIMESTAMP" property="enddate" />
	  <result column="OTHFLAG" jdbcType="VARCHAR" property="othflag" />
	  <result column="EPOLICY" jdbcType="VARCHAR" property="epolicy" />
	  <result column="CLAUSE_SENDTYPE" jdbcType="VARCHAR" property="clauseSendtype" />
	  <result column="ADDRESSCODE" jdbcType="VARCHAR" property="addresscode" />
	  <result column="ADDRESSDETAILINFO" jdbcType="VARCHAR" property="addressdetailinfo" />
	  <result column="MORTGAGEEPCODE_2" jdbcType="VARCHAR" property="mortgageepcode2" />
	  <result column="SERIALNO_2" jdbcType="DECIMAL" property="serialno2" />
	  <result column="WALLMATERIAL" jdbcType="VARCHAR" property="wallmaterial" />
	  <result column="ROOFMATERIAL" jdbcType="VARCHAR" property="roofmaterial" />
	  <result column="SUMFLOORS" jdbcType="DECIMAL" property="sumfloors" />
	  <result column="BUILDAREA" jdbcType="DECIMAL" property="buildarea" />
	  <result column="BUILDYEARS" jdbcType="VARCHAR" property="buildyears" />
	  <result column="STRUCTURE" jdbcType="VARCHAR" property="structure" />
	  <result column="IS_AUTO_RENEW" jdbcType="VARCHAR" property="isAutoRenew" />
	  <result column="PREMIUM_T" jdbcType="VARCHAR" property="premiumT" />
	  <result column="AMT_Q" jdbcType="VARCHAR" property="amtQ" />
	  <result column="PREM_Q" jdbcType="VARCHAR" property="premQ" />
	  <result column="AMT_F" jdbcType="VARCHAR" property="amtF" />
	  <result column="PREM_F" jdbcType="VARCHAR" property="premF" />
	  <result column="IS_ENDORSE" jdbcType="VARCHAR" property="isEndorse" />
	</resultMap>
	
	<select id="selectForPanhsinRenewalCoreData" resultMap="PanhsinRenewalCoreDataResultMap" parameterClass="java.util.Map">
		SELECT PM.POLICYNO, PM.HANDLERIDENTIFYNUMBER, PM.ENDDATE, PM.OTHFLAG, PM.EPOLICY, PM.CLAUSE_SENDTYPE, 
		ADDR.ADDRESSCODE, ADDR.ADDRESSDETAILINFO, 
		CASE WHEN MORTGAGEEPCODE1 IS NOT NULL THEN CI.MORTGAGEEPCODE1 || CI.MORTGAGEEPCODE2 ELSE NULL END AS MORTGAGEEPCODE_2, 
		CASE WHEN MORTGAGEEPCODE1 IS NOT NULL THEN 2 ELSE NULL END AS SERIALNO_2,
		PROP.WALLMATERIAL, PROP.ROOFMATERIAL, PROP.SUMFLOORS, PROP.BUILDAREA, PROP.BUILDYEARS, PROP.STRUCTURE, 
		CASE WHEN EN.CLAUSECODE IS NULL THEN 'N' ELSE 'Y' END AS IS_AUTO_RENEW, 
		PKIND.PREMIUM_T, PKIND_Q.AMT_Q, PKIND_Q.PREM_Q, PKIND_F.AMT_F, PKIND_F.PREM_F, 
		NVL2(PHEAD.POLICYNO, 'Y', 'N') AS IS_ENDORSE
		FROM PRPCMAIN PM 
		LEFT JOIN PRPCADDRESS ADDR ON PM.POLICYNO = ADDR.POLICYNO
		LEFT JOIN (
			 SELECT MIN(SERIALNO) AS SERIALNO, POLICYNO FROM PRPCMORTGAGEECI 
			 WHERE MORTGAGEEPCODE1 <![CDATA[<>]]> '118' GROUP BY POLICYNO
		) CI_SNO ON PM.POLICYNO = CI_SNO.POLICYNO
		LEFT JOIN PRPCMORTGAGEECI CI ON CI.POLICYNO = CI_SNO.POLICYNO AND CI.SERIALNO = CI_SNO.SERIALNO
		LEFT JOIN PRPCMAINPROP PROP ON PM.POLICYNO = PROP.POLICYNO AND PROP.BUILDINGNO = '1'
		LEFT JOIN PRPCENGAGE EN ON PM.POLICYNO = EN.POLICYNO AND EN.CLAUSECODE = 'RA0023'
		LEFT JOIN ( 
			SELECT POLICYNO, SUM(PREMIUM) AS PREMIUM_T FROM PRPCITEMKIND GROUP BY POLICYNO
		) PKIND ON PM.POLICYNO = PKIND.POLICYNO
		LEFT JOIN ( 
			SELECT POLICYNO, SUM(AMOUNT) AS AMT_Q , SUM(PREMIUM) AS PREM_Q FROM PRPCITEMKIND WHERE KINDCODE='FR2' GROUP BY POLICYNO
		) PKIND_Q ON PM.POLICYNO = PKIND_Q.POLICYNO
		LEFT JOIN ( 
			SELECT POLICYNO, SUM(AMOUNT) AS AMT_F , SUM(PREMIUM) AS PREM_F FROM PRPCITEMKIND WHERE KINDCODE='FR3' GROUP BY POLICYNO
		) PKIND_F ON PM.POLICYNO = PKIND_F.POLICYNO
		LEFT JOIN (
			SELECT DISTINCT RISKCODE, POLICYNO FROM PRPPHEAD WHERE CLASSCODE = 'F' AND RISKCODE = 'F02' AND UNDERWRITEFLAG = '1'
		) PHEAD ON PM.RISKCODE = PHEAD.RISKCODE AND PM.POLICYNO = PHEAD.POLICYNO
		WHERE PM.RISKCODE = 'F02' AND PM.POLICYNO = #policyno:VARCHAR#
	</select>
	<!-- mantis：FIR0589，處理人員：BJ085，需求單編號：FIR0589 住火_APS板信續保作業_第二年優化_資料接收排程 end -->
</sqlMap>