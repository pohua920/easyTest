<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="Prpdexch">
  <resultMap class="com.tlg.dms.entity.Prpdexch" id="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 04 11:56:04 CST 2021.
    -->
    <result column="EXCHDATE" jdbcType="TIMESTAMP" property="exchdate" />
    <result column="BASECURRENCY" jdbcType="VARCHAR" property="basecurrency" />
    <result column="EXCHCURRENCY" jdbcType="VARCHAR" property="exchcurrency" />
    <result column="BASE" jdbcType="DECIMAL" property="base" />
    <result column="EXCHRATE" jdbcType="DECIMAL" property="exchrate" />
    <result column="BUYPRICE" jdbcType="DECIMAL" property="buyprice" />
    <result column="SALEPRICE" jdbcType="DECIMAL" property="saleprice" />
    <result column="CASHPRICE" jdbcType="DECIMAL" property="cashprice" />
    <result column="VALIDDATE" jdbcType="TIMESTAMP" property="validdate" />
    <result column="INVALIDDATE" jdbcType="TIMESTAMP" property="invaliddate" />
    <result column="VALIDSTATUS" jdbcType="VARCHAR" property="validstatus" />
    <result column="FLAG" jdbcType="VARCHAR" property="flag" />
    <result column="CASHBUYRATE" jdbcType="VARCHAR" property="cashbuyrate" />
    <result column="CASHSOLDRATE" jdbcType="VARCHAR" property="cashsoldrate" />
    <result column="SPOTBUYRATE" jdbcType="VARCHAR" property="spotbuyrate" />
    <result column="SPOTSOLDRATE" jdbcType="VARCHAR" property="spotsoldrate" />
    <result column="UPDATEUSER" jdbcType="VARCHAR" property="updateuser" />
    <result column="CREATEUSER" jdbcType="VARCHAR" property="createuser" />
    <result column="CREATEDATE" jdbcType="TIMESTAMP" property="createdate" />
    <result column="UPDATEDATE" jdbcType="TIMESTAMP" property="updatedate" />
    
  </resultMap>
  
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 04 11:56:04 CST 2021.
    -->
    EXCHDATE, BASECURRENCY, EXCHCURRENCY, BASE, EXCHRATE, BUYPRICE, SALEPRICE, CASHPRICE, 
    VALIDDATE, INVALIDDATE, VALIDSTATUS, FLAG, CASHBUYRATE, CASHSOLDRATE, SPOTBUYRATE, 
    SPOTSOLDRATE, UPDATEUSER, CREATEUSER, CREATEDATE, UPDATEDATE
  </sql>
  
  <select id="count" resultClass="java.lang.Integer" parameterClass="java.util.Map">
		SELECT COUNT(*) FROM <include refid="Utils.dmsSchema"/>PRPDEXCH
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="basecurrency">
				BASECURRENCY = #basecurrency#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="exchdate">
				EXCHDATE = #exchdate:TIMESTAMP#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="strExchdate">
				TO_CHAR(EXCHDATE,'yyyy/MM/dd') = #strExchdate#
			</isNotEmpty>
		</dynamic>
	</select>
	
	<select id="selectByParams" parameterClass="java.util.Map" resultMap="BaseResultMap">

    select * from <include refid="Utils.dmsSchema"/>PRPDEXCH
    	<dynamic prepend="WHERE">
    		<isNotEmpty prepend="AND" property="basecurrency">
				BASECURRENCY = #basecurrency#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="exchdate">
				EXCHDATE = #exchdate:TIMESTAMP#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="strExchdate">
				TO_CHAR(EXCHDATE,'yyyy/MM/dd') = #strExchdate#
			</isNotEmpty>
		</dynamic>
  </select>
  
  <select id="select" parameterClass="java.util.Map" resultMap="BaseResultMap">
  	<include refid="Utils.sql1"/>
	 select 
    <include refid="Prpdexch.Base_Column_List" />
    from <include refid="Utils.dmsSchema"/>PRPDEXCH
    <dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="basecurrency">
				BASECURRENCY = #basecurrency#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="exchdate">
				EXCHDATE = #exchdate:TIMESTAMP#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="strExchdate">
				TO_CHAR(EXCHDATE,'yyyy/MM/dd') = #strExchdate#
			</isNotEmpty>
    </dynamic>
    <isNotEmpty property="sotrBy">
		ORDER BY $sortBy$ $sortType$ 
	</isNotEmpty>
    <include refid="Utils.sql2"/>
  </select>
  
  <select id="selectByUK" parameterClass="java.util.Map" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 04 11:56:04 CST 2021.
    -->
    select 
    <include refid="Prpdexch.Base_Column_List" />
    from PRPDEXCH
    where
      TO_CHAR(EXCHDATE,'yyyy/MM/dd') = #exchdate#
      and BASECURRENCY = #basecurrency:VARCHAR#
      and EXCHCURRENCY = #exchcurrency:VARCHAR#
  </select>
  <delete id="deleteByEntity" parameterClass="com.tlg.dms.entity.Prpdexch">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 04 11:56:04 CST 2021.
      delete from CCICDMS.PRPDEXCH
    where EXCHDATE = #exchdate:TIMESTAMP#
      and BASECURRENCY = #basecurrency:VARCHAR#
      and EXCHCURRENCY = #exchcurrency:VARCHAR#
    -->
    delete from PRPDEXCH
    where EXCHDATE = #exchdate:TIMESTAMP#
      and BASECURRENCY = #basecurrency:VARCHAR#
      and EXCHCURRENCY = #exchcurrency:VARCHAR#
  </delete>
  
  <insert id="insert" parameterClass="com.tlg.dms.entity.Prpdexch">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 04 11:56:04 CST 2021.
    -->
    insert into PRPDEXCH (EXCHDATE, BASECURRENCY, EXCHCURRENCY, BASE, 
      EXCHRATE, BUYPRICE, SALEPRICE, CASHPRICE, 
      VALIDDATE, INVALIDDATE, VALIDSTATUS, FLAG, 
      CASHBUYRATE, CASHSOLDRATE, SPOTBUYRATE, SPOTSOLDRATE,CREATEUSER,CREATEDATE
      )
    values (#exchdate:TIMESTAMP#, #basecurrency:VARCHAR#, #exchcurrency:VARCHAR#, #base:DECIMAL#, 
      #exchrate:DECIMAL#, #buyprice:DECIMAL#, #saleprice:DECIMAL#, #cashprice:DECIMAL#, 
      #validdate:TIMESTAMP#, #invaliddate:TIMESTAMP#, #validstatus:VARCHAR#, #flag:VARCHAR#, 
      #cashbuyrate:VARCHAR#, #cashsoldrate:VARCHAR#, #spotbuyrate:VARCHAR#, #spotsoldrate:VARCHAR#,
      #createuser:VARCHAR#,#createdate:TIMESTAMP#)
  </insert>

  <update id="update" parameterClass="com.tlg.dms.entity.Prpdexch">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 04 11:56:04 CST 2021.
    -->
    update PRPDEXCH
    <dynamic prepend="set">
      <isNotNull prepend="," property="base">
        BASE = #base:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="exchrate">
        EXCHRATE = #exchrate:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="buyprice">
        BUYPRICE = #buyprice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="saleprice">
        SALEPRICE = #saleprice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="cashprice">
        CASHPRICE = #cashprice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="validdate">
        VALIDDATE = #validdate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="invaliddate">
        INVALIDDATE = #invaliddate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="validstatus">
        VALIDSTATUS = #validstatus:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="flag">
        FLAG = #flag:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="cashbuyrate">
        CASHBUYRATE = #cashbuyrate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="cashsoldrate">
        CASHSOLDRATE = #cashsoldrate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="spotbuyrate">
        SPOTBUYRATE = #spotbuyrate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="spotsoldrate">
        SPOTSOLDRATE = #spotsoldrate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updateuser">
        UPDATEUSER = #updateuser:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updatedate">
        UPDATEDATE = #updatedate:TIMESTAMP#
      </isNotNull>
    </dynamic>
    where EXCHDATE = #exchdate:TIMESTAMP#
      and BASECURRENCY = #basecurrency:VARCHAR#
      and EXCHCURRENCY = #exchcurrency:VARCHAR#
  </update>
  
</sqlMap>