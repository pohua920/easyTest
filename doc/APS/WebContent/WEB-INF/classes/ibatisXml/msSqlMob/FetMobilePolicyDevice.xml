<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="FetMobilePolicyDevice">
	<resultMap class="com.tlg.msSqlMob.entity.FetMobilePolicyDevice" id="BaseResultMap">
		<result column="transaction_id" property="transactionId" jdbcType="VARCHAR" />
		<result column="product_number" property="productNumber" jdbcType="VARCHAR" />
		<result column="product_name" property="productName" jdbcType="VARCHAR" />
		<result column="type" property="type" jdbcType="VARCHAR" />
		<result column="brand" property="brand" jdbcType="VARCHAR" />
		<result column="model" property="model" jdbcType="VARCHAR" />
		<result column="product_id" property="productId" jdbcType="VARCHAR" />
		<result column="init_price" property="initPrice" jdbcType="VARCHAR" />
		<result column="file_name" property="fileName" jdbcType="VARCHAR" />
		<result column="phone_number" property="phoneNumber" jdbcType="VARCHAR" />
		<result column="purchase_date" property="purchaseDate" jdbcType="VARCHAR" />
		<result column="is_fet_supply" property="isFetSupply" jdbcType="VARCHAR" />
		<result column="created_by" property="createdBy" jdbcType="VARCHAR" />
		<result column="created_time" property="createdTime" jdbcType="TIMESTAMP" />
		<result column="modified_by" property="modifiedBy" jdbcType="VARCHAR" />
		<result column="modified_time" property="modifiedTime" jdbcType="TIMESTAMP" />
		<!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 START -->
    	<result column="data_src" jdbcType="VARCHAR" property="dataSrc" />
    	<result column="tx_id" jdbcType="VARCHAR" property="txId" />
    	<result column="product_order_no" jdbcType="VARCHAR" property="productOrderNo" />
    	<result column="product_src" jdbcType="VARCHAR" property="productSrc" />
    	<!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 END -->
	</resultMap>

	<select id="select" parameterClass="java.util.Map" resultMap="BaseResultMap">
		<include refid="Utils.msSql1" />
		select * from FET_MOBILE_POLICY_DEVICE
		<dynamic prepend="WHERE">
			<!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 START -->
	  		<isNotEmpty prepend="AND" property="dataSrc">
		      	data_src = #dataSrc:VARCHAR#
      		</isNotEmpty>
      		<isNotEmpty prepend="AND" property="txId">
		      	tx_id = #txId:VARCHAR#
	  		</isNotEmpty>
      		<isNotEmpty prepend="AND" property="productOrderNo">
			  	product_order_no = #productOrderNo:VARCHAR#
	  		</isNotEmpty>
      		<isNotEmpty prepend="AND" property="productSrc">
				product_src = #productSrc:VARCHAR#
	  		</isNotEmpty>
      	    <!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 END -->
			<isNotEmpty prepend="AND" property="transactionId">
				transaction_id = #transactionId:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="productNumber">
				product_number = #productNumber:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="type">
				type = #type:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="brand">
				brand = #brand:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="productId">
				product_id = #productId:VARCHAR#
			</isNotEmpty>
		</dynamic>
		<include refid="Utils.msSql2" />
	</select>

	<select id="selectByParams" parameterClass="java.util.Map" resultMap="BaseResultMap">
		select * from FET_MOBILE_POLICY_DEVICE
		<dynamic prepend="WHERE">
			<!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 START -->
	  		<isNotEmpty prepend="AND" property="dataSrc">
				data_src = #dataSrc:VARCHAR#
      		</isNotEmpty>
      		<isNotEmpty prepend="AND" property="txId">
				tx_id = #txId:VARCHAR#
	  		</isNotEmpty>
      		<isNotEmpty prepend="AND" property="productOrderNo">
				product_order_no = #productOrderNo:VARCHAR#
	  		</isNotEmpty>
      		<isNotEmpty prepend="AND" property="productSrc">
				product_src = #productSrc:VARCHAR#
	  		</isNotEmpty>
      		<!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 END -->
			<isNotEmpty prepend="AND" property="transactionId">
				transaction_id = #transactionId:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="productNumber">
				product_number = #productNumber:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="type">
				type = #type:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="brand">
				brand = #brand:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="productId">
				product_id = #productId:VARCHAR#
			</isNotEmpty>
		</dynamic>
	</select>

	<select id="count" parameterClass="java.util.Map" resultClass="java.lang.Integer">
		select COUNT(*) from FET_MOBILE_POLICY_DEVICE
		<dynamic prepend="WHERE">
			<!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 START -->
	  		<isNotEmpty prepend="AND" property="dataSrc">
				data_src = #dataSrc:VARCHAR#
      		</isNotEmpty>
      		<isNotEmpty prepend="AND" property="txId">
				tx_id = #txId:VARCHAR#
	  		</isNotEmpty>
      		<isNotEmpty prepend="AND" property="productOrderNo">
				product_order_no = #productOrderNo:VARCHAR#
	  		</isNotEmpty>
      		<isNotEmpty prepend="AND" property="productSrc">
				product_src = #productSrc:VARCHAR#
	  		</isNotEmpty>
      		<!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 END -->
			<isNotEmpty prepend="AND" property="transactionId">
				transaction_id = #transactionId:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="productNumber">
				product_number = #productNumber:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="type">
				type = #type:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="brand">
				brand = #brand:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="productId">
				product_id = #productId:VARCHAR#
			</isNotEmpty>
		</dynamic>
	</select>

	<delete id="deleteByEntity" parameterClass="com.tlg.msSqlMob.entity.FetMobilePolicyDevice">
		delete from FET_MOBILE_POLICY_DEVICE
		where transaction_id = #transactionId:VARCHAR#
	</delete>

	<select id="selectByUK" resultMap="BaseResultMap"
		parameterClass="java.util.Map">
		SELECT * FROM FET_MOBILE_POLICY_DEVICE
		where transaction_id = #transactionId:VARCHAR#
	</select>

	<select id="countByUK" resultClass="java.lang.Integer"
		parameterClass="com.tlg.msSqlMob.entity.FetMobilePolicyDevice">
		SELECT COUNT(*) FROM FET_MOBILE_POLICY_DEVICE
		where transaction_id = #transactionId:VARCHAR#
	</select>

	<insert id="insert" parameterClass="com.tlg.msSqlMob.entity.FetMobilePolicyDevice">
		insert into FET_MOBILE_POLICY_DEVICE (transaction_id, product_number,
		product_name, type, brand,
		model, product_id, init_price, file_name, phone_number, purchase_date,
		is_fet_supply,
		<!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 START -->
		created_by, created_time, data_src, tx_id, product_order_no, product_src)
		values (#transactionId:VARCHAR#, #productNumber:VARCHAR#,
		#productName:VARCHAR#, #type:VARCHAR#,
		#brand:VARCHAR#, #model:VARCHAR#, #productId:VARCHAR#, #initPrice:VARCHAR#,
		#fileName:VARCHAR#,
		#phoneNumber:VARCHAR#, #purchaseDate:VARCHAR#, #isFetSupply:VARCHAR#, #createdBy:VARCHAR#,
		#createdTime:TIMESTAMP#, #dataSrc:VARCHAR#, #txId:VARCHAR#, #productOrderNo:VARCHAR#, #productSrc:VARCHAR#)
		<!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 END -->
	</insert>

	<update id="update" parameterClass="com.tlg.msSqlMob.entity.FetMobilePolicyDevice">
		update FET_MOBILE_POLICY_DEVICE
		<dynamic prepend="set">
			<isNotNull prepend="," property="productNumber">
				product_number = #productNumber:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="productName">
				product_name = #productName:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="type">
				type = #type:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="brand">
				brand = #brand:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="model">
				model = #model:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="productId">
				product_id = #productId:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="initPrice">
				init_price = #initPrice:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="fileName">
				file_name = #fileName:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="phoneNumber">
				phone_number = #phoneNumber:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="purchaseDate">
				purchase_date = #purchaseDate:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="isFetSupply">
				is_fet_supply = #isFetSupply:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="modifiedBy">
				modified_by = #modifiedBy:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="modifiedTime">
				modified_time = #modifiedTime:TIMESTAMP#
			</isNotNull>
			<!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 START -->
	  		<isNotNull prepend="," property="dataSrc">
				data_src = #dataSrc:VARCHAR#
	  		</isNotNull>
	  		<isNotNull prepend="," property="txId">
				tx_id = #txId:VARCHAR#
	  		</isNotNull>
	  		<isNotNull prepend="," property="productOrderNo">
				product_order_no = #productOrderNo:VARCHAR#
	  		</isNotNull>
	  		<isNotNull prepend="," property="productSrc">
				product_src = #productSrc:VARCHAR#
	  		</isNotNull>
      		<!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 END -->
		</dynamic>
		where transaction_id = #transactionId:VARCHAR#
	</update>
</sqlMap>