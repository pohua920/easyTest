<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="FetAmlRecord">
  <resultMap id="BaseResultMap" class="com.tlg.msSqlMob.entity.FetAmlRecord">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 29 11:04:08 CST 2024.
    -->
    <result column="transaction_id" jdbcType="VARCHAR" property="transactionId" />
    <result column="contract_id" jdbcType="VARCHAR" property="contractId" />
    <result column="policy_no" jdbcType="VARCHAR" property="policyNo" />
    <result column="endorse_no" jdbcType="VARCHAR" property="endorseNo" />
    <result column="name" jdbcType="NVARCHAR" property="name" />
    <result column="customer_id" jdbcType="VARCHAR" property="customerId" />
    <result column="birthday" jdbcType="VARCHAR" property="birthday" />
    <result column="ctbc_aml_status" jdbcType="VARCHAR" property="ctbcAmlStatus" />
    <result column="created_by" jdbcType="VARCHAR" property="createdBy" />
    <result column="created_time" jdbcType="TIMESTAMP" property="createdTime" />
    <result column="modified_by" jdbcType="VARCHAR" property="modifiedBy" />
    <result column="modified_time" jdbcType="TIMESTAMP" property="modifiedTime" />
    <!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 START -->
    <result column="data_src" jdbcType="VARCHAR" property="dataSrc" />
    <result column="tx_id" jdbcType="VARCHAR" property="txId" />
    <!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 END -->
  </resultMap>
  
  <select id="selectByContractId" parameterClass="java.util.Map" resultMap="BaseResultMap">
    select * from FET_AML_RECORD
    <dynamic prepend="WHERE">
		<!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 START-->
		<isNotEmpty prepend="AND" property="dataSrc">
			data_src = #dataSrc#
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="txId">
        	tx_id = #txId#
		</isNotEmpty>
		<!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 END-->
		<isNotEmpty prepend="AND" property="contractId">
        	contract_id = #contractId#
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="policyNoIsNull">
			(policy_no = '' OR policy_no is null)
		</isNotEmpty>
	</dynamic>
  </select>
  
  <select id="selectByParams" parameterClass="java.util.Map" resultMap="BaseResultMap">
    select * from FET_AML_RECORD
    <dynamic prepend="WHERE">
        <!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 START -->
		<isNotEmpty prepend="AND" property="dataSrc">
			data_src = #dataSrc#
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="txId">
			tx_id = #txId#
		</isNotEmpty>
        <!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 END -->
		<isNotEmpty prepend="AND" property="contractId">
        	contract_id = #contractId#
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="policyNo">
        	policy_no = #policyNo:VARCHAR#
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="name">
        	name = #name:VARCHAR#
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="customerId">
        	customer_id = #customerId:VARCHAR#
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="birthday">
        	birthday = #birthday:VARCHAR#
		</isNotEmpty>
		<isEqual prepend="AND" property="policyNoIsNull" compareValue="Y">
			(policy_no = '' OR policy_no is null)
		</isEqual>
		<isEqual property="orderByCreatedtimeDesc" compareValue="Y" >
			ORDER BY CREATED_TIME DESC
		</isEqual>
    </dynamic>
  </select>
  
  <select id="count" resultClass="java.lang.Integer" parameterClass="java.util.Map">
    select COUNT(*) from FET_AML_RECORD
    <dynamic prepend="WHERE">
    	<!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 START -->
		<isNotEmpty prepend="AND" property="dataSrc">
			data_src = #dataSrc#
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="txId">
			tx_id = #txId#
		</isNotEmpty>
        <!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 END -->
		<isNotEmpty prepend="AND" property="contractId">
        	contract_id = #contractId#
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="policyNo">
        	policy_no = #policyNo:VARCHAR#
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="name">
        	name = #name:VARCHAR#
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="customerId">
        	customer_id = #customerId:VARCHAR#
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="birthday">
        	birthday = #birthday:VARCHAR#
		</isNotEmpty>
    </dynamic>
  </select>
  
  <select id="countByUK" resultClass="java.lang.Integer" parameterClass="com.tlg.msSqlMob.entity.FetAmlRecord" >
		SELECT COUNT(*) FROM FET_AML_RECORD
		where transaction_id = #transactionId:VARCHAR#
  </select>

  <select id="selectByUK" parameterClass="java.util.Map" resultMap="BaseResultMap">
    select * 
    from FET_AML_RECORD
    where transaction_id = #transactionId:VARCHAR#
  </select>
  
  <delete id="deleteByEntity" parameterClass="com.tlg.msSqlMob.entity.FetAmlRecord">
    delete from FET_AML_RECORD
    where transaction_id = #transactionId:VARCHAR#
  </delete>

  <insert id="insert" parameterClass="com.tlg.msSqlMob.entity.FetAmlRecord">
    insert into FET_AML_RECORD (transaction_id, contract_id, policy_no, endorse_no, 
      name, customer_id, birthday, ctbc_aml_status, 
      created_by, created_time, 
      <!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 START -->
      modified_by, modified_time, data_src, tx_id)
    values (#transactionId:VARCHAR#, #contractId:VARCHAR#, #policyNo:VARCHAR#, #endorseNo:VARCHAR#, 
      #name:VARCHAR#, #customerId:VARCHAR#, #birthday:VARCHAR#, #ctbcAmlStatus:VARCHAR#, 
      #createdBy:VARCHAR#, #createdTime:TIMESTAMP#, 
      #modifiedBy:VARCHAR#, #modifiedTime:TIMESTAMP#, #dataSrc:VARCHAR#, #txId:VARCHAR#)
      <!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 END -->
  </insert>

  <update id="update" parameterClass="com.tlg.msSqlMob.entity.FetAmlRecord">
    update FET_AML_RECORD
    <dynamic prepend="set">
      <isNotNull prepend="," property="contractId">
        contract_id = #contractId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="policyNo">
        policy_no = #policyNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="endorseNo">
        endorse_no = #endorseNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="name">
        name = #name:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="customerId">
        customer_id = #customerId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="birthday">
        birthday = #birthday:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ctbcAmlStatus">
        ctbc_aml_status = #ctbcAmlStatus:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="createdBy">
        created_by = #createdBy:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="createdTime">
        created_time = #createdTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="modifiedBy">
        modified_by = #modifiedBy:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="modifiedTime">
        modified_time = #modifiedTime:TIMESTAMP#
      </isNotNull>
      <!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 START -->
	  <isNotNull prepend="," property="dataSrc">
		data_src = #dataSrc:VARCHAR#
	  </isNotNull>
	  <isNotNull prepend="," property="txId">
		tx_id = #txId:VARCHAR#
	  </isNotNull>
	  <isNotNull prepend="," property="ctbcRcvNo">
		ctbc_rcv_no = #ctbcRcvNo:VARCHAR#
	  </isNotNull>
	  <isNotNull prepend="," property="projectCode">
		project_code = #projectCode:VARCHAR#
	  </isNotNull>
      <!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 END -->
    </dynamic>
    where transaction_id = #transactionId:VARCHAR#
  </update>
</sqlMap>