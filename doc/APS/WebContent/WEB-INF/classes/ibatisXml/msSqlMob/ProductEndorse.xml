<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="ProductEndorse">
	<resultMap class="com.tlg.msSqlMob.entity.ProductEndorse" id="BaseResultMap">
	    <result column="transaction_id" property="transactionId" jdbcType="VARCHAR" />
	    <result column="prodno" property="prodno" jdbcType="VARCHAR" />
	    <result column="prodname" property="prodname" jdbcType="VARCHAR" />
	    <result column="type" property="type" jdbcType="VARCHAR" />
	    <result column="brand" property="brand" jdbcType="VARCHAR" />
	    <result column="model" property="model" jdbcType="VARCHAR" />
	    <result column="imei" property="imei" jdbcType="VARCHAR" />
	    <result column="rrp" property="rrp" jdbcType="VARCHAR" />
	    <result column="purchase_date" property="purchaseDate" jdbcType="VARCHAR" />
	    <result column="created_by" property="createdBy" jdbcType="VARCHAR" />
	    <result column="created_time" property="createdTime" jdbcType="TIMESTAMP" />
	    <result column="modified_by" property="modifiedBy" jdbcType="VARCHAR" />
	    <result column="modified_time" property="modifiedTime" jdbcType="TIMESTAMP" />
	    <!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 START -->
    	<result column="data_src" jdbcType="VARCHAR" property="dataSrc" />
    	<result column="product_order_no" jdbcType="VARCHAR" property="productOrderNo" />
    	<result column="product_src" jdbcType="VARCHAR" property="productSrc" />
    	<!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 END -->
	</resultMap>

	<select id="select" parameterClass="java.util.Map" resultMap="BaseResultMap">
		<include refid="Utils.msSql1" />
		select * from PRODUCT_ENDORSE
		<dynamic prepend="WHERE">
			<!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 START -->
			<isNotEmpty prepend="AND" property="dataSrc">
				data_src = #dataSrc:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="productOrderNo">
				product_order_no = #productOrderNo:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="productSrc">
				product_src = #productSrc:VARCHAR#
			</isNotEmpty>
			<!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 END -->
			<isNotEmpty prepend="AND" property="transactionId">
				transaction_id = #transactionId:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="prodno">
				prodno = #prodno:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="prodname">
				prodname = #prodname:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="imei">
				imei = #imei:VARCHAR#
			</isNotEmpty>
		</dynamic>
		<include refid="Utils.msSql2" />
	</select>

	<select id="selectByParams" parameterClass="java.util.Map" resultMap="BaseResultMap">
		select * from PRODUCT_ENDORSE
		<dynamic prepend="WHERE">
			<!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 START -->
			<isNotEmpty prepend="AND" property="dataSrc">
				data_src = #dataSrc:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="productOrderNo">
				product_order_no = #productOrderNo:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="productSrc">
				product_src = #productSrc:VARCHAR#
			</isNotEmpty>
			<!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 END -->
			<isNotEmpty prepend="AND" property="transactionId">
				transaction_id = #transactionId:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="prodno">
				prodno = #prodno:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="prodname">
				prodname = #prodname:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="imei">
				imei = #imei:VARCHAR#
			</isNotEmpty>
		</dynamic>
	</select>

	<select id="count" parameterClass="java.util.Map" resultClass="java.lang.Integer">
		select COUNT(*) from PRODUCT_ENDORSE
		<dynamic prepend="WHERE">
			<!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 START -->
			<isNotEmpty prepend="AND" property="dataSrc">
				data_src = #dataSrc:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="productOrderNo">
				product_order_no = #productOrderNo:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="productSrc">
				product_src = #productSrc:VARCHAR#
			</isNotEmpty>
			<!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 END -->
			<isNotEmpty prepend="AND" property="transactionId">
				transaction_id = #transactionId:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="prodno">
				prodno = #prodno:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="prodname">
				prodname = #prodname:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="imei">
				imei = #imei:VARCHAR#
			</isNotEmpty>
		</dynamic>
	</select>
  
  <delete id="deleteByEntity" parameterClass="com.tlg.msSqlMob.entity.ProductEndorse">
    delete from PRODUCT_ENDORSE
    where transaction_id = #transactionId:VARCHAR#
  </delete>
  
  <select id="selectByUK" resultMap="BaseResultMap" parameterClass="java.util.Map" >
	SELECT * FROM PRODUCT_ENDORSE
	where transaction_id = #transactionId:VARCHAR#
  </select>
	
  <select id="countByUK" resultClass="java.lang.Integer" parameterClass="com.tlg.msSqlMob.entity.ProductEndorse" >
	SELECT COUNT(*) FROM PRODUCT_ENDORSE
	where transaction_id = #transactionId:VARCHAR#
  </select>
  
  <insert id="insert" parameterClass="com.tlg.msSqlMob.entity.ProductEndorse">
    insert into PRODUCT_ENDORSE (transaction_id, prodno, prodname, type, brand, model, imei, rrp,
      <!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 START -->
      purchase_date, created_by, created_time, data_src, product_order_no, product_src)
    values (#transactionId:VARCHAR#, #prodno:VARCHAR#, #prodname:VARCHAR#, #type:VARCHAR#,
      #brand:VARCHAR#, #model:VARCHAR#, #imei:VARCHAR#, #rrp:VARCHAR#, #purchaseDate:VARCHAR#,
      #createdBy:VARCHAR#, #createdTime:TIMESTAMP#, #dataSrc:VARCHAR#, #productOrderNo:VARCHAR#, #productSrc:VARCHAR#)
      <!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 END -->
  </insert>

	<update id="update" parameterClass="com.tlg.msSqlMob.entity.ProductEndorse">
		update PRODUCT_ENDORSE
		<dynamic prepend="set">
			<isNotNull prepend="," property="prodno">
				prodno = #prodno:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="prodname">
				prodname = #prodname:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="type">
				type = #type:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="brand">
				brand = #brand:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="model">
				model = #model:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="imei">
				imei = #imei:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="rrp">
				rrp = #rrp:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="purchaseDate">
				purchase_date = #purchaseDate:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="modifiedBy">
				modified_by = #modifiedBy:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="modifiedTime">
				modified_time = #modifiedTime:TIMESTAMP#
			</isNotNull>
			<!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 START -->
			<isNotNull prepend="," property="dataSrc">
				data_src = #dataSrc:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="productOrderNo">
				product_order_no = #productOrderNo:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="productSrc">
				product_src = #productSrc:VARCHAR#
			</isNotNull>
			<!-- mantis：MOB0031，處理人員：CE035，需求單編號：MOB0031 行動裝置險estore網投案開發 出單流程 END -->
		</dynamic>
		where transaction_id = #transactionId:VARCHAR#
	</update>
</sqlMap>