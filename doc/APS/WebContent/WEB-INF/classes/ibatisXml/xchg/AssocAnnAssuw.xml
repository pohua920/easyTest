<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="AssocAnnAssuw">

	<resultMap id="BaseResultMap" class="com.tlg.xchg.entity.AssocAnnAssuw">
		<result column="ID" property="id" jdbcType="DECIMAL" />
		<result column="ADDDATE" property="adddate" jdbcType="VARCHAR" />
		<result column="ASKBIRDATE" property="askbirdate" jdbcType="VARCHAR" />
		<result column="ASKIDNO" property="askidno" jdbcType="VARCHAR" />
		<result column="ASKNAME" property="askname" jdbcType="VARCHAR" />
		<result column="ASKTYPE" property="asktype" jdbcType="VARCHAR" />
		<result column="BAMTTYPE" property="bamttype" jdbcType="VARCHAR" />
		<result column="BIRDATE" property="birdate" jdbcType="VARCHAR" />
		<result column="CMPNO" property="cmpno" jdbcType="VARCHAR" />
		<result column="CMPTYPE" property="cmptype" jdbcType="VARCHAR" />
		<result column="CON" property="con" jdbcType="VARCHAR" />
		<result column="CONDATE" property="condate" jdbcType="VARCHAR" />
		<result column="FILECVDATE" property="filecvdate" jdbcType="TIMESTAMP" />
		<result column="FILENAME" property="filename" jdbcType="VARCHAR" />
		<result column="IDNO" property="idno" jdbcType="VARCHAR" />
		<result column="INSCLASS" property="insclass" jdbcType="VARCHAR" />
		<result column="INSITEM" property="insitem" jdbcType="VARCHAR" />
		<result column="INSKIND" property="inskind" jdbcType="VARCHAR" />
		<result column="INSNO" property="insno" jdbcType="VARCHAR" />
		<result column="ITEMA" property="itema" jdbcType="DECIMAL" />
		<result column="ITEMB" property="itemb" jdbcType="DECIMAL" />
		<result column="ITEMC" property="itemc" jdbcType="DECIMAL" />
		<result column="ITEMD" property="itemd" jdbcType="DECIMAL" />
		<result column="ITEME" property="iteme" jdbcType="DECIMAL" />
		<result column="ITEMF" property="itemf" jdbcType="DECIMAL" />
		<result column="ITEMG" property="itemg" jdbcType="DECIMAL" />
		<result column="ITEMH" property="itemh" jdbcType="DECIMAL" />
		<result column="ITEMI" property="itemi" jdbcType="DECIMAL" />
		<result column="ITEMJ" property="itemj" jdbcType="DECIMAL" />
		<result column="ITEMK" property="itemk" jdbcType="DECIMAL" />
		<result column="ITEML" property="iteml" jdbcType="DECIMAL" />
		<result column="ITEMM" property="itemm" jdbcType="DECIMAL" />
		<result column="ITEMN" property="itemn" jdbcType="DECIMAL" />
		<result column="ITEMO" property="itemo" jdbcType="DECIMAL" />
		<result column="ITEMP" property="itemp" jdbcType="DECIMAL" />
		<result column="MESSAGE" property="message" jdbcType="VARCHAR" />
		<result column="NAME" property="name" jdbcType="VARCHAR" />
		<result column="OVRDATE" property="ovrdate" jdbcType="VARCHAR" />
		<result column="PRM" property="prm" jdbcType="DECIMAL" />
		<result column="RECORDTIME" property="recordtime" jdbcType="TIMESTAMP" />
		<result column="RETURNCODE" property="returncode" jdbcType="VARCHAR" />
		<result column="SEX" property="sex" jdbcType="VARCHAR" />
		<result column="VALDATE" property="valdate" jdbcType="VARCHAR" />
		<result column="SOURCE_REMARK" property="sourceRemark" jdbcType="VARCHAR" />
		<result column="DATAERRORMSG" property="dataerrormsg" jdbcType="VARCHAR" />
		<result column="SN" property="sn" jdbcType="VARCHAR" />
		<result column="INSNOM" property="insnom" jdbcType="VARCHAR" />
		<result column="ORIGIN" property="origin" jdbcType="VARCHAR" />
		<result column="CHANNEL" property="channel" jdbcType="VARCHAR" />
		<result column="PRDCODE" property="prdcode" jdbcType="VARCHAR" />
		<result column="PAYTYPE" property="paytype" jdbcType="VARCHAR" />
		<result column="ITEMQ" property="itemq" jdbcType="DECIMAL" />
		<result column="ITEMR" property="itemr" jdbcType="DECIMAL" />
		<result column="ITEMS" property="items" jdbcType="DECIMAL" />
		<result column="VALTIME" property="valtime" jdbcType="VARCHAR" />
		<result column="OVRTIME" property="ovrtime" jdbcType="VARCHAR" />
		<result column="PRMYEARS" property="prmyears" jdbcType="VARCHAR" />
		<result column="CONTIME" property="contime" jdbcType="VARCHAR" />
		<result column="TO_LIA_FLAG" property="toLiaFlag" jdbcType="VARCHAR" />
	</resultMap>
	
	<resultMap id="queryResultMap1" class="com.tlg.xchg.entity.AssocAnnAssuw" >
	    <result column="IDNO" property="idno" jdbcType="VARCHAR" />
	</resultMap>

	<select id="select" resultMap="BaseResultMap" parameterClass="java.util.Map">
		<include refid="Utils.sql1" />
		SELECT * FROM <include refid="Utils.xchgSchema"/>ASSOC_ANN_ASSUW
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="id">
				ID = #id#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="idno">
				IDNO = #idno#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="askidno">
				ASKIDNO = #askidno#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="toLiaFlagIsNull">
				TO_LIA_FLAG IS NULL
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="condateGt">
				CONDATE >= #condateGt#
			</isNotEmpty>
		</dynamic>
		<include refid="Utils.sql2" />
	</select>

	<select id="selectByParams" resultMap="BaseResultMap" parameterClass="java.util.Map">
		SELECT * FROM <include refid="Utils.xchgSchema"/>ASSOC_ANN_ASSUW
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="id">
				ID = #id#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="idno">
				IDNO = #idno#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="askidno">
				ASKIDNO = #askidno#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="toLiaFlagIsNull">
				TO_LIA_FLAG IS NULL
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="condateGt">
				CONDATE >= #condateGt#
			</isNotEmpty>
		</dynamic>
	</select>
	
	<select id="selectByDistinctIdno" resultMap="queryResultMap1" parameterClass="java.util.Map">
		SELECT * FROM (SELECT A.*, ROWNUM RN FROM ( (
			SELECT DISTINCT IDNO FROM <include refid="Utils.xchgSchema"/>ASSOC_ANN_ASSUW  
			WHERE 1 = 1
			AND TO_LIA_FLAG IS NULL
			AND CONDATE >= '01100101'
			AND SOURCE_REMARK != 'AS400'
		ORDER BY IDNO ) A ))WHERE RN BETWEEN 1 AND 1000
	</select>
 	
	<select id="count" resultClass="java.lang.Integer" parameterClass="java.util.Map">
		SELECT COUNT(*) FROM <include refid="Utils.xchgSchema"/>ASSOC_ANN_ASSUW
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="id">
				ID = #id#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="idno">
				IDNO = #idno#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="askidno">
				ASKIDNO = #askidno#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="toLiaFlagIsNull">
				TO_LIA_FLAG IS NULL
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="condateGt">
				CONDATE >= #condateGt#
			</isNotEmpty>
		</dynamic>
	</select>
	
	<insert id="insert" parameterClass="com.tlg.xchg.entity.AssocAnnAssuw" >
		<selectKey resultClass="java.math.BigDecimal" keyProperty="id" >    
	       SELECT ASSOC_ANN_ASSUW_SEQ.NEXTVAL AS ID FROM DUAL    
	    </selectKey>
      	
      	INSERT INTO <include refid="Utils.xchgSchema"/> ASSOC_ANN_ASSUW (ID, ADDDATE, ASKBIRDATE, ASKIDNO, ASKNAME, ASKTYPE, BAMTTYPE,
	      BIRDATE, CMPNO, CMPTYPE, CON, CONDATE, FILECVDATE, FILENAME, IDNO, INSCLASS, INSITEM, INSKIND,
	      INSNO, ITEMA, ITEMB, ITEMC, ITEMD, ITEME, ITEMF, ITEMG, ITEMH, ITEMI, ITEMJ, ITEMK, ITEML,
	      ITEMM, ITEMN, ITEMO, ITEMP, MESSAGE, NAME, OVRDATE, PRM, RECORDTIME, RETURNCODE, SEX, VALDATE,
	      SOURCE_REMARK, DATAERRORMSG, SN, INSNOM, ORIGIN, CHANNEL, PRDCODE, PAYTYPE, ITEMQ, ITEMR,
	      ITEMS, VALTIME, OVRTIME, PRMYEARS, CONTIME, TO_LIA_FLAG)
	    VALUES (#id:DECIMAL#, #adddate:VARCHAR#, #askbirdate:VARCHAR#, #askidno:VARCHAR#,
	      #askname:VARCHAR#, #asktype:VARCHAR#, #bamttype:VARCHAR#, #birdate:VARCHAR#, #cmpno:VARCHAR#,
	      #cmptype:VARCHAR#, #con:VARCHAR#, #condate:VARCHAR#, #filecvdate:TIMESTAMP#,
	      #filename:VARCHAR#, #idno:VARCHAR#, #insclass:VARCHAR#, #insitem:VARCHAR#, #inskind:VARCHAR#,
	      #insno:VARCHAR#, #itema:DECIMAL#, #itemb:DECIMAL#, #itemc:DECIMAL#, #itemd:DECIMAL#,
	      #iteme:DECIMAL#, #itemf:DECIMAL#, #itemg:DECIMAL#, #itemh:DECIMAL#, #itemi:DECIMAL#,
	      #itemj:DECIMAL#, #itemk:DECIMAL#, #iteml:DECIMAL#, #itemm:DECIMAL#, #itemn:DECIMAL#,
	      #itemo:DECIMAL#, #itemp:DECIMAL#, #message:VARCHAR#, #name:VARCHAR#, #ovrdate:VARCHAR#,
	      #prm:DECIMAL#, #recordtime:TIMESTAMP#, #returncode:VARCHAR#, #sex:VARCHAR#, #valdate:VARCHAR#,
	      #sourceRemark:VARCHAR#, #dataerrormsg:VARCHAR#, #sn:VARCHAR#, #insnom:VARCHAR#,
	      #origin:VARCHAR#, #channel:VARCHAR#, #prdcode:VARCHAR#, #paytype:VARCHAR#, #itemq:DECIMAL#,
	      #itemr:DECIMAL#, #items:DECIMAL#, #valtime:VARCHAR#, #ovrtime:VARCHAR#, #prmyears:VARCHAR#,
	      #contime:VARCHAR#, #toLiaFlag:VARCHAR#)
	</insert>

	<delete id="delete" parameterClass="java.math.BigDecimal" >
		DELETE FROM <include refid="Utils.xchgSchema"/>ASSOC_ANN_ASSUW WHERE ID = #id:DECIMAL#
	</delete>

	<update id="update" parameterClass="com.tlg.xchg.entity.AssocAnnAssuw">
		UPDATE <include refid="Utils.xchgSchema" />ASSOC_ANN_ASSUW
		<dynamic prepend="set">
			<isNotNull prepend="," property="adddate">
				ADDDATE = #adddate:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="askbirdate">
				ASKBIRDATE = #askbirdate:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="askidno">
				ASKIDNO = #askidno:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="askname">
				ASKNAME = #askname:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="asktype">
				ASKTYPE = #asktype:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="bamttype">
				BAMTTYPE = #bamttype:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="birdate">
				BIRDATE = #birdate:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="cmpno">
				CMPNO = #cmpno:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="cmptype">
				CMPTYPE = #cmptype:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="con">
				CON = #con:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="condate">
				CONDATE = #condate:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="filecvdate">
				FILECVDATE = #filecvdate:TIMESTAMP#
			</isNotNull>
			<isNotNull prepend="," property="filename">
				FILENAME = #filename:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="idno">
				IDNO = #idno:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="insclass">
				INSCLASS = #insclass:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="insitem">
				INSITEM = #insitem:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="inskind">
				INSKIND = #inskind:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="insno">
				INSNO = #insno:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="itema">
				ITEMA = #itema:DECIMAL#
			</isNotNull>
			<isNotNull prepend="," property="itemb">
				ITEMB = #itemb:DECIMAL#
			</isNotNull>
			<isNotNull prepend="," property="itemc">
				ITEMC = #itemc:DECIMAL#
			</isNotNull>
			<isNotNull prepend="," property="itemd">
				ITEMD = #itemd:DECIMAL#
			</isNotNull>
			<isNotNull prepend="," property="iteme">
				ITEME = #iteme:DECIMAL#
			</isNotNull>
			<isNotNull prepend="," property="itemf">
				ITEMF = #itemf:DECIMAL#
			</isNotNull>
			<isNotNull prepend="," property="itemg">
				ITEMG = #itemg:DECIMAL#
			</isNotNull>
			<isNotNull prepend="," property="itemh">
				ITEMH = #itemh:DECIMAL#
			</isNotNull>
			<isNotNull prepend="," property="itemi">
				ITEMI = #itemi:DECIMAL#
			</isNotNull>
			<isNotNull prepend="," property="itemj">
				ITEMJ = #itemj:DECIMAL#
			</isNotNull>
			<isNotNull prepend="," property="itemk">
				ITEMK = #itemk:DECIMAL#
			</isNotNull>
			<isNotNull prepend="," property="iteml">
				ITEML = #iteml:DECIMAL#
			</isNotNull>
			<isNotNull prepend="," property="itemm">
				ITEMM = #itemm:DECIMAL#
			</isNotNull>
			<isNotNull prepend="," property="itemn">
				ITEMN = #itemn:DECIMAL#
			</isNotNull>
			<isNotNull prepend="," property="itemo">
				ITEMO = #itemo:DECIMAL#
			</isNotNull>
			<isNotNull prepend="," property="itemp">
				ITEMP = #itemp:DECIMAL#
			</isNotNull>
			<isNotNull prepend="," property="message">
				MESSAGE = #message:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="name">
				NAME = #name:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="ovrdate">
				OVRDATE = #ovrdate:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="prm">
				PRM = #prm:DECIMAL#
			</isNotNull>
			<isNotNull prepend="," property="recordtime">
				RECORDTIME = #recordtime:TIMESTAMP#
			</isNotNull>
			<isNotNull prepend="," property="returncode">
				RETURNCODE = #returncode:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="sex">
				SEX = #sex:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="valdate">
				VALDATE = #valdate:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="sourceRemark">
				SOURCE_REMARK = #sourceRemark:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="dataerrormsg">
				DATAERRORMSG = #dataerrormsg:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="sn">
				SN = #sn:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="insnom">
				INSNOM = #insnom:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="origin">
				ORIGIN = #origin:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="channel">
				CHANNEL = #channel:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="prdcode">
				PRDCODE = #prdcode:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="paytype">
				PAYTYPE = #paytype:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="itemq">
				ITEMQ = #itemq:DECIMAL#
			</isNotNull>
			<isNotNull prepend="," property="itemr">
				ITEMR = #itemr:DECIMAL#
			</isNotNull>
			<isNotNull prepend="," property="items">
				ITEMS = #items:DECIMAL#
			</isNotNull>
			<isNotNull prepend="," property="valtime">
				VALTIME = #valtime:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="ovrtime">
				OVRTIME = #ovrtime:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="prmyears">
				PRMYEARS = #prmyears:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="contime">
				CONTIME = #contime:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="toLiaFlag">
				TO_LIA_FLAG = #toLiaFlag:VARCHAR#
			</isNotNull>
		</dynamic>
		where ID = #id:DECIMAL#
	</update>

</sqlMap>