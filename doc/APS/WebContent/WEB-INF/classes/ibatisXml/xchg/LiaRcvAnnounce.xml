<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="LiaRcvAnnounce">

	<resultMap id="BaseResultMap" class="com.tlg.xchg.entity.LiaRcvAnnounce" >
	    <result column="OID" property="oid" jdbcType="DECIMAL" />
	    <result column="CHECKNO" property="checkno" jdbcType="VARCHAR" />
	    <result column="KEYIDNO" property="keyidno" jdbcType="VARCHAR" />
	    <result column="DATASERNO" property="dataserno" jdbcType="VARCHAR" />
	    <result column="CMPTYPE" property="cmptype" jdbcType="VARCHAR" />
	    <result column="CMPNO" property="cmpno" jdbcType="VARCHAR" />
	    <result column="NAME" property="name" jdbcType="VARCHAR" />
	    <result column="IDNO" property="idno" jdbcType="VARCHAR" />
	    <result column="BIRDATE" property="birdate" jdbcType="VARCHAR" />
	    <result column="SEX" property="sex" jdbcType="VARCHAR" />
	    <result column="INSNOM" property="insnom" jdbcType="VARCHAR" />
	    <result column="INSNO" property="insno" jdbcType="VARCHAR" />
	    <result column="ORIGIN" property="origin" jdbcType="VARCHAR" />
	    <result column="CHANNEL" property="channel" jdbcType="VARCHAR" />
	    <result column="PRDCODE" property="prdcode" jdbcType="VARCHAR" />
	    <result column="INSCLASS" property="insclass" jdbcType="VARCHAR" />
	    <result column="INSKIND" property="inskind" jdbcType="VARCHAR" />
	    <result column="INSITEM" property="insitem" jdbcType="VARCHAR" />
	    <result column="PAYTYPE" property="paytype" jdbcType="VARCHAR" />
	    <result column="ITEMA" property="itema" jdbcType="VARCHAR" />
	    <result column="ITEMB" property="itemb" jdbcType="VARCHAR" />
	    <result column="ITEMC" property="itemc" jdbcType="VARCHAR" />
	    <result column="ITEMD" property="itemd" jdbcType="VARCHAR" />
	    <result column="ITEME" property="iteme" jdbcType="VARCHAR" />
	    <result column="ITEMF" property="itemf" jdbcType="VARCHAR" />
	    <result column="ITEMG" property="itemg" jdbcType="VARCHAR" />
	    <result column="ITEMH" property="itemh" jdbcType="VARCHAR" />
	    <result column="ITEMI" property="itemi" jdbcType="VARCHAR" />
	    <result column="ITEMJ" property="itemj" jdbcType="VARCHAR" />
	    <result column="ITEMK" property="itemk" jdbcType="VARCHAR" />
	    <result column="ITEML" property="iteml" jdbcType="VARCHAR" />
	    <result column="ITEMM" property="itemm" jdbcType="VARCHAR" />
	    <result column="ITEMN" property="itemn" jdbcType="VARCHAR" />
	    <result column="ITEMO" property="itemo" jdbcType="VARCHAR" />
	    <result column="ITEMP" property="itemp" jdbcType="VARCHAR" />
		<result column="ITEMQ" property="itemq" jdbcType="VARCHAR" />
		<result column="ITEMR" property="itemr" jdbcType="VARCHAR" />
		<result column="ITEMS" property="items" jdbcType="VARCHAR" />
	    <result column="VALDATE" property="valdate" jdbcType="VARCHAR" />
	    <result column="VALTIME" property="valtime" jdbcType="VARCHAR" />
	    <result column="OVRDATE" property="ovrdate" jdbcType="VARCHAR" />
	    <result column="OVRTIME" property="ovrtime" jdbcType="VARCHAR" />
	    <result column="PRM" property="prm" jdbcType="VARCHAR" />
	    <result column="BAMTTYPE" property="bamttype" jdbcType="VARCHAR" />
	    <result column="PRMYEARS" property="prmyears" jdbcType="VARCHAR" />
	    <result column="CON" property="con" jdbcType="VARCHAR" />
	    <result column="CONDATE" property="condate" jdbcType="VARCHAR" />
	    <result column="CONTIME" property="contime" jdbcType="VARCHAR" />
	    <result column="ASKNAME" property="askname" jdbcType="VARCHAR" />
	    <result column="ASKIDNO" property="askidno" jdbcType="VARCHAR" />
	    <result column="ASKBIRDATE" property="askbirdate" jdbcType="VARCHAR" />
	    <result column="ASKTYPE" property="asktype" jdbcType="VARCHAR" />
	    <result column="FILLDATE" property="filldate" jdbcType="VARCHAR" />
	    <result column="BROKTYPE" property="broktype" jdbcType="VARCHAR" />
	    <result column="RTNCODE" property="rtncode" jdbcType="VARCHAR" />
	    <result column="RTNMSG" property="rtnmsg" jdbcType="VARCHAR" />
	    <result column="DCREATE" property="dcreate" jdbcType="TIMESTAMP" />
	    <result column="SENDTIME" property="sendtime" jdbcType="TIMESTAMP" />
	    <result column="SOURCE_REMARK" property="sourceRemark" jdbcType="VARCHAR" />
	    <result column="OID_CWP_RCV_ANNOUNCE" property="oidCwpRcvAnnounce" jdbcType="DECIMAL" />
	</resultMap>
	
	<resultMap id="queryResultMap1" class="com.tlg.xchg.entity.LiaRcvAnnounce" >
	    <result column="IDNO" property="idno" jdbcType="VARCHAR" />
	</resultMap>

	<select id="select" resultMap="BaseResultMap" parameterClass="java.util.Map">
		<include refid="Utils.sql1" />
		SELECT * FROM <include refid="Utils.xchgSchema"/>LIA_RCV_ANNOUNCE
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="oid">
				OID = #oid#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="checkno">
				CHECKNO = #checkno#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="keyidno">
				KEYIDNO = #keyidno#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="dataserno">
				DATASERNO = #dataserno#
			</isNotEmpty>			
			<isNotEmpty prepend="AND" property="idno">
				IDNO = #idno#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="askidno">
				ASKIDNO = #askidno#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="sendtimeIsNull">
				SENDTIME IS NULL
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="checknoIsNull">
				CHECKNO IS NULL
			</isNotEmpty>
			
		</dynamic>
		<isNotEmpty prepend="" property="orderBy">
			$orderBy$
		</isNotEmpty>
		<include refid="Utils.sql2" />
	</select>

	<select id="selectByParams" resultMap="BaseResultMap" parameterClass="java.util.Map">
		SELECT * FROM <include refid="Utils.xchgSchema"/>LIA_RCV_ANNOUNCE
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="oid">
				OID = #oid#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="checkno">
				CHECKNO = #checkno#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="keyidno">
				KEYIDNO = #keyidno#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="dataserno">
				DATASERNO = #dataserno#
			</isNotEmpty>			
			<isNotEmpty prepend="AND" property="idno">
				IDNO = #idno#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="askidno">
				ASKIDNO = #askidno#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="sendtimeIsNull">
				SENDTIME IS NULL
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="checknoIsNull">
				CHECKNO IS NULL
			</isNotEmpty>
			<isEqual property="orderByCon" compareValue="Y">
				 ORDER BY CON ASC
			</isEqual>
			
		</dynamic>
		<isNotEmpty prepend="" property="orderBy">
			$orderBy$
		</isNotEmpty>
	</select>
	
	<select id="selectByDistinctIdno" resultMap="queryResultMap1" parameterClass="java.util.Map">
		SELECT * FROM (SELECT A.*, ROWNUM RN FROM ( (
			SELECT DISTINCT IDNO FROM <include refid="Utils.xchgSchema"/>LIA_RCV_ANNOUNCE  
			WHEREã€€1 = 1
			AND SENDTIME IS NULL 
			AND IDNO IS NOT NULL
		ORDER BY IDNO ) A ))WHERE RN BETWEEN 1 AND 1000
	</select>
 	
	<select id="count" resultClass="java.lang.Integer" parameterClass="java.util.Map">
		SELECT COUNT(*) FROM <include refid="Utils.xchgSchema"/>LIA_RCV_ANNOUNCE
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="oid">
				OID = #oid#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="checkno">
				CHECKNO = #checkno#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="keyidno">
				KEYIDNO = #keyidno#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="dataserno">
				DATASERNO = #dataserno#
			</isNotEmpty>			
			<isNotEmpty prepend="AND" property="idno">
				IDNO = #idno#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="askidno">
				ASKIDNO = #askidno#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="sendtimeIsNull">
				SENDTIME IS NULL
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="checknoIsNull">
				CHECKNO IS NULL
			</isNotEmpty>
		</dynamic>
	</select>
	
	<insert id="insert" parameterClass="com.tlg.xchg.entity.LiaRcvAnnounce" >
		<selectKey resultClass="java.math.BigDecimal" keyProperty="oid" >    
	       SELECT LIA_RCV_ANNOUNCE_SEQ.NEXTVAL AS OID FROM DUAL    
	    </selectKey>
      	
      	INSERT INTO <include refid="Utils.xchgSchema"/> LIA_RCV_ANNOUNCE (OID, CHECKNO, KEYIDNO, DATASERNO, CMPTYPE, CMPNO, NAME, IDNO,
	      BIRDATE, SEX, INSNOM, INSNO, ORIGIN, CHANNEL, PRDCODE, INSCLASS, INSKIND, INSITEM, PAYTYPE,
	      ITEMA, ITEMB, ITEMC, ITEMD, ITEME, ITEMF, ITEMG, ITEMH, ITEMI, ITEMJ, ITEMK, ITEML, ITEMM,
	      ITEMN, ITEMO, ITEMP, ITEMQ, ITEMR, ITEMS, VALDATE, VALTIME, OVRDATE, OVRTIME, PRM, BAMTTYPE,
	      PRMYEARS, CON, CONDATE, CONTIME, ASKNAME, ASKIDNO, ASKBIRDATE, ASKTYPE, FILLDATE, BROKTYPE,
	      RTNCODE, RTNMSG, DCREATE, SENDTIME, SOURCE_REMARK, OID_CWP_RCV_ANNOUNCE)
    	values (#oid:DECIMAL#, #checkno:VARCHAR#, #keyidno:VARCHAR#, #dataserno:VARCHAR#,
	      #cmptype:VARCHAR#, #cmpno:VARCHAR#, #name:VARCHAR#, #idno:VARCHAR#, #birdate:VARCHAR#,
	      #sex:VARCHAR#, #insnom:VARCHAR#, #insno:VARCHAR#, #origin:VARCHAR#, #channel:VARCHAR#,
	      #prdcode:VARCHAR#, #insclass:VARCHAR#, #inskind:VARCHAR#, #insitem:VARCHAR#,
	      #paytype:VARCHAR#, #itema:VARCHAR#, #itemb:VARCHAR#, #itemc:VARCHAR#, #itemd:VARCHAR#,
	      #iteme:VARCHAR#, #itemf:VARCHAR#, #itemg:VARCHAR#, #itemh:VARCHAR#, #itemi:VARCHAR#,
	      #itemj:VARCHAR#, #itemk:VARCHAR#, #iteml:VARCHAR#, #itemm:VARCHAR#, #itemn:VARCHAR#,
	      #itemo:VARCHAR#, #itemp:VARCHAR#, #itemq:VARCHAR#, #itemr:VARCHAR#, #items:VARCHAR#,
	      #valdate:VARCHAR#, #valtime:VARCHAR#, #ovrdate:VARCHAR#, #ovrtime:VARCHAR#, #prm:VARCHAR#,
	      #bamttype:VARCHAR#, #prmyears:VARCHAR#, #con:VARCHAR#, #condate:VARCHAR#, #contime:VARCHAR#,
	      #askname:VARCHAR#, #askidno:VARCHAR#, #askbirdate:VARCHAR#, #asktype:VARCHAR#,
	      #filldate:VARCHAR#, #broktype:VARCHAR#, #rtncode:VARCHAR#, #rtnmsg:VARCHAR#,
	      #dcreate:TIMESTAMP#, #sendtime:TIMESTAMP#, #sourceRemark:VARCHAR#, #oidCwpRcvAnnounce:DECIMAL#)
	</insert>

	<delete id="delete" parameterClass="java.math.BigDecimal" >
		DELETE FROM <include refid="Utils.xchgSchema"/>LIA_RCV_ANNOUNCE WHERE OID = #oid:DECIMAL#
	</delete>

	<update id="update" parameterClass="com.tlg.xchg.entity.LiaRcvAnnounce">
		UPDATE <include refid="Utils.xchgSchema" />LIA_RCV_ANNOUNCE
		<dynamic prepend="set">
			<isNotNull prepend="," property="checkno">
				CHECKNO = #checkno:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="keyidno">
				KEYIDNO = #keyidno:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="dataserno">
				DATASERNO = #dataserno:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="cmptype">
				CMPTYPE = #cmptype:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="cmpno">
				CMPNO = #cmpno:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="name">
				NAME = #name:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="idno">
				IDNO = #idno:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="birdate">
				BIRDATE = #birdate:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="sex">
				SEX = #sex:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="insnom" >
				INSNOM = #insnom:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="insno">
				INSNO = #insno:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="origin">
				ORIGIN = #origin:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="channel">
				CHANNEL = #channel:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="prdcode">
				PRDCODE = #prdcode:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="insclass">
				INSCLASS = #insclass:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="inskind">
				INSKIND = #inskind:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="insitem">
				INSITEM = #insitem:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="paytype">
				PAYTYPE = #paytype:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="itema">
				ITEMA = #itema:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="itemb">
				ITEMB = #itemb:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="itemc">
				ITEMC = #itemc:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="itemd">
				ITEMD = #itemd:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="iteme">
				ITEME = #iteme:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="itemf">
				ITEMF = #itemf:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="itemg">
				ITEMG = #itemg:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="itemh">
				ITEMH = #itemh:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="itemi">
				ITEMI = #itemi:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="itemj">
				ITEMJ = #itemj:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="itemk">
				ITEMK = #itemk:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="iteml">
				ITEML = #iteml:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="itemm">
				ITEMM = #itemm:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="itemn">
				ITEMN = #itemn:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="itemo">
				ITEMO = #itemo:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="itemp">
				ITEMP = #itemp:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="itemq" >
				ITEMQ = #itemq:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="itemr" >
				ITEMR = #itemr:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="items" >
				ITEMS = #items:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="valdate">
				VALDATE = #valdate:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="valtime">
				VALTIME = #valtime:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="ovrdate">
				OVRDATE = #ovrdate:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="ovrtime">
				OVRTIME = #ovrtime:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="prm">
				PRM = #prm:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="bamttype">
				BAMTTYPE = #bamttype:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="prmyears">
				PRMYEARS = #prmyears:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="con">
				CON = #con:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="condate">
				CONDATE = #condate:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="contime">
				CONTIME = #contime:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="askname">
				ASKNAME = #askname:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="askidno">
				ASKIDNO = #askidno:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="askbirdate">
				ASKBIRDATE = #askbirdate:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="asktype">
				ASKTYPE = #asktype:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="filldate">
				FILLDATE = #filldate:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="broktype">
				BROKTYPE = #broktype:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="rtncode">
				RTNCODE = #rtncode:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="rtnmsg">
				RTNMSG = #rtnmsg:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="dcreate">
				DCREATE = #dcreate:TIMESTAMP#
			</isNotNull>
			<isNotNull prepend="," property="sendtime">
				SENDTIME = #sendtime:TIMESTAMP#
			</isNotNull>
			<isNotNull prepend="," property="sourceRemark">
				SOURCE_REMARK = #sourceRemark:VARCHAR#
			</isNotNull>
		</dynamic>
		WHERE OID = #oid:DECIMAL#
	</update>

</sqlMap>