<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<!-- mantis：CAR0563，處理人員：CD078，需求單編號：CAR0563 廠牌車型代號外部資料單筆維護查詢作業   -->
<sqlMap namespace="Prpdcarmodelext" >
  <resultMap id="BaseResultMap" class="com.tlg.prpins.entity.Prpdcarmodelext" >
    <result column="OID" property="oid" jdbcType="DECIMAL" />
    <result column="CARBRAND" property="carbrand" jdbcType="VARCHAR" />
    <result column="CARBRANDEXT" property="carbrandext" jdbcType="VARCHAR" />
    <result column="MODELNAME" property="modelname" jdbcType="VARCHAR" />
    <result column="COUNTRYCODE" property="countrycode" jdbcType="VARCHAR" />
    <result column="CARKIND" property="carkind" jdbcType="VARCHAR" />
    <result column="CARKINDEXT" property="carkindext" jdbcType="VARCHAR" />
    <result column="EXHAUSTSCALE" property="exhaustscale" jdbcType="VARCHAR" />
    <result column="TCOUNT" property="tcount" jdbcType="VARCHAR" />
    <result column="APPLICATION" property="application1" jdbcType="VARCHAR" />
    <result column="SEATCOUNT" property="seatcount" jdbcType="VARCHAR" />
    <result column="DOORS" property="doors" jdbcType="VARCHAR" />
    <result column="FUELTYPE" property="fueltype" jdbcType="VARCHAR" />
    <result column="GEARTYPE" property="geartype" jdbcType="VARCHAR" />
    <result column="MAKEDATE" property="makedate" jdbcType="TIMESTAMP" />
    <result column="VALIDDATE" property="validdate" jdbcType="TIMESTAMP" />
    <result column="INVALIDDATE" property="invaliddate" jdbcType="TIMESTAMP" />
    <result column="MARK" property="mark" jdbcType="VARCHAR" />
    <result column="DCREATE" property="dcreate" jdbcType="TIMESTAMP" />
    <result column="ICREATE" property="icreate" jdbcType="VARCHAR" />
    <result column="DUPDATE" property="dupdate" jdbcType="TIMESTAMP" />
    <result column="IUPDATE" property="iupdate" jdbcType="VARCHAR" />
  </resultMap>  
  
  <select id="select" resultMap="BaseResultMap" parameterClass="java.util.Map" >
    <include refid="Utils.sql1" />
    SELECT * FROM <include refid="Utils.prpinsSchema"/>PRPDCARMODELEXT
    <dynamic prepend="WHERE">
      <isNotEmpty property="carbrand" prepend="AND">
        CARBRAND = #carbrand:VARCHAR#
      </isNotEmpty>
      <isNotEmpty property="carbrandext" prepend="AND">
        CARBRANDEXT like '%'|| #carbrandext# ||'%'
      </isNotEmpty>
      <isNotEmpty property="modelname" prepend="AND">
        MODELNAME like '%'|| #modelname# ||'%'
      </isNotEmpty>
      <isNotEmpty property="countrycode" prepend="AND">
        COUNTRYCODE = #countrycode:VARCHAR#
      </isNotEmpty>
      <isNotEmpty property="carkind" prepend="AND">
        CARKIND = #carkind:VARCHAR#
      </isNotEmpty>
      <isNotEmpty property="carkindext" prepend="AND">
        CARKINDEXT = #carkindext:VARCHAR#
      </isNotEmpty>
      <isNotEmpty property="application1" prepend="AND">
        APPLICATION = #application1:VARCHAR#
      </isNotEmpty>
      <isNotEmpty property="makedateStart" prepend="AND">
        MAKEDATE <![CDATA[>=]]> to_date(#makedateStart# , 'yyyy/mm/dd hh24:mi:ss')
      </isNotEmpty>
      <isNotEmpty property="makedateEnd" prepend="AND">
        MAKEDATE <![CDATA[<=]]> to_date(#makedateEnd# , 'yyyy/mm/dd hh24:mi:ss')
      </isNotEmpty>
      <isNotEmpty property="validdate" prepend="AND">
        VALIDDATE <![CDATA[>=]]> to_date(#validdate# , 'yyyy/mm/dd hh24:mi:ss')
      </isNotEmpty>
      <isNotEmpty property="validdateEnd" prepend="AND">
        VALIDDATE <![CDATA[<=]]> to_date(#validdateEnd# , 'yyyy/mm/dd hh24:mi:ss')
      </isNotEmpty>
    </dynamic>
    <include refid="Utils.sql2" />
  </select>
  
  <select id="selectByParams" resultMap="BaseResultMap" parameterClass="java.util.Map" >
    SELECT * FROM <include refid="Utils.prpinsSchema"/>PRPDCARMODELEXT
    <dynamic prepend="WHERE">
      <isNotEmpty property="oid" prepend="AND">
        OID = #oid:DECIMAL#
      </isNotEmpty>
      <isNotEmpty property="carbrand" prepend="AND">
        CARBRAND = #carbrand:VARCHAR#
      </isNotEmpty>
      <isNotEmpty property="carbrandext" prepend="AND">
        CARBRANDEXT like '%'|| #carbrandext# ||'%'
      </isNotEmpty>
      <isNotEmpty property="modelname" prepend="AND">
        MODELNAME like '%'|| #modelname# ||'%'
      </isNotEmpty>
      <isNotEmpty property="countrycode" prepend="AND">
        COUNTRYCODE = #countrycode:VARCHAR#
      </isNotEmpty>
      <isNotEmpty property="carkind" prepend="AND">
        CARKIND = #carkind:VARCHAR#
      </isNotEmpty>
      <isNotEmpty property="carkindext" prepend="AND">
        CARKINDEXT = #carkindext:VARCHAR#
      </isNotEmpty>
      <isNotEmpty property="application1" prepend="AND">
        APPLICATION = #application1:VARCHAR#
      </isNotEmpty>
      <isNotEmpty property="makedateStart" prepend="AND">
        MAKEDATE <![CDATA[>=]]> to_date(#makedateStart# , 'yyyy/mm/dd hh24:mi:ss')
      </isNotEmpty>
      <isNotEmpty property="makedateEnd" prepend="AND">
        MAKEDATE <![CDATA[<=]]> to_date(#makedateEnd# , 'yyyy/mm/dd hh24:mi:ss')
      </isNotEmpty>
      <isNotEmpty property="validdate" prepend="AND">
        VALIDDATE <![CDATA[>=]]> to_date(#validdate# , 'yyyy/mm/dd hh24:mi:ss')
      </isNotEmpty>
      <isNotEmpty property="validdateEnd" prepend="AND">
        VALIDDATE <![CDATA[<=]]> to_date(#validdateEnd# , 'yyyy/mm/dd hh24:mi:ss')
      </isNotEmpty>
    </dynamic>
    <isNotEmpty property="sortBy">
        ORDER BY $sortBy$
    </isNotEmpty>
  </select>
  
  <delete id="delete" parameterClass="com.tlg.prpins.entity.Prpdcarmodelext" >
    delete from <include refid="Utils.prpinsSchema"/>PRPDCARMODELEXT
  </delete>
  
  <insert id="insert" parameterClass="com.tlg.prpins.entity.Prpdcarmodelext" >
  	<selectKey resultClass="java.math.BigDecimal" keyProperty="oid" >    
    	SELECT PRPDCARMODELEXT_SEQ.NEXTVAL AS OID FROM DUAL   
	</selectKey>
	
    insert into <include refid="Utils.prpinsSchema"/>PRPDCARMODELEXT
    <dynamic prepend="(" >
      <isNotNull prepend="," property="oid" >
        OID
      </isNotNull>
      <isNotNull prepend="," property="carbrand" >
        CARBRAND
      </isNotNull>
      <isNotNull prepend="," property="carbrandext" >
        CARBRANDEXT
      </isNotNull>
      <isNotNull prepend="," property="modelname" >
        MODELNAME
      </isNotNull>
      <isNotNull prepend="," property="countrycode" >
        COUNTRYCODE
      </isNotNull>
      <isNotNull prepend="," property="carkind" >
        CARKIND
      </isNotNull>
      <isNotNull prepend="," property="carkindext" >
        CARKINDEXT
      </isNotNull>
      <isNotNull prepend="," property="exhaustscale" >
        EXHAUSTSCALE
      </isNotNull>
      <isNotNull prepend="," property="tcount" >
        TCOUNT
      </isNotNull>
      <isNotNull prepend="," property="application1" >
        APPLICATION
      </isNotNull>
      <isNotNull prepend="," property="seatcount" >
        SEATCOUNT
      </isNotNull>
      <isNotNull prepend="," property="doors" >
        DOORS
      </isNotNull>
      <isNotNull prepend="," property="fueltype" >
        FUELTYPE
      </isNotNull>
      <isNotNull prepend="," property="geartype" >
        GEARTYPE
      </isNotNull>
      <isNotNull prepend="," property="makedate" >
        MAKEDATE
      </isNotNull>
      <isNotNull prepend="," property="validdate" >
        VALIDDATE
      </isNotNull>
      <isNotNull prepend="," property="invaliddate" >
        INVALIDDATE
      </isNotNull>
      <isNotNull prepend="," property="mark" >
        MARK
      </isNotNull>
      <isNotNull prepend="," property="dcreate" >
        DCREATE
      </isNotNull>
      <isNotNull prepend="," property="icreate" >
        ICREATE
      </isNotNull>
      <isNotNull prepend="," property="dupdate" >
        DUPDATE
      </isNotNull>
      <isNotNull prepend="," property="iupdate" >
        IUPDATE
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="oid" >
        #oid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="carbrand" >
        #carbrand:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="carbrandext" >
        #carbrandext:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="modelname" >
        #modelname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="countrycode" >
        #countrycode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="carkind" >
        #carkind:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="carkindext" >
        #carkindext:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="exhaustscale" >
        #exhaustscale:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="tcount" >
        #tcount:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="application1" >
        #application1:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="seatcount" >
        #seatcount:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="doors" >
        #doors:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="fueltype" >
        #fueltype:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="geartype" >
        #geartype:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="makedate" >
        #makedate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="validdate" >
        #validdate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="invaliddate" >
        #invaliddate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="mark" >
        #mark:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dcreate" >
        #dcreate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="icreate" >
        #icreate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dupdate" >
        #dupdate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="iupdate" >
        #iupdate:VARCHAR#
      </isNotNull>
      )
    </dynamic>
  </insert>
  
  <select id="count" parameterClass="java.util.Map" resultClass="java.lang.Integer" >
    SELECT COUNT(*) FROM <include refid="Utils.prpinsSchema"/>PRPDCARMODELEXT
    <dynamic prepend="WHERE">
      <isNotEmpty property="carbrand" prepend="AND">
        CARBRAND = #carbrand:VARCHAR#
      </isNotEmpty>
      <isNotEmpty property="carbrandext" prepend="AND">
        CARBRANDEXT like '%'|| #carbrandext# ||'%'
      </isNotEmpty>
      <isNotEmpty property="modelname" prepend="AND">
        MODELNAME like '%'|| #modelname# ||'%'
      </isNotEmpty>
      <isNotEmpty property="countrycode" prepend="AND">
        COUNTRYCODE = #countrycode:VARCHAR#
      </isNotEmpty>
      <isNotEmpty property="carkind" prepend="AND">
        CARKIND = #carkind:VARCHAR#
      </isNotEmpty>
      <isNotEmpty property="carkindext" prepend="AND">
        CARKINDEXT = #carkindext:VARCHAR#
      </isNotEmpty>
      <isNotEmpty property="application1" prepend="AND">
        APPLICATION = #application1:VARCHAR#
      </isNotEmpty>
      <isNotEmpty property="makedateStart" prepend="AND">
        MAKEDATE <![CDATA[>=]]> to_date(#makedateStart# , 'yyyy/mm/dd hh24:mi:ss')
      </isNotEmpty>
      <isNotEmpty property="makedateEnd" prepend="AND">
        MAKEDATE <![CDATA[<=]]> to_date(#makedateEnd# , 'yyyy/mm/dd hh24:mi:ss')
      </isNotEmpty>
      <isNotEmpty property="validdate" prepend="AND">
        VALIDDATE <![CDATA[>=]]> to_date(#validdate# , 'yyyy/mm/dd hh24:mi:ss')
      </isNotEmpty>
      <isNotEmpty property="validdateEnd" prepend="AND">
        VALIDDATE <![CDATA[<=]]> to_date(#validdateEnd# , 'yyyy/mm/dd hh24:mi:ss')
      </isNotEmpty>
    </dynamic>
  </select>
  
  <update id="update" >
    update <include refid="Utils.prpinsSchema"/>PRPDCARMODELEXT
    <dynamic prepend="set" >
      <isNotNull prepend="," property="oid" >
        OID = #oid:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="carbrand" >
        CARBRAND = #carbrand:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="carbrandext" >
        CARBRANDEXT = #carbrandext:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="modelname" >
        MODELNAME = #modelname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="countrycode" >
        COUNTRYCODE = #countrycode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="carkind" >
        CARKIND = #carkind:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="carkindext" >
        CARKINDEXT = #carkindext:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="exhaustscale" >
        EXHAUSTSCALE = #exhaustscale:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="tcount" >
        TCOUNT = #tcount:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="application1" >
        APPLICATION = #application1:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="seatcount" >
        SEATCOUNT = #seatcount:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="doors" >
        DOORS = #doors:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="fueltype" >
        FUELTYPE = #fueltype:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="geartype" >
        GEARTYPE = #geartype:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="makedate" >
        MAKEDATE = #makedate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="validdate" >
        VALIDDATE = #validdate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="invaliddate" >
        INVALIDDATE = #invaliddate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="mark" >
        MARK = #mark:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dcreate" >
        DCREATE = #dcreate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="icreate" >
        ICREATE = #icreate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dupdate" >
        DUPDATE = #dupdate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="iupdate" >
        IUPDATE = #iupdate:VARCHAR#
      </isNotNull>
    </dynamic>
    where OID = #oid:DECIMAL#
  </update>  
</sqlMap>