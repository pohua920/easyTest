<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<!-- mantis：FIR0455，處理人員：BJ085，需求單編號：FIR0455 住火-APS富邦續件處理作業 -->
<sqlMap namespace="FirAgtrnBatchFb" >
  <resultMap id="BaseResultMap" class="com.tlg.prpins.entity.FirAgtrnBatchFb" >
    <result column="BATCH_NO" property="batchNo" jdbcType="VARCHAR" />
    <result column="DIFF_USER" property="diffUser" jdbcType="VARCHAR" />
    <result column="DIFF_TIME" property="diffTime" jdbcType="TIMESTAMP" />
    <result column="DIFF_MEMO" property="diffMemo" jdbcType="VARCHAR" />
    <result column="DIFF_BNO" property="diffBno" jdbcType="VARCHAR" />
    <result column="SF_USER" property="sfUser" jdbcType="VARCHAR" />
    <result column="SF_TIME" property="sfTime" jdbcType="TIMESTAMP" />
    <result column="SF_MEMO" property="sfMemo" jdbcType="VARCHAR" />
    <result column="SF_BNO" property="sfBno" jdbcType="VARCHAR" />
    <result column="BP_USER" property="bpUser" jdbcType="VARCHAR" />
    <result column="BP_TIME" property="bpTime" jdbcType="TIMESTAMP" />
    <result column="BP_MEMO" property="bpMemo" jdbcType="VARCHAR" />
    <result column="BP_BNO" property="bpBno" jdbcType="VARCHAR" />
    <result column="PAYNO_USER" property="paynoUser" jdbcType="VARCHAR" />
    <result column="PAYNO_TIME" property="paynoTime" jdbcType="TIMESTAMP" />
    <result column="PAYNO_MEMO" property="paynoMemo" jdbcType="VARCHAR" />
    <result column="PAYNO_BNO" property="paynoBno" jdbcType="VARCHAR" />
    <result column="RNLIST_USER" property="rnlistUser" jdbcType="VARCHAR" />
    <result column="RNLIST_TIME" property="rnlistTime" jdbcType="TIMESTAMP" />
    <result column="RNLIST_MEMO" property="rnlistMemo" jdbcType="VARCHAR" />
    <result column="RNLIST_BNO" property="rnlistBno" jdbcType="VARCHAR" />
    <result column="ICREATE" property="icreate" jdbcType="VARCHAR" />
    <result column="DCREATE" property="dcreate" jdbcType="TIMESTAMP" />
    <result column="IUPDATE" property="iupdate" jdbcType="VARCHAR" />
    <result column="DUPDATE" property="dupdate" jdbcType="TIMESTAMP" />
    <result column="BP_UPLOAD_USER" property="bpUploadUser" jdbcType="VARCHAR" />
    <result column="BP_UPLOAD_TIME" property="bpUploadTime" jdbcType="TIMESTAMP" />
    <result column="BP_UPLOAD_MEMO" property="bpUploadMemo" jdbcType="VARCHAR" />
  </resultMap>

  <select id="select" resultMap="BaseResultMap" parameterClass="java.util.Map">
	<include refid="Utils.sql1" />
		SELECT * FROM <include refid="Utils.prpinsSchema"/>FIR_AGTRN_BATCH_FB
	<dynamic prepend="WHERE">
		<isNotEmpty prepend="AND" property="batchNo">
			BATCH_NO = #batchNo#
		</isNotEmpty>
	</dynamic>
	<include refid="Utils.sql2" />
  </select>
	
  <select id="selectByParams" resultMap="BaseResultMap" parameterClass="java.util.Map">
	SELECT * FROM <include refid="Utils.prpinsSchema"/>FIR_AGTRN_BATCH_FB
	<dynamic prepend="WHERE">
		<isNotEmpty prepend="AND" property="batchNo">
			BATCH_NO = #batchNo#
		</isNotEmpty>
	</dynamic>
  </select>
  
  <select id="count" resultClass="java.lang.Integer" parameterClass="java.util.Map">
	SELECT COUNT(*) FROM <include refid="Utils.prpinsSchema"/>FIR_AGTRN_BATCH_FB
	<dynamic prepend="WHERE">
		<isNotEmpty prepend="AND" property="batchNo">
			BATCH_NO = #batchNo#
		</isNotEmpty>
	</dynamic>
  </select>
  
  <select id="countByUK" resultClass="java.lang.Integer" parameterClass="com.tlg.prpins.entity.FirAgtrnBatchFb" >
	SELECT COUNT(*) FROM <include refid="Utils.prpinsSchema"/>FIR_AGTRN_BATCH_FB
	where BATCH_NO = #batchNo:VARCHAR#
  </select>	

  <delete id="delete" parameterClass="com.tlg.prpins.entity.FirAgtrnBatchFb" >
    delete from <include refid="Utils.prpinsSchema"/>FIR_AGTRN_BATCH_FB
    where BATCH_NO = #batchNo:VARCHAR#
  </delete>
  
  <insert id="insert" parameterClass="com.tlg.prpins.entity.FirAgtrnBatchFb" >
    insert into <include refid="Utils.prpinsSchema"/>FIR_AGTRN_BATCH_FB 
      (BATCH_NO, DIFF_USER, DIFF_TIME, DIFF_MEMO, DIFF_BNO, SF_USER,
      SF_TIME, SF_MEMO, SF_BNO, BP_USER, BP_TIME, BP_MEMO, BP_BNO, PAYNO_USER, PAYNO_TIME,
      PAYNO_MEMO, PAYNO_BNO, RNLIST_USER, RNLIST_TIME, RNLIST_MEMO, RNLIST_BNO, ICREATE, DCREATE,
      IUPDATE, DUPDATE, BP_UPLOAD_USER, BP_UPLOAD_TIME, BP_UPLOAD_MEMO)
    values (#batchNo:VARCHAR#, #diffUser:VARCHAR#, #diffTime:TIMESTAMP#, #diffMemo:VARCHAR#,
      #diffBno:VARCHAR#, #sfUser:VARCHAR#, #sfTime:TIMESTAMP#, #sfMemo:VARCHAR#, #sfBno:VARCHAR#,
      #bpUser:VARCHAR#, #bpTime:TIMESTAMP#, #bpMemo:VARCHAR#, #bpBno:VARCHAR#, #paynoUser:VARCHAR#,
      #paynoTime:TIMESTAMP#, #paynoMemo:VARCHAR#, #paynoBno:VARCHAR#, #rnlistUser:VARCHAR#,
      #rnlistTime:TIMESTAMP#, #rnlistMemo:VARCHAR#, #rnlistBno:VARCHAR#, #icreate:VARCHAR#,
      #dcreate:TIMESTAMP#, #iupdate:VARCHAR#, #dupdate:TIMESTAMP#, 
      #bpUploadUser:VARCHAR#, #bpUploadTime:TIMESTAMP#, #bpUploadMemo:VARCHAR#)
  </insert>

  <update id="update" parameterClass="com.tlg.prpins.entity.FirAgtrnBatchFb" >
    update <include refid="Utils.prpinsSchema"/>FIR_AGTRN_BATCH_FB
    <dynamic prepend="set" >
      <isNotNull prepend="," property="diffUser" >
        DIFF_USER = #diffUser:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="diffTime" >
        DIFF_TIME = #diffTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="diffMemo" >
        DIFF_MEMO = #diffMemo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="diffBno" >
        DIFF_BNO = #diffBno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="sfUser" >
        SF_USER = #sfUser:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="sfTime" >
        SF_TIME = #sfTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="sfMemo" >
        SF_MEMO = #sfMemo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="sfBno" >
        SF_BNO = #sfBno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="bpUser" >
        BP_USER = #bpUser:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="bpTime" >
        BP_TIME = #bpTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="bpMemo" >
        BP_MEMO = #bpMemo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="bpBno" >
        BP_BNO = #bpBno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="paynoUser" >
        PAYNO_USER = #paynoUser:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="paynoTime" >
        PAYNO_TIME = #paynoTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="paynoMemo" >
        PAYNO_MEMO = #paynoMemo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="paynoBno" >
        PAYNO_BNO = #paynoBno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="rnlistUser" >
        RNLIST_USER = #rnlistUser:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="rnlistTime" >
        RNLIST_TIME = #rnlistTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="rnlistMemo" >
        RNLIST_MEMO = #rnlistMemo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="rnlistBno" >
        RNLIST_BNO = #rnlistBno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="icreate" >
        ICREATE = #icreate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dcreate" >
        DCREATE = #dcreate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="iupdate" >
        IUPDATE = #iupdate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dupdate" >
        DUPDATE = #dupdate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="bpUploadUser" >
        BP_UPLOAD_USER = #bpUploadUser:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="bpUploadTime" >
        BP_UPLOAD_TIME = #bpUploadTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="bpUploadMemo" >
        BP_UPLOAD_MEMO = #bpUploadMemo:VARCHAR#
      </isNotNull>
    </dynamic>
    where BATCH_NO = #batchNo:VARCHAR#
  </update>
</sqlMap>