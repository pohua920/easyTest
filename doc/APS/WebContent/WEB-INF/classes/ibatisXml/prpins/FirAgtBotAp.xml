<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<!-- mantis：FIR0314，處理人員：BJ085，需求單編號：FIR0314 台銀保經-APS新件要保檔產生排程 -->
<sqlMap namespace="FirAgtBotAp" >
  <resultMap id="BaseResultMap" class="com.tlg.prpins.entity.FirAgtBotAp" >
    <result column="OID" property="oid" jdbcType="DECIMAL" />
    <result column="BATCH_NO" property="batchNo" jdbcType="VARCHAR" />
    <result column="RISKCODE" property="riskcode" jdbcType="VARCHAR" />
    <result column="COMPANYNO" property="companyno" jdbcType="VARCHAR" />
    <result column="RISKCODE_BOT" property="riskcodeBot" jdbcType="VARCHAR" />
    <result column="ORDERSEQ" property="orderseq" jdbcType="VARCHAR" />
    <result column="POLICYNO" property="policyno" jdbcType="VARCHAR" />
    <result column="STARTDATE_F" property="startdateF" jdbcType="TIMESTAMP" />
    <result column="ENDDATE_F" property="enddateF" jdbcType="TIMESTAMP" />
    <result column="STARTDATE_Q" property="startdateQ" jdbcType="TIMESTAMP" />
    <result column="ENDDATE_Q" property="enddateQ" jdbcType="TIMESTAMP" />
    <result column="APPLI_ID" property="appliId" jdbcType="VARCHAR" />
    <result column="APPLINAME" property="appliname" jdbcType="VARCHAR" />
    <result column="INSURED_ID" property="insuredId" jdbcType="VARCHAR" />
    <result column="INSUREDNAME" property="insuredname" jdbcType="VARCHAR" />
    <result column="APPLI_POSTCODE" property="appliPostcode" jdbcType="VARCHAR" />
    <result column="APPLI_ADDRESS" property="appliAddress" jdbcType="VARCHAR" />
    <result column="EXTRACOMCODE" property="extracomcode" jdbcType="VARCHAR" />
    <result column="ORGICODE" property="orgicode" jdbcType="VARCHAR" />
    <result column="BANKNO" property="bankno" jdbcType="VARCHAR" />
    <result column="SUMFLOORS" property="sumfloors" jdbcType="VARCHAR" />
    <result column="WALLNO" property="wallno" jdbcType="VARCHAR" />
    <result column="ROOFNO" property="roofno" jdbcType="VARCHAR" />
    <result column="BUILDAREA" property="buildarea" jdbcType="DECIMAL" />
    <result column="BUILDYEARS" property="buildyears" jdbcType="VARCHAR" />
    <result column="PROP_ADDRESS" property="propAddress" jdbcType="VARCHAR" />
    <result column="AMOUNT_F" property="amountF" jdbcType="DECIMAL" />
    <result column="AMOUNT_Q" property="amountQ" jdbcType="DECIMAL" />
    <result column="PREMIUM_F" property="premiumF" jdbcType="DECIMAL" />
    <result column="PREMIUM_A" property="premiumA" jdbcType="DECIMAL" />
    <result column="PREMIUM_Q" property="premiumQ" jdbcType="DECIMAL" />
    <result column="COMMRATE_BARGAIN" property="commrateBargain" jdbcType="DECIMAL" />
    <result column="REASON_BARGAIN" property="reasonBargain" jdbcType="VARCHAR" />
    <result column="AUTO_RENEW" property="autoRenew" jdbcType="VARCHAR" />
    <result column="ENDOR_DATE" property="endorDate" jdbcType="TIMESTAMP" />
    <result column="APPLI_BIRTHDAY" property="appliBirthday" jdbcType="TIMESTAMP" />
    <result column="APPLI_PHONE" property="appliPhone" jdbcType="VARCHAR" />
    <result column="INSURED_BIRTHDAY" property="insuredBirthday" jdbcType="TIMESTAMP" />
    <result column="INSURED_PHONE" property="insuredPhone" jdbcType="VARCHAR" />
    <result column="INSURED_MAIL" property="insuredMail" jdbcType="VARCHAR" />
    <result column="INSURED_ADDRESS" property="insuredAddress" jdbcType="VARCHAR" />
    <result column="ICREATE" property="icreate" jdbcType="VARCHAR" />
    <result column="DCREATE" property="dcreate" jdbcType="TIMESTAMP" />
    <result column="IUPDATE" property="iupdate" jdbcType="VARCHAR" />
    <result column="DUPDATE" property="dupdate" jdbcType="TIMESTAMP" />
  </resultMap>

	<select id="select" resultMap="BaseResultMap" parameterClass="java.util.Map">
		<include refid="Utils.sql1" />
			SELECT * FROM <include refid="Utils.prpinsSchema"/>FIR_AGT_BOT_AP
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="batchNo">
				BATCH_NO = #batchNo#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="oid">
				OID = #oid#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="riskcode">
				RISKCODE = #riskcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="orderseq">
				ORDERSEQ = #orderseq#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="policyno">
				POLICYNO = #policyno#
			</isNotEmpty>
		</dynamic>
		<include refid="Utils.sql2" />
	</select>
	
	<select id="selectByParams" resultMap="BaseResultMap" parameterClass="java.util.Map">
		SELECT * FROM <include refid="Utils.prpinsSchema"/>FIR_AGT_BOT_AP
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="batchNo">
				BATCH_NO = #batchNo#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="oid">
				OID = #oid#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="riskcode">
				RISKCODE = #riskcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="orderseq">
				ORDERSEQ = #orderseq#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="policyno">
				POLICYNO = #policyno#
			</isNotEmpty>
		</dynamic>
	</select>
	
	<select id="count" resultClass="java.lang.Integer" parameterClass="java.util.Map">
		SELECT COUNT(*) FROM <include refid="Utils.prpinsSchema"/>FIR_AGT_BOT_AP
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="batchNo">
				BATCH_NO = #batchNo#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="oid">
				OID = #oid#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="riskcode">
				RISKCODE = #riskcode#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="orderseq">
				ORDERSEQ = #orderseq#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="policyno">
				POLICYNO = #policyno#
			</isNotEmpty>
		</dynamic>
	</select>
 
  <delete id="delete" parameterClass="com.tlg.prpins.entity.FirAgtBotAp" >
    delete from FIR_AGT_BOT_AP
    where OID = #oid:DECIMAL#
  </delete>
  
  <insert id="insert" parameterClass="com.tlg.prpins.entity.FirAgtBotAp" >
    insert into FIR_AGT_BOT_AP (OID, BATCH_NO, RISKCODE, COMPANYNO, RISKCODE_BOT, ORDERSEQ,
      POLICYNO, STARTDATE_F, ENDDATE_F, STARTDATE_Q, ENDDATE_Q, APPLI_ID, APPLINAME, INSURED_ID,
      INSUREDNAME, APPLI_POSTCODE, APPLI_ADDRESS, EXTRACOMCODE, ORGICODE, BANKNO, SUMFLOORS, WALLNO,
      ROOFNO, BUILDAREA, BUILDYEARS, PROP_ADDRESS, AMOUNT_F, AMOUNT_Q, PREMIUM_F, PREMIUM_A,
      PREMIUM_Q, COMMRATE_BARGAIN, REASON_BARGAIN, AUTO_RENEW, ENDOR_DATE, APPLI_BIRTHDAY,
      APPLI_PHONE, INSURED_BIRTHDAY, INSURED_PHONE, INSURED_MAIL, INSURED_ADDRESS, ICREATE, DCREATE,
      IUPDATE, DUPDATE)
    values (#oid:DECIMAL#, #batchNo:VARCHAR#, #riskcode:VARCHAR#, #companyno:VARCHAR#,
      #riskcodeBot:VARCHAR#, #orderseq:VARCHAR#, #policyno:VARCHAR#, #startdateF:TIMESTAMP#,
      #enddateF:TIMESTAMP#, #startdateQ:TIMESTAMP#, #enddateQ:TIMESTAMP#, #appliId:VARCHAR#,
      #appliname:VARCHAR#, #insuredId:VARCHAR#, #insuredname:VARCHAR#, #appliPostcode:VARCHAR#,
      #appliAddress:VARCHAR#, #extracomcode:VARCHAR#, #orgicode:VARCHAR#, #bankno:VARCHAR#,
      #sumfloors:VARCHAR#, #wallno:VARCHAR#, #roofno:VARCHAR#, #buildarea:DECIMAL#,
      #buildyears:VARCHAR#, #propAddress:VARCHAR#, #amountF:DECIMAL#, #amountQ:DECIMAL#,
      #premiumF:DECIMAL#, #premiumA:DECIMAL#, #premiumQ:DECIMAL#, #commrateBargain:DECIMAL#,
      #reasonBargain:VARCHAR#, #autoRenew:VARCHAR#, #endorDate:TIMESTAMP#,
      #appliBirthday:TIMESTAMP#, #appliPhone:VARCHAR#, #insuredBirthday:TIMESTAMP#,
      #insuredPhone:VARCHAR#, #insuredMail:VARCHAR#, #insuredAddress:VARCHAR#, #icreate:VARCHAR#,
      #dcreate:TIMESTAMP#, #iupdate:VARCHAR#, #dupdate:TIMESTAMP#)
  </insert>
  
  <update id="update" parameterClass="com.tlg.prpins.entity.FirAgtBotAp" >
    update FIR_AGT_BOT_AP
    <dynamic prepend="set" >
      <isNotNull prepend="," property="batchNo" >
        BATCH_NO = #batchNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="riskcode" >
        RISKCODE = #riskcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="companyno" >
        COMPANYNO = #companyno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="riskcodeBot" >
        RISKCODE_BOT = #riskcodeBot:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="orderseq" >
        ORDERSEQ = #orderseq:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="policyno" >
        POLICYNO = #policyno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="startdateF" >
        STARTDATE_F = #startdateF:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="enddateF" >
        ENDDATE_F = #enddateF:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="startdateQ" >
        STARTDATE_Q = #startdateQ:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="enddateQ" >
        ENDDATE_Q = #enddateQ:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="appliId" >
        APPLI_ID = #appliId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="appliname" >
        APPLINAME = #appliname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="insuredId" >
        INSURED_ID = #insuredId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="insuredname" >
        INSUREDNAME = #insuredname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="appliPostcode" >
        APPLI_POSTCODE = #appliPostcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="appliAddress" >
        APPLI_ADDRESS = #appliAddress:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="extracomcode" >
        EXTRACOMCODE = #extracomcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="orgicode" >
        ORGICODE = #orgicode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="bankno" >
        BANKNO = #bankno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="sumfloors" >
        SUMFLOORS = #sumfloors:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="wallno" >
        WALLNO = #wallno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="roofno" >
        ROOFNO = #roofno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="buildarea" >
        BUILDAREA = #buildarea:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="buildyears" >
        BUILDYEARS = #buildyears:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="propAddress" >
        PROP_ADDRESS = #propAddress:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="amountF" >
        AMOUNT_F = #amountF:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="amountQ" >
        AMOUNT_Q = #amountQ:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="premiumF" >
        PREMIUM_F = #premiumF:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="premiumA" >
        PREMIUM_A = #premiumA:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="premiumQ" >
        PREMIUM_Q = #premiumQ:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="commrateBargain" >
        COMMRATE_BARGAIN = #commrateBargain:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="reasonBargain" >
        REASON_BARGAIN = #reasonBargain:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="autoRenew" >
        AUTO_RENEW = #autoRenew:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="endorDate" >
        ENDOR_DATE = #endorDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="appliBirthday" >
        APPLI_BIRTHDAY = #appliBirthday:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="appliPhone" >
        APPLI_PHONE = #appliPhone:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="insuredBirthday" >
        INSURED_BIRTHDAY = #insuredBirthday:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="insuredPhone" >
        INSURED_PHONE = #insuredPhone:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="insuredMail" >
        INSURED_MAIL = #insuredMail:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="insuredAddress" >
        INSURED_ADDRESS = #insuredAddress:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="icreate" >
        ICREATE = #icreate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dcreate" >
        DCREATE = #dcreate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="iupdate" >
        IUPDATE = #iupdate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="dupdate" >
        DUPDATE = #dupdate:TIMESTAMP#
      </isNotNull>
    </dynamic>
    where OID = #oid:DECIMAL#
  </update>
</sqlMap>