<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="Uwblacklist">

	<resultMap id="BaseResultMap" class="com.tlg.prpins.entity.Uwblacklist" >
	    <result column="OID" property="oid" jdbcType="DECIMAL" />
	    <result column="BLACKLISTTYPE" property="blacklisttype" jdbcType="VARCHAR" />
	    <result column="BLACKLISTCODE" property="blacklistcode" jdbcType="VARCHAR" />
	    <result column="BLACKLISTLEVEL" property="blacklistlevel" jdbcType="VARCHAR" />
	    <result column="INSUREDTYPE" property="insuredtype" jdbcType="VARCHAR" />
	    <result column="INSUREDCODE" property="insuredcode" jdbcType="VARCHAR" />
	    <result column="INSUREDNAME" property="insuredname" jdbcType="VARCHAR" />
	    <result column="IDENTIFYTYPE" property="identifytype" jdbcType="DECIMAL" />
	    <result column="IDENTIFYNUMBER" property="identifynumber" jdbcType="DECIMAL" />
	    <result column="CHEATMEANS" property="cheatmeans" jdbcType="DECIMAL" />
	    <result column="CHEATDATE" property="cheatdate" jdbcType="DECIMAL" />
	    <result column="MAKECOM" property="makecom" jdbcType="VARCHAR" />
	    <result column="OPERATORCODE" property="operatorcode" jdbcType="VARCHAR" />
	    <result column="INPUTDATE" property="inputdate" jdbcType="VARCHAR" />
	    <result column="PHONENUMBER" property="phonenumber" jdbcType="VARCHAR" />
	    <result column="REMARK" property="remark" jdbcType="VARCHAR" />
	    <result column="FLAG" property="flag" jdbcType="VARCHAR" />
	    <result column="INSUREDENAME" property="insuredename" jdbcType="VARCHAR" />
	    <result column="EMAIL" property="email" jdbcType="VARCHAR" />
	    <result column="MOBILE" property="mobile" jdbcType="VARCHAR" />
	    <result column="ADDRESSENAME" property="addressename" jdbcType="VARCHAR" />
	    <result column="ADDRESSCNAME" property="addresscname" jdbcType="VARCHAR" />
	    <result column="SEX" property="sex" jdbcType="VARCHAR" />
	    <result column="LINKADDRESS" property="linkaddress" jdbcType="VARCHAR" />
	    <result column="POSTCODE" property="postcode" jdbcType="VARCHAR" />
	    <result column="BANKCODE1" property="bankcode1" jdbcType="VARCHAR" />
	    <result column="BANKCODE2" property="bankcode2" jdbcType="VARCHAR" />
	    <result column="BANK" property="bank" jdbcType="VARCHAR" />
	    <result column="ACCOUNT" property="account" jdbcType="VARCHAR" />
	    <result column="INSUREDIDVNOTE" property="insuredidvnote" jdbcType="VARCHAR" />
	    <result column="RISKCODE" property="riskcode" jdbcType="VARCHAR" />
	</resultMap>

	<select id="count" resultClass="java.lang.Integer" parameterClass="java.util.Map">
		SELECT COUNT(*) FROM <include refid="Utils.prpinsSchema"/>UWBLACKLIST
		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="identifynumber">
				IDENTIFYNUMBER = #identifynumber#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="riskCodeNotNull">
				RISKCODE IS NOT NULL
			</isNotEmpty>
		</dynamic>
	</select>

</sqlMap>